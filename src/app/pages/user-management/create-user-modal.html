<!-- Create User Modal -->
<div class="modal-backdrop" *ngIf="showCreateUserModal" (click)="closeCreateUserModal()">
  <div class="modal-content create-user-modal" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h2><i class="fas fa-user-plus"></i> Create New User</h2>
      <button class="close-btn" (click)="closeCreateUserModal()">
        <i class="fas fa-times"></i>
      </button>
    </div>
    
    <div class="modal-body" *ngIf="!createUserSuccess">
      <form class="user-form" (ngSubmit)="createNewUser()">
        <!-- Name Field -->
        <div class="form-group">
          <label for="user-name">Full Name *</label>
          <input 
            type="text" 
            id="user-name"
            [(ngModel)]="newUserForm.name"
            name="name"
            placeholder="Enter full name"
            class="form-control"
            [class.is-invalid]="createUserErrors['name']">
          <span class="error-message" *ngIf="createUserErrors['name']">
            {{ createUserErrors['name'] }}
          </span>
        </div>

        <!-- Email Field -->
        <div class="form-group">
          <label for="user-email">Email *</label>
          <input 
            type="email" 
            id="user-email"
            [(ngModel)]="newUserForm.email"
            name="email"
            placeholder="Enter email address"
            class="form-control"
            [class.is-invalid]="createUserErrors['email']">
          <span class="error-message" *ngIf="createUserErrors['email']">
            {{ createUserErrors['email'] }}
          </span>
        </div>

        <!-- Phone Field -->
        <div class="form-group">
          <label for="user-phone">Phone Number *</label>
          <input 
            type="tel" 
            id="user-phone"
            [(ngModel)]="newUserForm.phone"
            name="phone"
            placeholder="Enter 10-digit phone number"
            class="form-control"
            maxlength="10"
            [class.is-invalid]="createUserErrors['phone']">
          <span class="error-message" *ngIf="createUserErrors['phone']">
            {{ createUserErrors['phone'] }}
          </span>
        </div>

        <!-- Password Field -->
        <div class="form-group">
          <label for="user-password">Password *</label>
          <input 
            type="password" 
            id="user-password"
            [(ngModel)]="newUserForm.password"
            name="password"
            placeholder="Enter password (min 6 characters)"
            class="form-control"
            [class.is-invalid]="createUserErrors['password']">
          <span class="error-message" *ngIf="createUserErrors['password']">
            {{ createUserErrors['password'] }}
          </span>
        </div>

        <!-- Role Field -->
        <div class="form-group">
          <label for="user-role">User Role *</label>
          <select 
            id="user-role"
            [(ngModel)]="newUserForm.role"
            name="role"
            class="form-control">
            <option value="user">Regular User</option>
            <option value="admin">Administrator</option>
          </select>
        </div>
      </form>
    </div>

    <!-- Success Message -->
    <div class="modal-body" *ngIf="createUserSuccess">
      <div class="success-message">
        <i class="fas fa-check-circle"></i>
        <h3>User Created Successfully!</h3>
        <p>The new user has been added to the system.</p>
      </div>
    </div>
    
    <div class="modal-footer">
      <button class="btn btn-secondary" (click)="closeCreateUserModal()" *ngIf="!createUserSuccess">
        Cancel
      </button>
      <button class="btn btn-primary" (click)="createNewUser()" *ngIf="!createUserSuccess">
        <i class="fas fa-save"></i> Create User
      </button>
      <button class="btn btn-primary" (click)="closeCreateUserModal()" *ngIf="createUserSuccess">
        <i class="fas fa-check"></i> Done
      </button>
    </div>
  </div>
</div>
