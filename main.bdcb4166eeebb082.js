"use strict";(self.webpackChunkvsp_electronics=self.webpackChunkvsp_electronics||[]).push([[792],{612:(Cu,r_,xu)=>{var bs={};function i_(t,n,e,o,r,i,s){try{var l=t[i](s),u=l.value}catch(g){return void e(g)}l.done?n(u):Promise.resolve(u).then(o,r)}function xe(t){return function(){var n=this,e=arguments;return new Promise(function(o,r){var i=t.apply(n,e);function s(u){i_(i,o,r,s,l,"next",u)}function l(u){i_(i,o,r,s,l,"throw",u)}s(void 0)})}}function s_(t,n){return Object.is(t,n)}xu.r(bs),xu.d(bs,{Decoder:()=>Xm,Encoder:()=>IB,PacketType:()=>ge,isPacketValid:()=>RB,protocol:()=>SB});let _t=null,ys=!1,yc=1;const kn=Symbol("SIGNAL");function le(t){const n=_t;return _t=t,n}const vc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Mu(t){if(ys)throw new Error("");if(null===_t)return;_t.consumerOnSignalRead(t);const n=_t.nextProducerIndex++;Wr(_t),n<_t.producerNode.length&&_t.producerNode[n]!==t&&vs(_t)&&Cc(_t.producerNode[n],_t.producerIndexOfThis[n]),_t.producerNode[n]!==t&&(_t.producerNode[n]=t,_t.producerIndexOfThis[n]=vs(_t)?g_(t,_t,n):0),_t.producerLastReadVersion[n]=t.version}function c_(t){if((!vs(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==yc)){if(!t.producerMustRecompute(t)&&!Ou(t))return t.dirty=!1,void(t.lastCleanEpoch=yc);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=yc}}function l_(t){if(void 0===t.liveConsumerNode)return;const n=ys;ys=!0;try{for(const e of t.liveConsumerNode)e.dirty||u_(e)}finally{ys=n}}function d_(){return!1!==_t?.consumerAllowSignalWrites}function u_(t){t.dirty=!0,l_(t),t.consumerMarkedDirty?.(t)}function Pu(t){return t&&(t.nextProducerIndex=0),le(t)}function wu(t,n){if(le(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(vs(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)Cc(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ou(t){Wr(t);for(let n=0;n<t.producerNode.length;n++){const e=t.producerNode[n],o=t.producerLastReadVersion[n];if(o!==e.version||(c_(e),o!==e.version))return!0}return!1}function p_(t){if(Wr(t),vs(t))for(let n=0;n<t.producerNode.length;n++)Cc(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function g_(t,n,e){if(f_(t),Wr(t),0===t.liveConsumerNode.length)for(let o=0;o<t.producerNode.length;o++)t.producerIndexOfThis[o]=g_(t.producerNode[o],t,o);return t.liveConsumerIndexOfThis.push(e),t.liveConsumerNode.push(n)-1}function Cc(t,n){if(f_(t),Wr(t),1===t.liveConsumerNode.length)for(let o=0;o<t.producerNode.length;o++)Cc(t.producerNode[o],t.producerIndexOfThis[o]);const e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const o=t.liveConsumerIndexOfThis[n],r=t.liveConsumerNode[n];Wr(r),r.producerIndexOfThis[o]=n}}function vs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Wr(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function f_(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}const ku=Symbol("UNSET"),Du=Symbol("COMPUTING"),xc=Symbol("ERRORED"),PO={...vc,value:ku,dirty:!0,error:null,equal:s_,producerMustRecompute:t=>t.value===ku||t.value===Du,producerRecomputeValue(t){if(t.value===Du)throw new Error("Detected cycle in computations.");const n=t.value;t.value=Du;const e=Pu(t);let o;try{o=t.computation()}catch(r){o=xc,t.error=r}finally{wu(t,e)}n!==ku&&n!==xc&&o!==xc&&t.equal(n,o)?t.value=n:(t.value=o,t.version++)}};let h_=function wO(){throw new Error};function m_(){h_()}let Su=null;function __(t,n){d_()||m_(),t.equal(t.value,n)||(t.value=n,function IO(t){t.version++,function xO(){yc++}(),l_(t),Su?.()}(t))}const SO={...vc,equal:s_,value:void 0};const Iu=()=>{},EO={...vc,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{null!==t.schedule&&t.schedule(t.ref)},hasRun:!1,cleanupFn:Iu};function qe(t){return"function"==typeof t}function Tu(t){const e=t(o=>{Error.call(o),o.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const Eu=Tu(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((o,r)=>`${r+1}) ${o.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Au(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class Jt{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const i of e)i.remove(this);else e.remove(this);const{initialTeardown:o}=this;if(qe(o))try{o()}catch(i){n=i instanceof Eu?i.errors:[i]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const i of r)try{v_(i)}catch(s){n=n??[],s instanceof Eu?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Eu(n)}}add(n){var e;if(n&&n!==this)if(this.closed)v_(n);else{if(n instanceof Jt){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&Au(e,n)}remove(n){const{_finalizers:e}=this;e&&Au(e,n),n instanceof Jt&&n._removeParent(this)}}Jt.EMPTY=(()=>{const t=new Jt;return t.closed=!0,t})();const b_=Jt.EMPTY;function y_(t){return t instanceof Jt||t&&"closed"in t&&qe(t.remove)&&qe(t.add)&&qe(t.unsubscribe)}function v_(t){qe(t)?t():t.unsubscribe()}const mr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Mc={setTimeout(t,n,...e){const{delegate:o}=Mc;return o?.setTimeout?o.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){const{delegate:n}=Mc;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function C_(t){Mc.setTimeout(()=>{const{onUnhandledError:n}=mr;if(!n)throw t;n(t)})}function Nu(){}const AO=Fu("C",void 0,void 0);function Fu(t,n,e){return{kind:t,value:n,error:e}}let _r=null;function Pc(t){if(mr.useDeprecatedSynchronousErrorHandling){const n=!_r;if(n&&(_r={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:o}=_r;if(_r=null,e)throw o}}else t()}class Ru extends Jt{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,y_(n)&&n.add(this)):this.destination=BO}static create(n,e,o){return new Gr(n,e,o)}next(n){this.isStopped?Uu(function FO(t){return Fu("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?Uu(function NO(t){return Fu("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Uu(AO,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const LO=Function.prototype.bind;function Lu(t,n){return LO.call(t,n)}class UO{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(o){wc(o)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(o){wc(o)}else wc(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){wc(e)}}}class Gr extends Ru{constructor(n,e,o){let r;if(super(),qe(n)||!n)r={next:n??void 0,error:e??void 0,complete:o??void 0};else{let i;this&&mr.useDeprecatedNextContext?(i=Object.create(n),i.unsubscribe=()=>this.unsubscribe(),r={next:n.next&&Lu(n.next,i),error:n.error&&Lu(n.error,i),complete:n.complete&&Lu(n.complete,i)}):r=n}this.destination=new UO(r)}}function wc(t){mr.useDeprecatedSynchronousErrorHandling?function RO(t){mr.useDeprecatedSynchronousErrorHandling&&_r&&(_r.errorThrown=!0,_r.error=t)}(t):C_(t)}function Uu(t,n){const{onStoppedNotification:e}=mr;e&&Mc.setTimeout(()=>e(t,n))}const BO={closed:!0,next:Nu,error:function VO(t){throw t},complete:Nu},Vu="function"==typeof Symbol&&Symbol.observable||"@@observable";function br(t){return t}function x_(t){return 0===t.length?br:1===t.length?t[0]:function(e){return t.reduce((o,r)=>r(o),e)}}let it=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const o=new t;return o.source=this,o.operator=e,o}subscribe(e,o,r){const i=function $O(t){return t&&t instanceof Ru||function jO(t){return t&&qe(t.next)&&qe(t.error)&&qe(t.complete)}(t)&&y_(t)}(e)?e:new Gr(e,o,r);return Pc(()=>{const{operator:s,source:l}=this;i.add(s?s.call(i,l):l?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(e){try{return this._subscribe(e)}catch(o){e.error(o)}}forEach(e,o){return new(o=M_(o))((r,i)=>{const s=new Gr({next:l=>{try{e(l)}catch(u){i(u),s.unsubscribe()}},error:i,complete:r});this.subscribe(s)})}_subscribe(e){var o;return null===(o=this.source)||void 0===o?void 0:o.subscribe(e)}[Vu](){return this}pipe(...e){return x_(e)(this)}toPromise(e){return new(e=M_(e))((o,r)=>{let i;this.subscribe(s=>i=s,s=>r(s),()=>o(i))})}}return t.create=n=>new t(n),t})();function M_(t){var n;return null!==(n=t??mr.Promise)&&void 0!==n?n:Promise}const HO=Tu(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let jt=(()=>{class t extends it{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const o=new P_(this,this);return o.operator=e,o}_throwIfClosed(){if(this.closed)throw new HO}next(e){Pc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const o of this.currentObservers)o.next(e)}})}error(e){Pc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:o}=this;for(;o.length;)o.shift().error(e)}})}complete(){Pc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:o,isStopped:r,observers:i}=this;return o||r?b_:(this.currentObservers=null,i.push(e),new Jt(()=>{this.currentObservers=null,Au(i,e)}))}_checkFinalizedStatuses(e){const{hasError:o,thrownError:r,isStopped:i}=this;o?e.error(r):i&&e.complete()}asObservable(){const e=new it;return e.source=this,e}}return t.create=(n,e)=>new P_(n,e),t})();class P_ extends jt{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,o;null===(o=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===o||o.call(e,n)}error(n){var e,o;null===(o=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===o||o.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,o;return null!==(o=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==o?o:b_}}class st extends jt{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:o}=this;if(n)throw e;return this._throwIfClosed(),o}next(n){super.next(this._value=n)}}function w_(t){return qe(t?.lift)}function Dt(t){return n=>{if(w_(n))return n.lift(function(e){try{return t(e,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}function bt(t,n,e,o,r){return new qO(t,n,e,o,r)}class qO extends Ru{constructor(n,e,o,r,i,s){super(n),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=e?function(l){try{e(l)}catch(u){n.error(u)}}:super._next,this._error=r?function(l){try{r(l)}catch(u){n.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=o?function(){try{o()}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function ie(t,n){return Dt((e,o)=>{let r=0;e.subscribe(bt(o,i=>{o.next(t.call(n,i,r++))}))})}const O_="https://g.co/ng/security#xss";class U extends Error{constructor(n,e){super(function Yr(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,e)),this.code=n}}function Mo(t){return{toString:t}.toString()}const Qr="__parameters__";function Xr(t,n,e){return Mo(()=>{const o=function Bu(t){return function(...e){if(t){const o=t(...e);for(const r in o)this[r]=o[r]}}}(n);function r(...i){if(this instanceof r)return o.apply(this,i),this;const s=new r(...i);return l.annotation=s,l;function l(u,g,m){const _=u.hasOwnProperty(Qr)?u[Qr]:Object.defineProperty(u,Qr,{value:[]})[Qr];for(;_.length<=m;)_.push(null);return(_[m]=_[m]||[]).push(s),u}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}const Oe=globalThis;function Ie(t){for(let n in t)if(t[n]===Ie)return n;throw Error("Could not find renamed property on target object.")}function WO(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function yt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(yt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function zu(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const GO=Ie({__forward_ref__:Ie});function Ve(t){return t.__forward_ref__=Ve,t.toString=function(){return yt(this())},t}function X(t){return kc(t)?t():t}function kc(t){return"function"==typeof t&&t.hasOwnProperty(GO)&&t.__forward_ref__===Ve}function z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function jo(t){return{providers:t.providers||[],imports:t.imports||[]}}function Dc(t){return I_(t,Ic)||I_(t,T_)}function I_(t,n){return t.hasOwnProperty(n)?t[n]:null}function Sc(t){return t&&(t.hasOwnProperty(ju)||t.hasOwnProperty(ZO))?t[ju]:null}const Ic=Ie({\u0275prov:Ie}),ju=Ie({\u0275inj:Ie}),T_=Ie({ngInjectableDef:Ie}),ZO=Ie({ngInjectorDef:Ie});class H{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=z({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Gu(t){return t&&!!t.\u0275providers}const Cs=Ie({\u0275cmp:Ie}),Yu=Ie({\u0275dir:Ie}),Ku=Ie({\u0275pipe:Ie}),A_=Ie({\u0275mod:Ie}),Po=Ie({\u0275fac:Ie}),xs=Ie({__NG_ELEMENT_ID__:Ie}),N_=Ie({__NG_ENV_ID__:Ie});function ne(t){return"string"==typeof t?t:null==t?"":String(t)}function Qu(t,n){throw new U(-201,!1)}var fe=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(fe||{});let Ju;function F_(){return Ju}function Xt(t){const n=Ju;return Ju=t,n}function R_(t,n,e){const o=Dc(t);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:e&fe.Optional?null:void 0!==n?n:void Qu()}const Ms={},Xu="__NG_DI_FLAG__",Tc="ngTempTokenPath",i3=/\n/gm,L_="__source";let Zr;function $o(t){const n=Zr;return Zr=t,n}function c3(t,n=fe.Default){if(void 0===Zr)throw new U(-203,!1);return null===Zr?R_(t,void 0,n):Zr.get(t,n&fe.Optional?null:void 0,n)}function W(t,n=fe.Default){return(F_()||c3)(X(t),n)}function w(t,n=fe.Default){return W(t,Ec(n))}function Ec(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Zu(t){const n=[];for(let e=0;e<t.length;e++){const o=X(t[e]);if(Array.isArray(o)){if(0===o.length)throw new U(900,!1);let r,i=fe.Default;for(let s=0;s<o.length;s++){const l=o[s],u=l3(l);"number"==typeof u?-1===u?r=l.token:i|=u:r=l}n.push(W(r,i))}else n.push(W(o))}return n}function Ps(t,n){return t[Xu]=n,t.prototype[Xu]=n,t}function l3(t){return t[Xu]}const Ac=Ps(Xr("Optional"),8),Nc=Ps(Xr("SkipSelf"),4);function yr(t,n){return t.hasOwnProperty(Po)?t[Po]:null}function ei(t,n){t.forEach(e=>Array.isArray(e)?ei(e,n):n(e))}function V_(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function Fc(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function ln(t,n,e){let o=ti(t,n);return o>=0?t[1|o]=e:(o=~o,function B_(t,n,e,o){let r=t.length;if(r==n)t.push(e,o);else if(1===r)t.push(o,t[0]),t[0]=e;else{for(r--,t.push(t[r-1],t[r]);r>n;)t[r]=t[r-2],r--;t[n]=e,t[n+1]=o}}(t,o,n,e)),o}function tp(t,n){const e=ti(t,n);if(e>=0)return t[1|e]}function ti(t,n){return function z_(t,n,e){let o=0,r=t.length>>e;for(;r!==o;){const i=o+(r-o>>1),s=t[i<<e];if(n===s)return i<<e;s>n?r=i:o=i+1}return~(r<<e)}(t,n,1)}const qn={},ye=[],vr=new H(""),j_=new H("",-1),np=new H("");class Lc{get(n,e=Ms){if(e===Ms){const o=new Error(`NullInjectorError: No provider for ${yt(n)}!`);throw o.name="NullInjectorError",o}return e}}var Uc=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Uc||{}),Dn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Dn||{}),We=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(We||{});function m3(t,n,e){let o=t.length;for(;;){const r=t.indexOf(n,e);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const i=n.length;if(r+i===o||t.charCodeAt(r+i)<=32)return r}e=r+1}}function op(t,n,e){let o=0;for(;o<e.length;){const r=e[o];if("number"==typeof r){if(0!==r)break;o++;const i=e[o++],s=e[o++],l=e[o++];t.setAttribute(n,s,l,i)}else{const i=r,s=e[++o];H_(i)?t.setProperty(n,i,s):t.setAttribute(n,i,s),o++}}return o}function $_(t){return 3===t||4===t||6===t}function H_(t){return 64===t.charCodeAt(0)}function ws(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let o=0;o<n.length;o++){const r=n[o];"number"==typeof r?e=r:0===e||q_(t,e,r,null,-1===e||2===e?n[++o]:null)}}return t}function q_(t,n,e,o,r){let i=0,s=t.length;if(-1===n)s=-1;else for(;i<t.length;){const l=t[i++];if("number"==typeof l){if(l===n){s=-1;break}if(l>n){s=i-1;break}}}for(;i<t.length;){const l=t[i];if("number"==typeof l)break;if(l===e){if(null===o)return void(null!==r&&(t[i+1]=r));if(o===t[i+1])return void(t[i+2]=r)}i++,null!==o&&i++,null!==r&&i++}-1!==s&&(t.splice(s,0,n),i=s+1),t.splice(i++,0,e),null!==o&&t.splice(i++,0,o),null!==r&&t.splice(i++,0,r)}const W_="ng-template";function _3(t,n,e,o){let r=0;if(o){for(;r<n.length&&"string"==typeof n[r];r+=2)if("class"===n[r]&&-1!==m3(n[r+1].toLowerCase(),e,0))return!0}else if(rp(t))return!1;if(r=n.indexOf(1,r),r>-1){let i;for(;++r<n.length&&"string"==typeof(i=n[r]);)if(i.toLowerCase()===e)return!0}return!1}function rp(t){return 4===t.type&&t.value!==W_}function b3(t,n,e){return n===(4!==t.type||e?t.value:W_)}function y3(t,n,e){let o=4;const r=t.attrs,i=null!==r?function x3(t){for(let n=0;n<t.length;n++)if($_(t[n]))return n;return t.length}(r):0;let s=!1;for(let l=0;l<n.length;l++){const u=n[l];if("number"!=typeof u){if(!s)if(4&o){if(o=2|1&o,""!==u&&!b3(t,u,e)||""===u&&1===n.length){if(Sn(o))return!1;s=!0}}else if(8&o){if(null===r||!_3(t,r,u,e)){if(Sn(o))return!1;s=!0}}else{const g=n[++l],m=v3(u,r,rp(t),e);if(-1===m){if(Sn(o))return!1;s=!0;continue}if(""!==g){let _;if(_=m>i?"":r[m+1].toLowerCase(),2&o&&g!==_){if(Sn(o))return!1;s=!0}}}}else{if(!s&&!Sn(o)&&!Sn(u))return!1;if(s&&Sn(u))continue;s=!1,o=u|1&o}}return Sn(o)||s}function Sn(t){return!(1&t)}function v3(t,n,e,o){if(null===n)return-1;let r=0;if(o||!e){let i=!1;for(;r<n.length;){const s=n[r];if(s===t)return r;if(3===s||6===s)i=!0;else{if(1===s||2===s){let l=n[++r];for(;"string"==typeof l;)l=n[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=i?1:2}return-1}return function M3(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const o=t[e];if("number"==typeof o)return-1;if(o===n)return e;e++}return-1}(n,t)}function G_(t,n,e=!1){for(let o=0;o<n.length;o++)if(y3(t,n[o],e))return!0;return!1}function P3(t,n){e:for(let e=0;e<n.length;e++){const o=n[e];if(t.length===o.length){for(let r=0;r<t.length;r++)if(t[r]!==o[r])continue e;return!0}}return!1}function Y_(t,n){return t?":not("+n.trim()+")":n}function w3(t){let n=t[0],e=1,o=2,r="",i=!1;for(;e<t.length;){let s=t[e];if("string"==typeof s)if(2&o){const l=t[++e];r+="["+s+(l.length>0?'="'+l+'"':"")+"]"}else 8&o?r+="."+s:4&o&&(r+=" "+s);else""!==r&&!Sn(s)&&(n+=Y_(i,r),r=""),o=s,i=i||!Sn(o);e++}return""!==r&&(n+=Y_(i,r)),n}function se(t){return Mo(()=>{const n=Q_(t),e={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Uc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Dn.Emulated,styles:t.styles||ye,_:null,schemas:t.schemas||null,tView:null,id:""};J_(e);const o=t.dependencies;return e.directiveDefs=Vc(o,!1),e.pipeDefs=Vc(o,!0),e.id=function T3(t){let n=0;const e=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const r of e)n=Math.imul(31,n)+r.charCodeAt(0)|0;return n+=2147483648,"c"+n}(e),e})}function D3(t){return de(t)||vt(t)}function S3(t){return null!==t}function Cr(t){return Mo(()=>({type:t.type,bootstrap:t.bootstrap||ye,declarations:t.declarations||ye,imports:t.imports||ye,exports:t.exports||ye,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function K_(t,n){if(null==t)return qn;const e={};for(const o in t)if(t.hasOwnProperty(o)){const r=t[o];let i,s,l=We.None;Array.isArray(r)?(l=r[0],i=r[1],s=r[2]??i):(i=r,s=r),n?(e[i]=l!==We.None?[o,l]:o,n[i]=s):e[i]=o}return e}function te(t){return Mo(()=>{const n=Q_(t);return J_(n),n})}function en(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function de(t){return t[Cs]||null}function vt(t){return t[Yu]||null}function Tt(t){return t[Ku]||null}function Nt(t,n){const e=t[A_]||null;if(!e&&!0===n)throw new Error(`Type ${yt(t)} does not have '\u0275mod' property.`);return e}function Q_(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||qn,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||ye,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:K_(t.inputs,n),outputs:K_(t.outputs),debugInfo:null}}function J_(t){t.features?.forEach(n=>n(t))}function Vc(t,n){if(!t)return null;const e=n?Tt:D3;return()=>("function"==typeof t?t():t).map(o=>e(o)).filter(S3)}function ni(t){return{\u0275providers:t}}function E3(...t){return{\u0275providers:ip(0,t),\u0275fromNgModule:!0}}function ip(t,...n){const e=[],o=new Set;let r;const i=s=>{e.push(s)};return ei(n,s=>{const l=s;Bc(l,i,[],o)&&(r||=[],r.push(l))}),void 0!==r&&X_(r,i),e}function X_(t,n){for(let e=0;e<t.length;e++){const{ngModule:o,providers:r}=t[e];sp(r,i=>{n(i,o)})}}function Bc(t,n,e,o){if(!(t=X(t)))return!1;let r=null,i=Sc(t);const s=!i&&de(t);if(i||s){if(s&&!s.standalone)return!1;r=t}else{const u=t.ngModule;if(i=Sc(u),!i)return!1;r=u}const l=o.has(r);if(s){if(l)return!1;if(o.add(r),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const g of u)Bc(g,n,e,o)}}else{if(!i)return!1;{if(null!=i.imports&&!l){let g;o.add(r);try{ei(i.imports,m=>{Bc(m,n,e,o)&&(g||=[],g.push(m))})}finally{}void 0!==g&&X_(g,n)}if(!l){const g=yr(r)||(()=>new r);n({provide:r,useFactory:g,deps:ye},r),n({provide:np,useValue:r,multi:!0},r),n({provide:vr,useValue:()=>W(r),multi:!0},r)}const u=i.providers;if(null!=u&&!l){const g=t;sp(u,m=>{n(m,g)})}}}return r!==t&&void 0!==t.providers}function sp(t,n){for(let e of t)Gu(e)&&(e=e.\u0275providers),Array.isArray(e)?sp(e,n):n(e)}const A3=Ie({provide:String,useValue:Ie});function ap(t){return null!==t&&"object"==typeof t&&A3 in t}function xr(t){return"function"==typeof t}const cp=new H(""),zc={},F3={};let lp;function jc(){return void 0===lp&&(lp=new Lc),lp}class $t{}class oi extends $t{get destroyed(){return this._destroyed}constructor(n,e,o,r){super(),this.parent=e,this.source=o,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,up(n,s=>this.processProvider(s)),this.records.set(j_,ri(void 0,this)),r.has("environment")&&this.records.set($t,ri(void 0,this));const i=this.records.get(cp);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(np,ye,fe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=le(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of e)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),le(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const e=$o(this),o=Xt(void 0);try{return n()}finally{$o(e),Xt(o)}}get(n,e=Ms,o=fe.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(N_))return n[N_](this);o=Ec(o);const i=$o(this),s=Xt(void 0);try{if(!(o&fe.SkipSelf)){let u=this.records.get(n);if(void 0===u){const g=function B3(t){return"function"==typeof t||"object"==typeof t&&t instanceof H}(n)&&Dc(n);u=g&&this.injectableDefInScope(g)?ri(dp(n),zc):null,this.records.set(n,u)}if(null!=u)return this.hydrate(n,u)}return(o&fe.Self?jc():this.parent).get(n,e=o&fe.Optional&&e===Ms?null:e)}catch(l){if("NullInjectorError"===l.name){if((l[Tc]=l[Tc]||[]).unshift(yt(n)),i)throw l;return function d3(t,n,e,o){const r=t[Tc];throw n[L_]&&r.unshift(n[L_]),t.message=function u3(t,n,e,o=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let r=yt(n);if(Array.isArray(n))r=n.map(yt).join(" -> ");else if("object"==typeof n){let i=[];for(let s in n)if(n.hasOwnProperty(s)){let l=n[s];i.push(s+":"+("string"==typeof l?JSON.stringify(l):yt(l)))}r=`{${i.join(", ")}}`}return`${e}${o?"("+o+")":""}[${r}]: ${t.replace(i3,"\n  ")}`}("\n"+t.message,r,e,o),t.ngTokenPath=r,t[Tc]=null,t}(l,n,"R3InjectorError",this.source)}throw l}finally{Xt(s),$o(i)}}resolveInjectorInitializers(){const n=le(null),e=$o(this),o=Xt(void 0);try{const i=this.get(vr,ye,fe.Self);for(const s of i)s()}finally{$o(e),Xt(o),le(n)}}toString(){const n=[],e=this.records;for(const o of e.keys())n.push(yt(o));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new U(205,!1)}processProvider(n){let e=xr(n=X(n))?n:X(n&&n.provide);const o=function L3(t){return ap(t)?ri(void 0,t.useValue):ri(t0(t),zc)}(n);if(!xr(n)&&!0===n.multi){let r=this.records.get(e);r||(r=ri(void 0,zc,!0),r.factory=()=>Zu(r.multi),this.records.set(e,r)),e=n,r.multi.push(n)}this.records.set(e,o)}hydrate(n,e){const o=le(null);try{return e.value===zc&&(e.value=F3,e.value=e.factory()),"object"==typeof e.value&&e.value&&function V3(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{le(o)}}injectableDefInScope(n){if(!n.providedIn)return!1;const e=X(n.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){const e=this._onDestroyHooks.indexOf(n);-1!==e&&this._onDestroyHooks.splice(e,1)}}function dp(t){const n=Dc(t),e=null!==n?n.factory:yr(t);if(null!==e)return e;if(t instanceof H)throw new U(204,!1);if(t instanceof Function)return function R3(t){if(t.length>0)throw new U(204,!1);const e=function XO(t){return t&&(t[Ic]||t[T_])||null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new U(204,!1)}function t0(t,n,e){let o;if(xr(t)){const r=X(t);return yr(r)||dp(r)}if(ap(t))o=()=>X(t.useValue);else if(function e0(t){return!(!t||!t.useFactory)}(t))o=()=>t.useFactory(...Zu(t.deps||[]));else if(function Z_(t){return!(!t||!t.useExisting)}(t))o=()=>W(X(t.useExisting));else{const r=X(t&&(t.useClass||t.provide));if(!function U3(t){return!!t.deps}(t))return yr(r)||dp(r);o=()=>new r(...Zu(t.deps))}return o}function ri(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function up(t,n){for(const e of t)Array.isArray(e)?up(e,n):e&&Gu(e)?up(e.\u0275providers,n):n(e)}function Wn(t,n){t instanceof oi&&t.assertNotDestroyed();const o=$o(t),r=Xt(void 0);try{return n()}finally{$o(o),Xt(r)}}function n0(){return void 0!==F_()||null!=function a3(){return Zr}()}function $c(t){if(!n0())throw new U(-203,!1)}const Ye=0,j=1,Y=2,at=3,In=4,Ft=5,dn=6,si=7,Be=8,gt=9,Tn=10,Z=11,ks=12,r0=13,ai=14,Je=15,Ds=16,ci=17,wo=18,Ss=19,s0=20,qo=21,qc=22,Mr=23,oe=25,gp=1,Gn=7,li=9,ct=10;var fp=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(fp||{});function Rt(t){return Array.isArray(t)&&"object"==typeof t[gp]}function Lt(t){return Array.isArray(t)&&!0===t[gp]}function hp(t){return!!(4&t.flags)}function Pr(t){return t.componentOffset>-1}function Gc(t){return!(1&~t.flags)}function En(t){return!!t.template}function mp(t){return!!(512&t[Y])}class Z3{constructor(n,e,o){this.previousValue=n,this.currentValue=e,this.firstChange=o}isFirstChange(){return this.firstChange}}function d0(t,n,e,o){null!==n?n.applyValueToInputSignal(n,o):t[e]=o}function vn(){return u0}function u0(t){return t.type.prototype.ngOnChanges&&(t.setInput=tk),ek}function ek(){const t=g0(this),n=t?.current;if(n){const e=t.previous;if(e===qn)t.previous=n;else for(let o in n)e[o]=n[o];t.current=null,this.ngOnChanges(n)}}function tk(t,n,e,o,r){const i=this.declaredInputs[o],s=g0(t)||function nk(t,n){return t[p0]=n}(t,{previous:qn,current:null}),l=s.current||(s.current={}),u=s.previous,g=u[i];l[i]=new Z3(g&&g.currentValue,e,u===qn),d0(t,n,r,e)}vn.ngInherit=!0;const p0="__ngSimpleChanges__";function g0(t){return t[p0]||null}const Yn=function(t,n,e){};let m0=!1;function Re(t){for(;Array.isArray(t);)t=t[Ye];return t}function Ts(t,n){return Re(n[t])}function Ht(t,n){return Re(n[t.index])}function Es(t,n){return t.data[n]}function di(t,n){return t[n]}function un(t,n){const e=n[t];return Rt(e)?e:e[Ye]}function Cp(t){return!(128&~t[Y])}function Kn(t,n){return null==n?null:t[n]}function _0(t){t[ci]=0}function ck(t){1024&t[Y]||(t[Y]|=1024,Cp(t)&&As(t))}function xp(t){return!!(9216&t[Y]||t[Mr]?.dirty)}function Mp(t){t[Tn].changeDetectionScheduler?.notify(1),xp(t)?As(t):64&t[Y]&&(function rk(){return m0}()?(t[Y]|=1024,As(t)):t[Tn].changeDetectionScheduler?.notify())}function As(t){t[Tn].changeDetectionScheduler?.notify();let n=wr(t);for(;null!==n&&!(8192&n[Y])&&(n[Y]|=8192,Cp(n));)n=wr(n)}function Yc(t,n){if(!(256&~t[Y]))throw new U(911,!1);null===t[qo]&&(t[qo]=[]),t[qo].push(n)}function wr(t){const n=t[at];return Lt(n)?n[at]:n}const ee={lFrame:k0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function v0(){return ee.bindingsEnabled}function ui(){return null!==ee.skipHydrationRootTNode}function L(){return ee.lFrame.lView}function he(){return ee.lFrame.tView}function y(t){return ee.lFrame.contextLView=t,t[Be]}function v(t){return ee.lFrame.contextLView=null,t}function Te(){let t=C0();for(;null!==t&&64===t.type;)t=t.parent;return t}function C0(){return ee.lFrame.currentTNode}function Qn(t,n){const e=ee.lFrame;e.currentTNode=t,e.isParent=n}function wp(){return ee.lFrame.isParent}function Op(){ee.lFrame.isParent=!1}function qt(){const t=ee.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Oo(){return ee.lFrame.bindingIndex}function An(){return ee.lFrame.bindingIndex++}function ko(t){const n=ee.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function yk(t,n){const e=ee.lFrame;e.bindingIndex=e.bindingRootIndex=t,kp(n)}function kp(t){ee.lFrame.currentDirectiveIndex=t}function Sp(){return ee.lFrame.currentQueryIndex}function Kc(t){ee.lFrame.currentQueryIndex=t}function Ck(t){const n=t[j];return 2===n.type?n.declTNode:1===n.type?t[Ft]:null}function w0(t,n,e){if(e&fe.SkipSelf){let r=n,i=t;for(;!(r=r.parent,null!==r||e&fe.Host||(r=Ck(i),null===r||(i=i[ai],10&r.type))););if(null===r)return!1;n=r,t=i}const o=ee.lFrame=O0();return o.currentTNode=n,o.lView=t,!0}function Ip(t){const n=O0(),e=t[j];ee.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function O0(){const t=ee.lFrame,n=null===t?null:t.child;return null===n?k0(t):n}function k0(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function D0(){const t=ee.lFrame;return ee.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const S0=D0;function Tp(){const t=D0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ut(){return ee.lFrame.selectedIndex}function Or(t){ee.lFrame.selectedIndex=t}function ze(){const t=ee.lFrame;return Es(t.tView,t.selectedIndex)}let T0=!0;function Fs(){return T0}function Jn(t){T0=t}function Qc(t,n){for(let e=n.directiveStart,o=n.directiveEnd;e<o;e++){const i=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:l,ngAfterViewInit:u,ngAfterViewChecked:g,ngOnDestroy:m}=i;s&&(t.contentHooks??=[]).push(-e,s),l&&((t.contentHooks??=[]).push(e,l),(t.contentCheckHooks??=[]).push(e,l)),u&&(t.viewHooks??=[]).push(-e,u),g&&((t.viewHooks??=[]).push(e,g),(t.viewCheckHooks??=[]).push(e,g)),null!=m&&(t.destroyHooks??=[]).push(e,m)}}function Jc(t,n,e){E0(t,n,3,e)}function Xc(t,n,e,o){(3&t[Y])===e&&E0(t,n,e,o)}function Ep(t,n){let e=t[Y];(3&e)===n&&(e&=16383,e+=1,t[Y]=e)}function E0(t,n,e,o){const i=o??-1,s=n.length-1;let l=0;for(let u=void 0!==o?65535&t[ci]:0;u<s;u++)if("number"==typeof n[u+1]){if(l=n[u],null!=o&&l>=o)break}else n[u]<0&&(t[ci]+=65536),(l<i||-1==i)&&(Dk(t,e,n,u),t[ci]=(4294901760&t[ci])+u+2),u++}function A0(t,n){Yn(4,t,n);const e=le(null);try{n.call(t)}finally{le(e),Yn(5,t,n)}}function Dk(t,n,e,o){const r=e[o]<0,i=e[o+1],l=t[r?-e[o]:e[o]];r?t[Y]>>14<t[ci]>>16&&(3&t[Y])===n&&(t[Y]+=16384,A0(l,i)):A0(l,i)}const pi=-1;class Rs{constructor(n,e,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=o}}function Np(t){return t!==pi}function Ls(t){return 32767&t}function Us(t,n){let e=function Ak(t){return t>>16}(t),o=n;for(;e>0;)o=o[ai],e--;return o}let Fp=!0;function Zc(t){const n=Fp;return Fp=t,n}const N0=255,F0=5;let Nk=0;const Xn={};function el(t,n){const e=R0(t,n);if(-1!==e)return e;const o=n[j];o.firstCreatePass&&(t.injectorIndex=n.length,Rp(o.data,t),Rp(n,null),Rp(o.blueprint,null));const r=tl(t,n),i=t.injectorIndex;if(Np(r)){const s=Ls(r),l=Us(r,n),u=l[j].data;for(let g=0;g<8;g++)n[i+g]=l[s+g]|u[s+g]}return n[i+8]=r,i}function Rp(t,n){t.push(0,0,0,0,0,0,0,0,n)}function R0(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function tl(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,o=null,r=n;for(;null!==r;){if(o=$0(r),null===o)return pi;if(e++,r=r[ai],-1!==o.injectorIndex)return o.injectorIndex|e<<16}return pi}function Lp(t,n,e){!function Fk(t,n,e){let o;"string"==typeof e?o=e.charCodeAt(0)||0:e.hasOwnProperty(xs)&&(o=e[xs]),null==o&&(o=e[xs]=Nk++);const r=o&N0;n.data[t+(r>>F0)]|=1<<r}(t,n,e)}function L0(t,n,e){if(e&fe.Optional||void 0!==t)return t;Qu()}function U0(t,n,e,o){if(e&fe.Optional&&void 0===o&&(o=null),!(e&(fe.Self|fe.Host))){const r=t[gt],i=Xt(void 0);try{return r?r.get(n,o,e&fe.Optional):R_(n,o,e&fe.Optional)}finally{Xt(i)}}return L0(o,0,e)}function V0(t,n,e,o=fe.Default,r){if(null!==t){if(2048&n[Y]&&!(o&fe.Self)){const s=function Bk(t,n,e,o,r){let i=t,s=n;for(;null!==i&&null!==s&&2048&s[Y]&&!(512&s[Y]);){const l=B0(i,s,e,o|fe.Self,Xn);if(l!==Xn)return l;let u=i.parent;if(!u){const g=s[s0];if(g){const m=g.get(e,Xn,o);if(m!==Xn)return m}u=$0(s),s=s[ai]}i=u}return r}(t,n,e,o,Xn);if(s!==Xn)return s}const i=B0(t,n,e,o,Xn);if(i!==Xn)return i}return U0(n,e,o,r)}function B0(t,n,e,o,r){const i=function Uk(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(xs)?t[xs]:void 0;return"number"==typeof n?n>=0?n&N0:Vk:n}(e);if("function"==typeof i){if(!w0(n,t,o))return o&fe.Host?L0(r,0,o):U0(n,e,o,r);try{let s;if(s=i(o),null!=s||o&fe.Optional)return s;Qu()}finally{S0()}}else if("number"==typeof i){let s=null,l=R0(t,n),u=pi,g=o&fe.Host?n[Je][Ft]:null;for((-1===l||o&fe.SkipSelf)&&(u=-1===l?tl(t,n):n[l+8],u!==pi&&j0(o,!1)?(s=n[j],l=Ls(u),n=Us(u,n)):l=-1);-1!==l;){const m=n[j];if(z0(i,l,m.data)){const _=Lk(l,n,e,s,o,g);if(_!==Xn)return _}u=n[l+8],u!==pi&&j0(o,n[j].data[l+8]===g)&&z0(i,l,n)?(s=m,l=Ls(u),n=Us(u,n)):l=-1}}return r}function Lk(t,n,e,o,r,i){const s=n[j],l=s.data[t+8],m=nl(l,s,e,null==o?Pr(l)&&Fp:o!=s&&!!(3&l.type),r&fe.Host&&i===l);return null!==m?kr(n,s,m,l):Xn}function nl(t,n,e,o,r){const i=t.providerIndexes,s=n.data,l=1048575&i,u=t.directiveStart,m=i>>20,x=r?l+m:t.directiveEnd;for(let M=o?l:l+m;M<x;M++){const O=s[M];if(M<u&&e===O||M>=u&&O.type===e)return M}if(r){const M=s[u];if(M&&En(M)&&M.type===e)return u}return null}function kr(t,n,e,o){let r=t[e];const i=n.data;if(function Sk(t){return t instanceof Rs}(r)){const s=r;s.resolving&&function n3(t,n){throw n&&n.join(" > "),new U(-200,t)}(function Me(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ne(t)}(i[e]));const l=Zc(s.canSeeViewProviders);s.resolving=!0;const g=s.injectImpl?Xt(s.injectImpl):null;w0(t,o,fe.Default);try{r=t[e]=s.factory(void 0,i,t,o),n.firstCreatePass&&e>=o.directiveStart&&function kk(t,n,e){const{ngOnChanges:o,ngOnInit:r,ngDoCheck:i}=n.type.prototype;if(o){const s=u0(n);(e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s)}r&&(e.preOrderHooks??=[]).push(0-t,r),i&&((e.preOrderHooks??=[]).push(t,i),(e.preOrderCheckHooks??=[]).push(t,i))}(e,i[e],n)}finally{null!==g&&Xt(g),Zc(l),s.resolving=!1,S0()}}return r}function z0(t,n,e){return!!(e[n+(t>>F0)]&1<<t)}function j0(t,n){return!(t&fe.Self||t&fe.Host&&n)}class xt{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,o){return V0(this._tNode,this._lView,n,Ec(o),e)}}function Vk(){return new xt(Te(),L())}function St(t){return Mo(()=>{const n=t.prototype.constructor,e=n[Po]||Up(n),o=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==o;){const i=r[Po]||Up(r);if(i&&i!==e)return i;r=Object.getPrototypeOf(r)}return i=>new i})}function Up(t){return kc(t)?()=>{const n=Up(X(t));return n&&n()}:yr(t)}function $0(t){const n=t[j],e=n.type;return 2===e?n.declTNode:1===e?t[Ft]:null}function Y0(t,n=null,e=null,o){const r=K0(t,n,e,o);return r.resolveInjectorInitializers(),r}function K0(t,n=null,e=null,o,r=new Set){const i=[e||ye,E3(t)];return o=o||("object"==typeof t?void 0:yt(t)),new oi(i,n||jc(),o||null,r)}let Wt=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Ms}static{this.NULL=new Lc}static create(e,o){if(Array.isArray(e))return Y0({name:""},o,e,"");{const r=e.name??"";return Y0({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=z({token:t,providedIn:"any",factory:()=>W(j_)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function Bp(t){return t.ngOriginalError}class Zn{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&Bp(n);for(;e&&Bp(e);)e=Bp(e);return e||null}}const J0=new H("",{providedIn:"root",factory:()=>w(Zn).handleError.bind(void 0)});let hi=(()=>{class t{static{this.__NG_ELEMENT_ID__=Kk}static{this.__NG_ENV_ID__=e=>e}}return t})();class Yk extends hi{constructor(n){super(),this._lView=n}onDestroy(n){return Yc(this._lView,n),()=>function Pp(t,n){if(null===t[qo])return;const e=t[qo].indexOf(n);-1!==e&&t[qo].splice(e,1)}(this._lView,n)}}function Kk(){return new Yk(L())}function Qk(){return mi(Te(),L())}function mi(t,n){return new pn(Ht(t,n))}let pn=(()=>{class t{constructor(e){this.nativeElement=e}static{this.__NG_ELEMENT_ID__=Qk}}return t})();function Z0(t){return t instanceof pn?t.nativeElement:t}function zp(t){return n=>{setTimeout(t,void 0,n)}}const Ee=class Jk extends jt{constructor(n=!1){super(),this.destroyRef=void 0,this.__isAsync=n,n0()&&(this.destroyRef=w(hi,{optional:!0})??void 0)}emit(n){const e=le(null);try{super.next(n)}finally{le(e)}}subscribe(n,e,o){let r=n,i=e||(()=>null),s=o;if(n&&"object"==typeof n){const u=n;r=u.next?.bind(u),i=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(i=zp(i),r&&(r=zp(r)),s&&(s=zp(s)));const l=super.subscribe({next:r,error:i,complete:s});return n instanceof Jt&&n.add(l),l}};function Xk(){return this._results[Symbol.iterator]()}class jp{get changes(){return this._changes??=new Ee}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const e=jp.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=Xk)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){this.dirty=!1;const o=function Zt(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function h3(t,n,e){if(t.length!==n.length)return!1;for(let o=0;o<t.length;o++){let r=t[o],i=n[o];if(e&&(r=e(r),i=e(i)),i!==r)return!1}return!0}(this._results,o,e))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function rl(t){return!(128&~t.flags)}const $p=new Map;let eD=0;const qp="__ngContext__";function Vt(t,n){Rt(n)?(t[qp]=n[Ss],function nD(t){$p.set(t[Ss],t)}(n)):t[qp]=n}function l1(t){return u1(t[ks])}function d1(t){return u1(t[In])}function u1(t){for(;null!==t&&!Lt(t);)t=t[In];return t}let Wp;const Gp=new H("",{providedIn:"root",factory:()=>vD}),vD="ng",y1=new H(""),Go=new H("",{providedIn:"platform",factory:()=>"unknown"}),v1=new H("",{providedIn:"root",factory:()=>function Wo(){if(void 0!==Wp)return Wp;if(typeof document<"u")return document;throw new U(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let C1=()=>null;function tg(t,n,e=!1){return C1(t,n,e)}const O1=new H("",{providedIn:"root",factory:()=>!1});let fl;function I1(t){return function sg(){if(void 0===fl&&(fl=null,Oe.trustedTypes))try{fl=Oe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return fl}()?.createScriptURL(t)||t}class T1{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${O_})`}}function Yo(t){return t instanceof T1?t.changingThisBreaksApplicationSecurity:t}function Ws(t,n){const e=function VD(t){return t instanceof T1&&t.getTypeName()||null}(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${O_})`)}return e===n}const $D=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var vi=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(vi||{});function ue(t){const n=Ys();return n?n.sanitize(vi.URL,t)||"":Ws(t,"URL")?Yo(t):function ag(t){return(t=String(t)).match($D)?t:"unsafe:"+t}(ne(t))}function B1(t){const n=Ys();if(n)return I1(n.sanitize(vi.RESOURCE_URL,t)||"");if(Ws(t,"ResourceURL"))return I1(Yo(t));throw new U(904,!1)}function Ys(){const t=L();return t&&t[Tn].sanitizer}const iS=/^>|^->|<!--|-->|--!>|<!-$/g,sS=/(<|>)/g,aS="\u200b$1\u200b";function q1(t){return t.ownerDocument}function gn(t){return t instanceof Function?t():t}var Ko=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ko||{});let fg;function hg(t,n){return fg(t,n)}function xi(t,n,e,o,r){if(null!=o){let i,s=!1;Lt(o)?i=o:Rt(o)&&(s=!0,o=o[Ye]);const l=Re(o);0===t&&null!==e?null==r?eb(n,e,l):Dr(n,e,l,r||null,!0):1===t&&null!==e?Dr(n,e,l,r||null,!0):2===t?function Js(t,n,e){const o=vl(t,n);o&&function wS(t,n,e,o){t.removeChild(n,e,o)}(t,o,n,e)}(n,l,s):3===t&&n.destroyNode(l),null!=i&&function DS(t,n,e,o,r){const i=e[Gn];i!==Re(e)&&xi(n,t,o,i,r);for(let l=ct;l<e.length;l++){const u=e[l];xl(u[j],u,t,n,o,i)}}(n,t,i,e,r)}}function _g(t,n){return t.createComment(function j1(t){return t.replace(iS,n=>n.replace(sS,aS))}(n))}function bl(t,n,e){return t.createElement(n,e)}function J1(t,n){n[Tn].changeDetectionScheduler?.notify(1),xl(t,n,n[Z],2,null,null)}function X1(t,n){const e=t[li],o=e.indexOf(n);e.splice(o,1)}function Ks(t,n){if(t.length<=ct)return;const e=ct+n,o=t[e];if(o){const r=o[Ds];null!==r&&r!==t&&X1(r,o),n>0&&(t[e-1][In]=o[In]);const i=Fc(t,ct+n);!function bS(t,n){J1(t,n),n[Ye]=null,n[Ft]=null}(o[j],o);const s=i[wo];null!==s&&s.detachView(i[j]),o[at]=null,o[In]=null,o[Y]&=-129}return o}function yl(t,n){if(!(256&n[Y])){const e=n[Z];e.destroyNode&&xl(t,n,e,3,null,null),function vS(t){let n=t[ks];if(!n)return bg(t[j],t);for(;n;){let e=null;if(Rt(n))e=n[ks];else{const o=n[ct];o&&(e=o)}if(!e){for(;n&&!n[In]&&n!==t;)Rt(n)&&bg(n[j],n),n=n[at];null===n&&(n=t),Rt(n)&&bg(n[j],n),e=n&&n[In]}n=e}}(n)}}function bg(t,n){if(256&n[Y])return;const e=le(null);try{n[Y]&=-129,n[Y]|=256,n[Mr]&&p_(n[Mr]),function PS(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let o=0;o<e.length;o+=2){const r=n[e[o]];if(!(r instanceof Rs)){const i=e[o+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const l=r[i[s]],u=i[s+1];Yn(4,l,u);try{u.call(l)}finally{Yn(5,l,u)}}else{Yn(4,r,i);try{i.call(r)}finally{Yn(5,r,i)}}}}}(t,n),function MS(t,n){const e=t.cleanup,o=n[si];if(null!==e)for(let i=0;i<e.length-1;i+=2)if("string"==typeof e[i]){const s=e[i+3];s>=0?o[s]():o[-s].unsubscribe(),i+=2}else e[i].call(o[e[i+1]]);null!==o&&(n[si]=null);const r=n[qo];if(null!==r){n[qo]=null;for(let i=0;i<r.length;i++)(0,r[i])()}}(t,n),1===n[j].type&&n[Z].destroy();const o=n[Ds];if(null!==o&&Lt(n[at])){o!==n[at]&&X1(o,n);const r=n[wo];null!==r&&r.detachView(t)}!function oD(t){$p.delete(t[Ss])}(n)}finally{le(e)}}function yg(t,n,e){return function Z1(t,n,e){let o=n;for(;null!==o&&40&o.type;)o=(n=o).parent;if(null===o)return e[Ye];{const{componentOffset:r}=o;if(r>-1){const{encapsulation:i}=t.data[o.directiveStart+r];if(i===Dn.None||i===Dn.Emulated)return null}return Ht(o,e)}}(t,n.parent,e)}function Dr(t,n,e,o,r){t.insertBefore(n,e,o,r)}function eb(t,n,e){t.appendChild(n,e)}function tb(t,n,e,o,r){null!==o?Dr(t,n,e,o,r):eb(t,n,e)}function vl(t,n){return t.parentNode(n)}function nb(t,n,e){return rb(t,n,e)}let vg,rb=function ob(t,n,e){return 40&t.type?Ht(t,e):null};function Cl(t,n,e,o){const r=yg(t,o,n),i=n[Z],l=nb(o.parent||n[Ft],o,n);if(null!=r)if(Array.isArray(e))for(let u=0;u<e.length;u++)tb(i,r,e[u],l,!1);else tb(i,r,e,l,!1);void 0!==vg&&vg(i,o,n,e,r)}function Qs(t,n){if(null!==n){const e=n.type;if(3&e)return Ht(n,t);if(4&e)return Cg(-1,t[n.index]);if(8&e){const o=n.child;if(null!==o)return Qs(t,o);{const r=t[n.index];return Lt(r)?Cg(-1,r):Re(r)}}if(32&e)return hg(n,t)()||Re(t[n.index]);{const o=sb(t,n);return null!==o?Array.isArray(o)?o[0]:Qs(wr(t[Je]),o):Qs(t,n.next)}}return null}function sb(t,n){return null!==n?t[Je][Ft].projection[n.projection]:null}function Cg(t,n){const e=ct+t+1;if(e<n.length){const o=n[e],r=o[j].firstChild;if(null!==r)return Qs(o,r)}return n[Gn]}function xg(t,n,e,o,r,i,s){for(;null!=e;){const l=o[e.index],u=e.type;if(s&&0===n&&(l&&Vt(Re(l),o),e.flags|=2),32&~e.flags)if(8&u)xg(t,n,e.child,o,r,i,!1),xi(n,t,r,l,i);else if(32&u){const g=hg(e,o);let m;for(;m=g();)xi(n,t,r,m,i);xi(n,t,r,l,i)}else 16&u?cb(t,n,o,e,r,i):xi(n,t,r,l,i);e=s?e.projectionNext:e.next}}function xl(t,n,e,o,r,i){xg(e,o,t.firstChild,n,r,i,!1)}function cb(t,n,e,o,r,i){const s=e[Je],u=s[Ft].projection[o.projection];if(Array.isArray(u))for(let g=0;g<u.length;g++)xi(n,t,r,u[g],i);else{let g=u;const m=s[at];rl(o)&&(g.flags|=128),xg(t,n,g,m,r,i,!0)}}function lb(t,n,e){""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function db(t,n,e){const{mergedAttrs:o,classes:r,styles:i}=e;null!==o&&op(t,n,o),null!==r&&lb(t,n,r),null!==i&&function IS(t,n,e){t.setAttribute(n,"style",e)}(t,n,i)}const re={};function p(t=1){ub(he(),L(),Ut()+t,!1)}function ub(t,n,e,o){if(!o)if(3&~n[Y]){const i=t.preOrderHooks;null!==i&&Xc(n,i,0,e)}else{const i=t.preOrderCheckHooks;null!==i&&Jc(n,i,e)}Or(e)}function V(t,n=fe.Default){const e=L();return null===e?W(t,n):V0(Te(),e,X(t),n)}function gb(t,n,e,o,r,i){const s=le(null);try{let l=null;r&We.SignalBased&&(l=n[o][kn]),null!==l&&void 0!==l.transformFn&&(i=l.transformFn(i)),r&We.HasDecoratorInputTransform&&(i=t.inputTransforms[o].call(n,i)),null!==t.setInput?t.setInput(n,l,i,e,o):d0(n,l,o,i)}finally{le(s)}}function Ml(t,n,e,o,r,i,s,l,u,g,m){const _=n.blueprint.slice();return _[Ye]=r,_[Y]=204|o,(null!==g||t&&2048&t[Y])&&(_[Y]|=2048),_0(_),_[at]=_[ai]=t,_[Be]=e,_[Tn]=s||t&&t[Tn],_[Z]=l||t&&t[Z],_[gt]=u||t&&t[gt]||null,_[Ft]=i,_[Ss]=function tD(){return eD++}(),_[dn]=m,_[s0]=g,_[Je]=2==n.type?t[Je]:_,_}function Mi(t,n,e,o,r){let i=t.data[n];if(null===i)i=function Mg(t,n,e,o,r){const i=C0(),s=wp(),u=t.data[n]=function US(t,n,e,o,r,i){let s=n?n.injectorIndex:-1,l=0;return ui()&&(l|=128),{type:e,index:o,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:l,providerIndexes:0,value:r,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,e,n,o,r);return null===t.firstChild&&(t.firstChild=u),null!==i&&(s?null==i.child&&null!==u.parent&&(i.child=u):null===i.next&&(i.next=u,u.prev=i)),u}(t,n,e,o,r),function bk(){return ee.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=e,i.value=o,i.attrs=r;const s=function Ns(){const t=ee.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return Qn(i,!0),i}function Xs(t,n,e,o){if(0===e)return-1;const r=n.length;for(let i=0;i<e;i++)n.push(o),t.blueprint.push(o),t.data.push(null);return r}function fb(t,n,e,o,r){const i=Ut(),s=2&o;try{Or(-1),s&&n.length>oe&&ub(t,n,oe,!1),Yn(s?2:0,r),e(o,r)}finally{Or(i),Yn(s?3:1,r)}}function Pg(t,n,e){if(hp(n)){const o=le(null);try{const i=n.directiveEnd;for(let s=n.directiveStart;s<i;s++){const l=t.data[s];l.contentQueries&&l.contentQueries(1,e[s],s)}}finally{le(o)}}}function wg(t,n,e){v0()&&(function qS(t,n,e,o){const r=e.directiveStart,i=e.directiveEnd;Pr(e)&&function XS(t,n,e){const o=Ht(n,t),r=hb(e);let s=16;e.signals?s=4096:e.onPush&&(s=64);const l=Pl(t,Ml(t,r,null,s,o,n,null,t[Tn].rendererFactory.createRenderer(o,e),null,null,null));t[n.index]=l}(n,e,t.data[r+e.componentOffset]),t.firstCreatePass||el(e,n),Vt(o,n);const s=e.initialInputs;for(let l=r;l<i;l++){const u=t.data[l],g=kr(n,t,l,e);Vt(g,n),null!==s&&ZS(0,l-r,g,u,0,s),En(u)&&(un(e.index,n)[Be]=kr(n,t,l,e))}}(t,n,e,Ht(e,n)),!(64&~e.flags)&&vb(t,n,e))}function Og(t,n,e=Ht){const o=n.localNames;if(null!==o){let r=n.index+1;for(let i=0;i<o.length;i+=2){const s=o[i+1],l=-1===s?e(n,t):t[s];t[r++]=l}}}function hb(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=kg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function kg(t,n,e,o,r,i,s,l,u,g,m){const _=oe+o,x=_+r,M=function ES(t,n){const e=[];for(let o=0;o<n;o++)e.push(o<t?null:re);return e}(_,x),O="function"==typeof g?g():g;return M[j]={type:t,blueprint:M,template:e,queries:null,viewQuery:l,declTNode:n,data:M.slice().fill(null,_),bindingStartIndex:_,expandoStartIndex:x,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:O,incompleteFirstPass:!1,ssrId:m}}let mb=()=>null;function _b(t,n,e,o,r){for(let i in n){if(!n.hasOwnProperty(i))continue;const s=n[i];if(void 0===s)continue;o??={};let l,u=We.None;Array.isArray(s)?(l=s[0],u=s[1]):l=s;let g=i;if(null!==r){if(!r.hasOwnProperty(i))continue;g=r[i]}0===t?bb(o,e,g,l,u):bb(o,e,g,l)}return o}function bb(t,n,e,o,r){let i;t.hasOwnProperty(e)?(i=t[e]).push(n,o):i=t[e]=[n,o],void 0!==r&&i.push(r)}function nn(t,n,e,o,r,i,s,l){const u=Ht(n,e);let m,g=n.inputs;!l&&null!=g&&(m=g[o])?(Eg(t,e,m,o,r),Pr(n)&&function zS(t,n){const e=un(n,t);16&e[Y]||(e[Y]|=64)}(e,n.index)):3&n.type&&(o=function BS(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(o),r=null!=s?s(r,n.value||"",o):r,i.setProperty(u,o,r))}function Dg(t,n,e,o){if(v0()){const r=null===o?null:{"":-1},i=function GS(t,n){const e=t.directiveRegistry;let o=null,r=null;if(e)for(let i=0;i<e.length;i++){const s=e[i];if(G_(n,s.selectors,!1))if(o||(o=[]),En(s))if(null!==s.findHostDirectiveDefs){const l=[];r=r||new Map,s.findHostDirectiveDefs(s,l,r),o.unshift(...l,s),Sg(t,n,l.length)}else o.unshift(s),Sg(t,n,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,o,r),o.push(s)}return null===o?null:[o,r]}(t,e);let s,l;null===i?s=l=null:[s,l]=i,null!==s&&yb(t,n,e,s,r,l),r&&function YS(t,n,e){if(n){const o=t.localNames=[];for(let r=0;r<n.length;r+=2){const i=e[n[r+1]];if(null==i)throw new U(-301,!1);o.push(n[r],i)}}}(e,o,r)}e.mergedAttrs=ws(e.mergedAttrs,e.attrs)}function yb(t,n,e,o,r,i){for(let g=0;g<o.length;g++)Lp(el(e,n),t,o[g].type);!function QS(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}(e,t.data.length,o.length);for(let g=0;g<o.length;g++){const m=o[g];m.providersResolver&&m.providersResolver(m)}let s=!1,l=!1,u=Xs(t,n,o.length,null);for(let g=0;g<o.length;g++){const m=o[g];e.mergedAttrs=ws(e.mergedAttrs,m.hostAttrs),JS(t,e,n,u,m),KS(u,m,r),null!==m.contentQueries&&(e.flags|=4),(null!==m.hostBindings||null!==m.hostAttrs||0!==m.hostVars)&&(e.flags|=64);const _=m.type.prototype;!s&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),s=!0),!l&&(_.ngOnChanges||_.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),l=!0),u++}!function VS(t,n,e){const r=n.directiveEnd,i=t.data,s=n.attrs,l=[];let u=null,g=null;for(let m=n.directiveStart;m<r;m++){const _=i[m],x=e?e.get(_):null,O=x?x.outputs:null;u=_b(0,_.inputs,m,u,x?x.inputs:null),g=_b(1,_.outputs,m,g,O);const k=null===u||null===s||rp(n)?null:eI(u,m,s);l.push(k)}null!==u&&(u.hasOwnProperty("class")&&(n.flags|=8),u.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=l,n.inputs=u,n.outputs=g}(t,e,i)}function vb(t,n,e){const o=e.directiveStart,r=e.directiveEnd,i=e.index,s=function vk(){return ee.lFrame.currentDirectiveIndex}();try{Or(i);for(let l=o;l<r;l++){const u=t.data[l],g=n[l];kp(l),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&WS(u,g)}}finally{Or(-1),kp(s)}}function WS(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Sg(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function KS(t,n,e){if(e){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)e[n.exportAs[o]]=t;En(n)&&(e[""]=t)}}function JS(t,n,e,o,r){t.data[o]=r;const i=r.factory||(r.factory=yr(r.type)),s=new Rs(i,En(r),V);t.blueprint[o]=s,e[o]=s,function $S(t,n,e,o,r){const i=r.hostBindings;if(i){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const l=~n.index;(function HS(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(s)!=l&&s.push(l),s.push(e,o,i)}}(t,n,o,Xs(t,e,r.hostVars,re),r)}function eo(t,n,e,o,r,i){const s=Ht(t,n);!function Ig(t,n,e,o,r,i,s){if(null==i)t.removeAttribute(n,r,e);else{const l=null==s?ne(i):s(i,o||"",r);t.setAttribute(n,r,l,e)}}(n[Z],s,i,t.value,e,o,r)}function ZS(t,n,e,o,r,i){const s=i[n];if(null!==s)for(let l=0;l<s.length;)gb(o,e,s[l++],s[l++],s[l++],s[l++])}function eI(t,n,e){let o=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;if(t.hasOwnProperty(i)){null===o&&(o=[]);const s=t[i];for(let l=0;l<s.length;l+=3)if(s[l]===n){o.push(i,s[l+1],s[l+2],e[r+1]);break}}r+=2}else r+=2;else r+=4}return o}function Cb(t,n,e,o){return[t,!0,0,n,null,o,null,e,null,null]}function xb(t,n){const e=t.contentQueries;if(null!==e){const o=le(null);try{for(let r=0;r<e.length;r+=2){const s=e[r+1];if(-1!==s){const l=t.data[s];Kc(e[r]),l.contentQueries(2,n[s],s)}}}finally{le(o)}}}function Pl(t,n){return t[ks]?t[r0][In]=n:t[ks]=n,t[r0]=n,n}function Tg(t,n,e){Kc(0);const o=le(null);try{n(t,e)}finally{le(o)}}function Mb(t){return t[si]||(t[si]=[])}function Pb(t){return t.cleanup||(t.cleanup=[])}function wl(t,n){const e=t[gt],o=e?e.get(Zn,null):null;o&&o.handleError(n)}function Eg(t,n,e,o,r){for(let i=0;i<e.length;){const s=e[i++],l=e[i++],u=e[i++];gb(t.data[s],n[s],o,l,u,r)}}function So(t,n,e){const o=Ts(n,t);!function Q1(t,n,e){t.setValue(n,e)}(t[Z],o,e)}function tI(t,n){const e=un(n,t),o=e[j];!function nI(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}(o,e);const r=e[Ye];null!==r&&null===e[dn]&&(e[dn]=tg(r,e[gt])),Ag(o,e,e[Be])}function Ag(t,n,e){Ip(n);try{const o=t.viewQuery;null!==o&&Tg(1,o,e);const r=t.template;null!==r&&fb(t,n,r,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),n[wo]?.finishViewCreation(t),t.staticContentQueries&&xb(t,n),t.staticViewQueries&&Tg(2,t.viewQuery,e);const i=t.components;null!==i&&function oI(t,n){for(let e=0;e<n.length;e++)tI(t,n[e])}(n,i)}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),o}finally{n[Y]&=-5,Tp()}}function Pi(t,n){return!n||null===n.firstChild||rl(t)}function ea(t,n,e,o=!0){const r=n[j];if(function CS(t,n,e,o){const r=ct+o,i=e.length;o>0&&(e[r-1][In]=n),o<i-ct?(n[In]=e[r],V_(e,ct+o,n)):(e.push(n),n[In]=null),n[at]=e;const s=n[Ds];null!==s&&e!==s&&function xS(t,n){const e=t[li];n[Je]!==n[at][at][Je]&&(t[Y]|=fp.HasTransplantedViews),null===e?t[li]=[n]:e.push(n)}(s,n);const l=n[wo];null!==l&&l.insertView(t),Mp(n),n[Y]|=128}(r,n,t,e),o){const s=Cg(e,t),l=n[Z],u=vl(l,t[Gn]);null!==u&&function yS(t,n,e,o,r,i){o[Ye]=r,o[Ft]=n,xl(t,o,e,1,r,i)}(r,t[Ft],l,n,u,s)}const i=n[dn];null!==i&&null!==i.firstChild&&(i.firstChild=null)}function ta(t,n,e,o,r=!1){for(;null!==e;){const i=n[e.index];null!==i&&o.push(Re(i)),Lt(i)&&kb(i,o);const s=e.type;if(8&s)ta(t,n,e.child,o);else if(32&s){const l=hg(e,n);let u;for(;u=l();)o.push(u)}else if(16&s){const l=sb(n,e);if(Array.isArray(l))o.push(...l);else{const u=wr(n[Je]);ta(u[j],u,l,o,!0)}}e=r?e.projectionNext:e.next}return o}function kb(t,n){for(let e=ct;e<t.length;e++){const o=t[e],r=o[j].firstChild;null!==r&&ta(o[j],o,r,n)}t[Gn]!==t[Ye]&&n.push(t[Gn])}let Db=[];const aI={...vc,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{As(t.lView)},consumerOnSignalRead(){this.lView[Mr]=this}},Sb=100;function Ol(t,n=!0,e=0){const o=t[Tn],r=o.rendererFactory;r.begin?.();try{!function cI(t,n){Fg(t,n);let e=0;for(;xp(t);){if(e===Sb)throw new U(103,!1);e++,Fg(t,1)}}(t,e)}catch(s){throw n&&wl(t,s),s}finally{r.end?.(),o.inlineEffectRunner?.flush()}}function lI(t,n,e,o){const r=n[Y];if(!(256&~r))return;n[Tn].inlineEffectRunner?.flush(),Ip(n);let s=null,l=null;(function dI(t){return 2!==t.type})(t)&&(l=function rI(t){return t[Mr]??function iI(t){const n=Db.pop()??Object.create(aI);return n.lView=t,n}(t)}(n),s=Pu(l));try{_0(n),function M0(t){return ee.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&fb(t,n,e,2,o);const u=!(3&~r);if(u){const _=t.preOrderCheckHooks;null!==_&&Jc(n,_,null)}else{const _=t.preOrderHooks;null!==_&&Xc(n,_,0,null),Ep(n,0)}if(function uI(t){for(let n=l1(t);null!==n;n=d1(n)){if(!(n[Y]&fp.HasTransplantedViews))continue;const e=n[li];for(let o=0;o<e.length;o++){ck(e[o])}}}(n),Ib(n,0),null!==t.contentQueries&&xb(t,n),u){const _=t.contentCheckHooks;null!==_&&Jc(n,_)}else{const _=t.contentHooks;null!==_&&Xc(n,_,1),Ep(n,1)}!function TS(t,n){const e=t.hostBindingOpCodes;if(null!==e)try{for(let o=0;o<e.length;o++){const r=e[o];if(r<0)Or(~r);else{const i=r,s=e[++o],l=e[++o];yk(s,i),l(2,n[i])}}}finally{Or(-1)}}(t,n);const g=t.components;null!==g&&Eb(n,g,0);const m=t.viewQuery;if(null!==m&&Tg(2,m,o),u){const _=t.viewCheckHooks;null!==_&&Jc(n,_)}else{const _=t.viewHooks;null!==_&&Xc(n,_,2),Ep(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[qc]){for(const _ of n[qc])_();n[qc]=null}n[Y]&=-73}catch(u){throw As(n),u}finally{null!==l&&(wu(l,s),function sI(t){t.lView[Mr]!==t&&(t.lView=null,Db.push(t))}(l)),Tp()}}function Ib(t,n){for(let e=l1(t);null!==e;e=d1(e))for(let o=ct;o<e.length;o++)Tb(e[o],n)}function pI(t,n,e){Tb(un(n,t),e)}function Tb(t,n){Cp(t)&&Fg(t,n)}function Fg(t,n){const o=t[j],r=t[Y],i=t[Mr];let s=!!(0===n&&16&r);if(s||=!!(64&r&&0===n),s||=!!(1024&r),s||=!(!i?.dirty||!Ou(i)),i&&(i.dirty=!1),t[Y]&=-9217,s)lI(o,t,o.template,t[Be]);else if(8192&r){Ib(t,1);const l=o.components;null!==l&&Eb(t,l,1)}}function Eb(t,n,e){for(let o=0;o<n.length;o++)pI(t,n[o],e)}function na(t){for(t[Tn].changeDetectionScheduler?.notify();t;){t[Y]|=64;const n=wr(t);if(mp(t)&&!n)return t;t=n}return null}class oa{get rootNodes(){const n=this._lView,e=n[j];return ta(e,n,e.firstChild,[])}constructor(n,e,o=!0){this._lView=n,this._cdRefInjectingView=e,this.notifyErrorHandler=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Be]}set context(n){this._lView[Be]=n}get destroyed(){return!(256&~this._lView[Y])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[at];if(Lt(n)){const e=n[8],o=e?e.indexOf(this):-1;o>-1&&(Ks(n,o),Fc(e,o))}this._attachedToViewContainer=!1}yl(this._lView[j],this._lView)}onDestroy(n){Yc(this._lView,n)}markForCheck(){na(this._cdRefInjectingView||this._lView)}detach(){this._lView[Y]&=-129}reattach(){Mp(this._lView),this._lView[Y]|=128}detectChanges(){this._lView[Y]|=1024,Ol(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,J1(this._lView[j],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=n,Mp(this._lView)}}let Io=(()=>{class t{static{this.__NG_ELEMENT_ID__=hI}}return t})();const gI=Io,fI=class extends gI{constructor(n,e,o){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e)}createEmbeddedViewImpl(n,e,o){const r=function Zs(t,n,e,o){const r=le(null);try{const i=n.tView,u=Ml(t,i,e,4096&t[Y]?4096:16,null,n,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null);u[Ds]=t[n.index];const m=t[wo];return null!==m&&(u[wo]=m.createEmbeddedView(i)),Ag(i,u,e),u}finally{le(r)}}(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:e,dehydratedView:o});return new oa(r)}};function hI(){return kl(Te(),L())}function kl(t,n){return 4&t.type?new fI(n,t,mi(t,n)):null}class zg{}class VI{}class Vb{}class zI{resolveComponentFactory(n){throw function BI(t){const n=Error(`No component factory found for ${yt(t)}.`);return n.ngComponent=t,n}(n)}}let El=(()=>{class t{static{this.NULL=new zI}}return t})();class zb{}let To=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function jI(){const t=L(),e=un(Te().index,t);return(Rt(e)?e:t)[Z]}()}}return t})(),$I=(()=>{class t{static{this.\u0275prov=z({token:t,providedIn:"root",factory:()=>null})}}return t})();const jg={},jb=new Set;function to(t){jb.has(t)||(jb.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function $b(...t){}class ke{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ee(!1),this.onMicrotaskEmpty=new Ee(!1),this.onStable=new Ee(!1),this.onError=new Ee(!1),typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!o&&e,r.shouldCoalesceRunChangeDetection=o,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function HI(){const t="function"==typeof Oe.requestAnimationFrame;let n=Oe[t?"requestAnimationFrame":"setTimeout"],e=Oe[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&e){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function GI(t){const n=()=>{!function WI(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Oe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Hg(t),t.isCheckStableRunning=!0,$g(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Hg(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,o,r,i,s,l)=>{if(function YI(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(l))return e.invokeTask(r,i,s,l);try{return Hb(t),e.invokeTask(r,i,s,l)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||t.shouldCoalesceRunChangeDetection)&&n(),qb(t)}},onInvoke:(e,o,r,i,s,l,u)=>{try{return Hb(t),e.invoke(r,i,s,l,u)}finally{t.shouldCoalesceRunChangeDetection&&n(),qb(t)}},onHasTask:(e,o,r,i)=>{e.hasTask(r,i),o===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Hg(t),$g(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,o,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ke.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(ke.isInAngularZone())throw new U(909,!1)}run(n,e,o){return this._inner.run(n,e,o)}runTask(n,e,o,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,n,qI,$b,$b);try{return i.runTask(s,e,o)}finally{i.cancelTask(s)}}runGuarded(n,e,o){return this._inner.runGuarded(n,e,o)}runOutsideAngular(n){return this._outer.run(n)}}const qI={};function $g(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Hg(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Hb(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function qb(t){t._nesting--,$g(t)}var Sr=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Sr||{});const Gb={destroy(){}};function Wg(t,n){!n&&$c();const e=n?.injector??w(Wt);if(!function Nn(t){return"browser"===(t??w(Wt)).get(Go)}(e))return Gb;to("NgAfterNextRender");const o=e.get(ca),r=o.handler??=new Kb,i=n?.phase??Sr.MixedReadWrite,s=()=>{r.unregister(u),l()},l=e.get(hi).onDestroy(s),u=Wn(e,()=>new Yb(i,()=>{s(),t()}));return r.register(u),{destroy:s}}class Yb{constructor(n,e){this.phase=n,this.callbackFn=e,this.zone=w(ke),this.errorHandler=w(Zn,{optional:!0}),w(zg,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(n){this.errorHandler?.handleError(n)}}}class Kb{constructor(){this.executingCallbacks=!1,this.buckets={[Sr.EarlyRead]:new Set,[Sr.Write]:new Set,[Sr.MixedReadWrite]:new Set,[Sr.Read]:new Set},this.deferredCallbacks=new Set}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){this.executingCallbacks=!0;for(const n of Object.values(this.buckets))for(const e of n)e.invoke();this.executingCallbacks=!1;for(const n of this.deferredCallbacks)this.buckets[n.phase].add(n);this.deferredCallbacks.clear()}destroy(){for(const n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}}let ca=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const e=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const o of e)o()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=z({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Nl(t,n,e){let o=e?t.styles:null,r=e?t.classes:null,i=0;if(null!==n)for(let s=0;s<n.length;s++){const l=n[s];"number"==typeof l?i=l:1==i?r=zu(r,l):2==i&&(o=zu(o,l+": "+n[++s]+";"))}e?t.styles=o:t.stylesWithoutHost=o,e?t.classes=r:t.classesWithoutHost=r}class Xb extends El{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=de(n);return new ua(e,this.ngModule)}}function Zb(t){const n=[];for(const e in t){if(!t.hasOwnProperty(e))continue;const o=t[e];void 0!==o&&n.push({propName:Array.isArray(o)?o[0]:o,templateName:e})}return n}class Fl{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,o){o=Ec(o);const r=this.injector.get(n,jg,o);return r!==jg||e===jg?r:this.parentInjector.get(n,e,o)}}class ua extends Vb{get inputs(){const n=this.componentDef,e=n.inputTransforms,o=Zb(n.inputs);if(null!==e)for(const r of o)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return o}get outputs(){return Zb(this.componentDef.outputs)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function O3(t){return t.map(w3).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,o,r){const i=le(null);try{let s=(r=r||this.ngModule)instanceof $t?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const l=s?new Fl(n,s):n,u=l.get(zb,null);if(null===u)throw new U(407,!1);const g=l.get($I,null),x={rendererFactory:u,sanitizer:g,inlineEffectRunner:null,afterRenderEventManager:l.get(ca,null),changeDetectionScheduler:l.get(zg,null)},M=u.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",k=o?function AS(t,n,e,o){const i=o.get(O1,!1)||e===Dn.ShadowDom,s=t.selectRootElement(n,i);return function NS(t){mb(t)}(s),s}(M,o,this.componentDef.encapsulation,l):bl(M,O,function ZI(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(O));let I=512;this.componentDef.signals?I|=4096:this.componentDef.onPush||(I|=16);let N=null;null!==k&&(N=tg(k,l,!0));const T=kg(0,null,null,1,0,null,null,null,null,null,null),$=Ml(null,T,null,I,null,null,x,M,l,null,N);let G,K;Ip($);try{const be=this.componentDef;let It,Bo=null;be.findHostDirectiveDefs?(It=[],Bo=new Map,be.findHostDirectiveDefs(be,It,Bo),It.push(be)):It=[be];const vO=function tT(t,n){const e=t[j],o=oe;return t[o]=n,Mi(e,o,2,"#host",null)}($,k),FY=function nT(t,n,e,o,r,i,s){const l=r[j];!function oT(t,n,e,o){for(const r of t)n.mergedAttrs=ws(n.mergedAttrs,r.hostAttrs);null!==n.mergedAttrs&&(Nl(n,n.mergedAttrs,!0),null!==e&&db(o,e,n))}(o,t,n,s);let u=null;null!==n&&(u=tg(n,r[gt]));const g=i.rendererFactory.createRenderer(n,e);let m=16;e.signals?m=4096:e.onPush&&(m=64);const _=Ml(r,hb(e),null,m,r[t.index],t,i,g,null,null,u);return l.firstCreatePass&&Sg(l,t,o.length-1),Pl(r,_),r[t.index]=_}(vO,k,be,It,$,x,M);K=Es(T,oe),k&&function iT(t,n,e,o){if(o)op(t,e,["ng-version","17.3.12"]);else{const{attrs:r,classes:i}=function k3(t){const n=[],e=[];let o=1,r=2;for(;o<t.length;){let i=t[o];if("string"==typeof i)2===r?""!==i&&n.push(i,t[++o]):8===r&&e.push(i);else{if(!Sn(r))break;r=i}o++}return{attrs:n,classes:e}}(n.selectors[0]);r&&op(t,e,r),i&&i.length>0&&lb(t,e,i.join(" "))}}(M,be,k,o),void 0!==e&&function sT(t,n,e){const o=t.projection=[];for(let r=0;r<n.length;r++){const i=e[r];o.push(null!=i?Array.from(i):null)}}(K,this.ngContentSelectors,e),G=function rT(t,n,e,o,r,i){const s=Te(),l=r[j],u=Ht(s,r);yb(l,r,s,e,null,o);for(let m=0;m<e.length;m++)Vt(kr(r,l,s.directiveStart+m,s),r);vb(l,r,s),u&&Vt(u,r);const g=kr(r,l,s.directiveStart+s.componentOffset,s);if(t[Be]=r[Be]=g,null!==i)for(const m of i)m(g,n);return Pg(l,s,r),g}(FY,be,It,Bo,$,[aT]),Ag(T,$,null)}finally{Tp()}return new eT(this.componentType,G,mi(K,$),$,K)}finally{le(i)}}}class eT extends VI{constructor(n,e,o,r,i){super(),this.location=o,this._rootLView=r,this._tNode=i,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new oa(r,void 0,!1),this.componentType=n}setInput(n,e){const o=this._tNode.inputs;let r;if(null!==o&&(r=o[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;const i=this._rootLView;Eg(i[j],i,r,n,e),this.previousInputValues.set(n,e),na(un(this._tNode.index,i))}}get injector(){return new xt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function aT(){const t=Te();Qc(L()[j],t)}let Fn=(()=>{class t{static{this.__NG_ELEMENT_ID__=cT}}return t})();function cT(){return ny(Te(),L())}const lT=Fn,ey=class extends lT{constructor(n,e,o){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=o}get element(){return mi(this._hostTNode,this._hostLView)}get injector(){return new xt(this._hostTNode,this._hostLView)}get parentInjector(){const n=tl(this._hostTNode,this._hostLView);if(Np(n)){const e=Us(n,this._hostLView),o=Ls(n);return new xt(e[j].data[o+8],e)}return new xt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=ty(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-ct}createEmbeddedView(n,e,o){let r,i;"number"==typeof o?r=o:null!=o&&(r=o.index,i=o.injector);const l=n.createEmbeddedViewImpl(e||{},i,null);return this.insertImpl(l,r,Pi(this._hostTNode,null)),l}createComponent(n,e,o,r,i){const s=n&&!function Os(t){return"function"==typeof t}(n);let l;if(s)l=e;else{const O=e||{};l=O.index,o=O.injector,r=O.projectableNodes,i=O.environmentInjector||O.ngModuleRef}const u=s?n:new ua(de(n)),g=o||this.parentInjector;if(!i&&null==u.ngModule){const k=(s?g:this.parentInjector).get($t,null);k&&(i=k)}de(u.componentType??{});const M=u.create(g,r,null,i);return this.insertImpl(M.hostView,l,Pi(this._hostTNode,null)),M}insert(n,e){return this.insertImpl(n,e,!0)}insertImpl(n,e,o){const r=n._lView;if(function ak(t){return Lt(t[at])}(r)){const l=this.indexOf(n);if(-1!==l)this.detach(l);else{const u=r[at],g=new ey(u,u[Ft],u[at]);g.detach(g.indexOf(n))}}const i=this._adjustIndex(e),s=this._lContainer;return ea(s,r,i,o),n.attachToViewContainerRef(),V_(Kg(s),i,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=ty(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),o=Ks(this._lContainer,e);o&&(Fc(Kg(this._lContainer),e),yl(o[j],o))}detach(n){const e=this._adjustIndex(n,-1),o=Ks(this._lContainer,e);return o&&null!=Fc(Kg(this._lContainer),e)?new oa(o):null}_adjustIndex(n,e=0){return n??this.length+e}};function ty(t){return t[8]}function Kg(t){return t[8]||(t[8]=[])}function ny(t,n){let e;const o=n[t.index];return Lt(o)?e=o:(e=Cb(o,n,null,t),n[t.index]=e,Pl(n,e)),oy(e,n,t,o),new ey(e,t,n)}let oy=function iy(t,n,e,o){if(t[Gn])return;let r;r=8&e.type?Re(o):function dT(t,n){const e=t[Z],o=e.createComment(""),r=Ht(n,t);return Dr(e,vl(e,r),o,function OS(t,n){return t.nextSibling(n)}(e,r),!1),o}(n,e),t[Gn]=r},Qg=()=>!1;class Jg{constructor(n){this.queryList=n,this.matches=null}clone(){return new Jg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Xg{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const o=null!==n.contentQueries?n.contentQueries[0]:e.length,r=[];for(let i=0;i<o;i++){const s=e.getByIndex(i);r.push(this.queries[s.indexInDeclarationView].clone())}return new Xg(r)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==rf(n,e).matches&&this.queries[e].setDirty()}}class sy{constructor(n,e,o=null){this.flags=e,this.read=o,this.predicate="string"==typeof n?function bT(t){return t.split(",").map(n=>n.trim())}(n):n}}class Zg{constructor(n=[]){this.queries=n}elementStart(n,e){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let o=0;o<this.length;o++){const r=null!==e?e.length:0,i=this.getByIndex(o).embeddedTView(n,r);i&&(i.indexInDeclarationView=o,null!==e?e.push(i):e=[i])}return null!==e?new Zg(e):null}template(n,e){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class ef{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new ef(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const e=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==e;)o=o.parent;return e===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const o=this.metadata.predicate;if(Array.isArray(o))for(let r=0;r<o.length;r++){const i=o[r];this.matchTNodeWithReadOption(n,e,fT(e,i)),this.matchTNodeWithReadOption(n,e,nl(e,n,i,!1,!1))}else o===Io?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,nl(e,n,o,!1,!1))}matchTNodeWithReadOption(n,e,o){if(null!==o){const r=this.metadata.read;if(null!==r)if(r===pn||r===Fn||r===Io&&4&e.type)this.addMatch(e.index,-2);else{const i=nl(e,n,r,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,o)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function fT(t,n){const e=t.localNames;if(null!==e)for(let o=0;o<e.length;o+=2)if(e[o]===n)return e[o+1];return null}function mT(t,n,e,o){return-1===e?function hT(t,n){return 11&t.type?mi(t,n):4&t.type?kl(t,n):null}(n,t):-2===e?function _T(t,n,e){return e===pn?mi(n,t):e===Io?kl(n,t):e===Fn?ny(n,t):void 0}(t,n,o):kr(t,t[j],e,n)}function ay(t,n,e,o){const r=n[wo].queries[o];if(null===r.matches){const i=t.data,s=e.matches,l=[];for(let u=0;null!==s&&u<s.length;u+=2){const g=s[u];l.push(g<0?null:mT(n,i[g],s[u+1],e.metadata.read))}r.matches=l}return r.matches}function tf(t,n,e,o){const r=t.queries.getByIndex(e),i=r.matches;if(null!==i){const s=ay(t,n,r,e);for(let l=0;l<i.length;l+=2){const u=i[l];if(u>0)o.push(s[l/2]);else{const g=i[l+1],m=n[-u];for(let _=ct;_<m.length;_++){const x=m[_];x[Ds]===x[at]&&tf(x[j],x,g,o)}if(null!==m[li]){const _=m[li];for(let x=0;x<_.length;x++){const M=_[x];tf(M[j],M,g,o)}}}}}return o}function dy(t,n,e,o){const r=he();if(r.firstCreatePass){const i=Te();(function uy(t,n,e){null===t.queries&&(t.queries=new Zg),t.queries.track(new ef(n,e))})(r,new sy(n,e,o),i.index),function yT(t,n){const e=t.contentQueries||(t.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,n)}(r,t),!(2&~e)&&(r.staticContentQueries=!0)}return function cy(t,n,e){const o=new jp(!(4&~e));return function LS(t,n,e,o){const r=Mb(n);r.push(e),t.firstCreatePass&&Pb(t).push(o,r.length-1)}(t,n,o,o.destroy),(n[wo]??=new Xg).queries.push(new Jg(o))-1}(r,L(),e)}function rf(t,n){return t.queries.getByIndex(n)}function py(t,n){const e=t[j],o=rf(e,n);return o.crossesNgTemplate?tf(e,t,n,[]):ay(e,t,o,n)}function Mt(t,n){to("NgSignals");const e=function kO(t){const n=Object.create(SO);n.value=t;const e=()=>(Mu(n),n.value);return e[kn]=n,e}(t),o=e[kn];return n?.equal&&(o.equal=n.equal),e.set=r=>__(o,r),e.update=r=>function DO(t,n){d_()||m_(),__(t,n(t.value))}(o,r),e.asReadonly=fy.bind(e),e}function fy(){const t=this[kn];if(void 0===t.readonlyFn){const n=()=>this();n[kn]=t,t.readonlyFn=n}return t.readonlyFn}function hy(t){return function gy(t){return"function"==typeof t&&void 0!==t[kn]}(t)&&"function"==typeof t.set}function Ae(t){let n=function Oy(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const o=[t];for(;n;){let r;if(En(t))r=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new U(903,!1);r=n.\u0275dir}if(r){if(e){o.push(r);const s=t;s.inputs=Ll(t.inputs),s.inputTransforms=Ll(t.inputTransforms),s.declaredInputs=Ll(t.declaredInputs),s.outputs=Ll(t.outputs);const l=r.hostBindings;l&&AT(t,l);const u=r.viewQuery,g=r.contentQueries;if(u&&TT(t,u),g&&ET(t,g),ST(t,r),WO(t.outputs,r.outputs),En(r)&&r.data.animation){const m=t.data;m.animation=(m.animation||[]).concat(r.data.animation)}}const i=r.features;if(i)for(let s=0;s<i.length;s++){const l=i[s];l&&l.ngInherit&&l(t),l===Ae&&(e=!1)}}n=Object.getPrototypeOf(n)}!function IT(t){let n=0,e=null;for(let o=t.length-1;o>=0;o--){const r=t[o];r.hostVars=n+=r.hostVars,r.hostAttrs=ws(r.hostAttrs,e=ws(e,r.hostAttrs))}}(o)}function ST(t,n){for(const e in n.inputs){if(!n.inputs.hasOwnProperty(e)||t.inputs.hasOwnProperty(e))continue;const o=n.inputs[e];if(void 0!==o&&(t.inputs[e]=o,t.declaredInputs[e]=n.declaredInputs[e],null!==n.inputTransforms)){const r=Array.isArray(o)?o[0]:o;if(!n.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=n.inputTransforms[r]}}}function Ll(t){return t===qn?{}:t===ye?[]:t}function TT(t,n){const e=t.viewQuery;t.viewQuery=e?(o,r)=>{n(o,r),e(o,r)}:n}function ET(t,n){const e=t.contentQueries;t.contentQueries=e?(o,r,i)=>{n(o,r,i),e(o,r,i)}:n}function AT(t,n){const e=t.hostBindings;t.hostBindings=e?(o,r)=>{n(o,r),e(o,r)}:n}function Iy(t){const n=t.inputConfig,e={};for(const o in n)if(n.hasOwnProperty(o)){const r=n[o];Array.isArray(r)&&r[3]&&(e[o]=r[3])}t.inputTransforms=e}class Ir{}class Ty{}class af extends Ir{constructor(n,e,o){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Xb(this);const r=Nt(n);this._bootstrapComponents=gn(r.bootstrap),this._r3Injector=K0(n,e,[{provide:Ir,useValue:this},{provide:El,useValue:this.componentFactoryResolver},...o],yt(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class cf extends Ty{constructor(n){super(),this.moduleType=n}create(n){return new af(this.moduleType,n,[])}}class Ey extends Ir{constructor(n){super(),this.componentFactoryResolver=new Xb(this),this.instance=null;const e=new oi([...n.providers,{provide:Ir,useValue:this},{provide:El,useValue:this.componentFactoryResolver}],n.parent||jc(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function Ul(t,n,e=null){return new Ey({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}let Xo=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new st(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Bl(t){return!!lf(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function lf(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function no(t,n,e){return t[n]=e}function ga(t,n){return t[n]}function lt(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function Tr(t,n,e,o){const r=lt(t,n,e);return lt(t,n+1,o)||r}function zl(t,n,e,o,r){const i=Tr(t,n,e,o);return lt(t,n+2,r)||i}function P(t,n,e,o,r,i,s,l){const u=L(),g=he(),m=t+oe,_=g.firstCreatePass?function WT(t,n,e,o,r,i,s,l,u){const g=n.consts,m=Mi(n,t,4,s||null,Kn(g,l));Dg(n,e,m,Kn(g,u)),Qc(n,m);const _=m.tView=kg(2,m,o,r,i,n.directiveRegistry,n.pipeRegistry,null,n.schemas,g,null);return null!==n.queries&&(n.queries.template(n,m),_.queries=n.queries.embeddedTView(m)),m}(m,g,u,n,e,o,r,i,s):g.data[m];Qn(_,!1);const x=Ay(g,u,_,t);Fs()&&Cl(g,u,x,_),Vt(x,u);const M=Cb(x,u,x,_);return u[m]=M,Pl(u,M),function ry(t,n,e){return Qg(t,n,e)}(M,_,u),Gc(_)&&wg(g,u,_),null!=s&&Og(u,_,l),P}let Ay=function Ny(t,n,e,o){return Jn(!0),n[Z].createComment("")};function xn(t,n,e,o){const r=L();return lt(r,An(),n)&&(he(),eo(ze(),r,t,n,e,o)),xn}function Gl(t,n){return t<<17|n<<2}function er(t){return t>>17&32767}function yf(t){return 2|t}function Ar(t){return(131068&t)>>2}function vf(t,n){return-131069&t|n<<2}function Cf(t){return 1|t}function uv(t,n,e,o){const r=t[e+1],i=null===n;let s=o?er(r):Ar(r),l=!1;for(;0!==s&&(!1===l||i);){const g=t[s+1];EE(t[s],n)&&(l=!0,t[s+1]=o?Cf(g):yf(g)),s=o?er(g):Ar(g)}l&&(t[e+1]=o?yf(r):Cf(r))}function EE(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&ti(t,n)>=0}const Pt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function pv(t){return t.substring(Pt.key,Pt.keyEnd)}function gv(t,n){const e=Pt.textEnd;return e===n?-1:(n=Pt.keyEnd=function RE(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}(t,Pt.key=n,e),ji(t,n,e))}function ji(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function h(t,n,e){const o=L();return lt(o,An(),n)&&nn(he(),ze(),o,t,n,o[Z],e,!1),h}function xf(t,n,e,o,r){const s=r?"class":"style";Eg(t,e,n.inputs[s],s,o)}function oo(t,n,e){return Rn(t,n,e,!1),oo}function B(t,n){return Rn(t,n,null,!0),B}function io(t){!function Ln(t,n,e,o){const r=he(),i=ko(2);r.firstUpdatePass&&yv(r,null,i,o);const s=L();if(e!==re&&lt(s,i,e)){const l=r.data[Ut()];if(Mv(l,o)&&!bv(r,i)){let u=o?l.classesWithoutHost:l.stylesWithoutHost;null!==u&&(e=zu(u,e||"")),xf(r,l,s,e,o)}else!function WE(t,n,e,o,r,i,s,l){r===re&&(r=ye);let u=0,g=0,m=0<r.length?r[0]:null,_=0<i.length?i[0]:null;for(;null!==m||null!==_;){const x=u<r.length?r[u+1]:void 0,M=g<i.length?i[g+1]:void 0;let k,O=null;m===_?(u+=2,g+=2,x!==M&&(O=_,k=M)):null===_||null!==m&&m<_?(u+=2,O=m):(g+=2,O=_,k=M),null!==O&&Cv(t,n,e,o,O,k,s,l),m=u<r.length?r[u]:null,_=g<i.length?i[g]:null}}(r,l,s,s[Z],s[i+1],s[i+1]=function HE(t,n,e){if(null==e||""===e)return ye;const o=[],r=Yo(e);if(Array.isArray(r))for(let i=0;i<r.length;i++)t(o,r[i],!0);else if("object"==typeof r)for(const i in r)r.hasOwnProperty(i)&&t(o,i,r[i]);else"string"==typeof r&&n(o,r);return o}(t,n,e),o,i)}}(qE,so,t,!0)}function so(t,n){for(let e=function NE(t){return function hv(t){Pt.key=0,Pt.keyEnd=0,Pt.value=0,Pt.valueEnd=0,Pt.textEnd=t.length}(t),gv(t,ji(t,0,Pt.textEnd))}(n);e>=0;e=gv(n,e))ln(t,pv(n),!0)}function Rn(t,n,e,o){const r=L(),i=he(),s=ko(2);i.firstUpdatePass&&yv(i,t,s,o),n!==re&&lt(r,s,n)&&Cv(i,i.data[Ut()],r,r[Z],t,r[s+1]=function GE(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=yt(Yo(t)))),t}(n,e),o,s)}function bv(t,n){return n>=t.expandoStartIndex}function yv(t,n,e,o){const r=t.data;if(null===r[e+1]){const i=r[Ut()],s=bv(t,e);Mv(i,o)&&null===n&&!s&&(n=!1),n=function BE(t,n,e,o){const r=function Dp(t){const n=ee.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let i=o?n.residualClasses:n.residualStyles;if(null===r)0===(o?n.classBindings:n.styleBindings)&&(e=ba(e=Mf(null,t,n,e,o),n.attrs,o),i=null);else{const s=n.directiveStylingLast;if(-1===s||t[s]!==r)if(e=Mf(r,t,n,e,o),null===i){let u=function zE(t,n,e){const o=e?n.classBindings:n.styleBindings;if(0!==Ar(o))return t[er(o)]}(t,n,o);void 0!==u&&Array.isArray(u)&&(u=Mf(null,t,n,u[1],o),u=ba(u,n.attrs,o),function jE(t,n,e,o){t[er(e?n.classBindings:n.styleBindings)]=o}(t,n,o,u))}else i=function $E(t,n,e){let o;const r=n.directiveEnd;for(let i=1+n.directiveStylingLast;i<r;i++)o=ba(o,t[i].hostAttrs,e);return ba(o,n.attrs,e)}(t,n,o)}return void 0!==i&&(o?n.residualClasses=i:n.residualStyles=i),e}(r,i,n,o),function IE(t,n,e,o,r,i){let s=i?n.classBindings:n.styleBindings,l=er(s),u=Ar(s);t[o]=e;let m,g=!1;if(Array.isArray(e)?(m=e[1],(null===m||ti(e,m)>0)&&(g=!0)):m=e,r)if(0!==u){const x=er(t[l+1]);t[o+1]=Gl(x,l),0!==x&&(t[x+1]=vf(t[x+1],o)),t[l+1]=function DE(t,n){return 131071&t|n<<17}(t[l+1],o)}else t[o+1]=Gl(l,0),0!==l&&(t[l+1]=vf(t[l+1],o)),l=o;else t[o+1]=Gl(u,0),0===l?l=o:t[u+1]=vf(t[u+1],o),u=o;g&&(t[o+1]=yf(t[o+1])),uv(t,m,o,!0),uv(t,m,o,!1),function TE(t,n,e,o,r){const i=r?t.residualClasses:t.residualStyles;null!=i&&"string"==typeof n&&ti(i,n)>=0&&(e[o+1]=Cf(e[o+1]))}(n,m,t,o,i),s=Gl(l,u),i?n.classBindings=s:n.styleBindings=s}(r,i,n,e,s,o)}}function Mf(t,n,e,o,r){let i=null;const s=e.directiveEnd;let l=e.directiveStylingLast;for(-1===l?l=e.directiveStart:l++;l<s&&(i=n[l],o=ba(o,i.hostAttrs,r),i!==t);)l++;return null!==t&&(e.directiveStylingLast=l),o}function ba(t,n,e){const o=e?1:2;let r=-1;if(null!==n)for(let i=0;i<n.length;i++){const s=n[i];"number"==typeof s?r=s:r===o&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ln(t,s,!!e||n[++i]))}return void 0===t?null:t}function qE(t,n,e){const o=String(n);""!==o&&!o.includes(" ")&&ln(t,o,e)}function Cv(t,n,e,o,r,i,s,l){if(!(3&n.type))return;const u=t.data,g=u[l+1],m=function SE(t){return!(1&~t)}(g)?xv(u,n,e,r,Ar(g),s):void 0;Yl(m)||(Yl(i)||function kE(t){return!(2&~t)}(g)&&(i=xv(u,null,e,r,l,s)),function SS(t,n,e,o,r){if(n)r?t.addClass(e,o):t.removeClass(e,o);else{let i=-1===o.indexOf("-")?void 0:Ko.DashCase;null==r?t.removeStyle(e,o,i):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),i|=Ko.Important),t.setStyle(e,o,r,i))}}(o,s,Ts(Ut(),e),r,i))}function xv(t,n,e,o,r,i){const s=null===n;let l;for(;r>0;){const u=t[r],g=Array.isArray(u),m=g?u[1]:u,_=null===m;let x=e[r+1];x===re&&(x=_?ye:void 0);let M=_?tp(x,o):m===o?x:void 0;if(g&&!Yl(M)&&(M=tp(u,o)),Yl(M)&&(l=M,s))return l;const O=t[r+1];r=s?er(O):Ar(O)}if(null!==n){let u=i?n.residualClasses:n.residualStyles;null!=u&&(l=tp(u,o))}return l}function Yl(t){return void 0!==t}function Mv(t,n){return!!(t.flags&(n?8:16))}function a(t,n,e,o){const r=L(),i=he(),s=oe+t,l=r[Z],u=i.firstCreatePass?function m4(t,n,e,o,r,i){const s=n.consts,u=Mi(n,t,2,o,Kn(s,r));return Dg(n,e,u,Kn(s,i)),null!==u.attrs&&Nl(u,u.attrs,!1),null!==u.mergedAttrs&&Nl(u,u.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,u),u}(s,i,r,n,e,o):i.data[s],g=kv(i,r,u,l,n,t);r[s]=g;const m=Gc(u);return Qn(u,!0),db(l,g,u),!function fa(t){return!(32&~t.flags)}(u)&&Fs()&&Cl(i,r,g,u),0===function lk(){return ee.lFrame.elementDepthCount}()&&Vt(g,r),function dk(){ee.lFrame.elementDepthCount++}(),m&&(wg(i,r,u),Pg(i,u,r)),null!==o&&Og(r,u),a}function c(){let t=Te();wp()?Op():(t=t.parent,Qn(t,!1));const n=t;(function pk(t){return ee.skipHydrationRootTNode===t})(n)&&function mk(){ee.skipHydrationRootTNode=null}(),function uk(){ee.lFrame.elementDepthCount--}();const e=he();return e.firstCreatePass&&(Qc(e,t),hp(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Tk(t){return!!(8&t.flags)}(n)&&xf(e,n,L(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Ek(t){return!!(16&t.flags)}(n)&&xf(e,n,L(),n.stylesWithoutHost,!1),c}function b(t,n,e,o){return a(t,n,e,o),c(),b}let kv=(t,n,e,o,r,i)=>(Jn(!0),bl(o,r,function I0(){return ee.lFrame.currentNamespace}()));function Kl(t,n,e){const o=L(),r=he(),i=t+oe,s=r.firstCreatePass?function y4(t,n,e,o,r){const i=n.consts,s=Kn(i,o),l=Mi(n,t,8,"ng-container",s);return null!==s&&Nl(l,s,!0),Dg(n,e,l,Kn(i,r)),null!==n.queries&&n.queries.elementStart(n,l),l}(i,r,o,n,e):r.data[i];Qn(s,!0);const l=Sv(r,o,s,t);return o[i]=l,Fs()&&Cl(r,o,l,s),Vt(l,o),Gc(s)&&(wg(r,o,s),Pg(r,s,o)),null!=e&&Og(o,s),Kl}function Ql(){let t=Te();const n=he();return wp()?Op():(t=t.parent,Qn(t,!1)),n.firstCreatePass&&(Qc(n,t),hp(t)&&n.queries.elementEnd(t)),Ql}let Sv=(t,n,e,o)=>(Jn(!0),_g(n[Z],""));function R(){return L()}const Nr=void 0;var M4=["en",[["a","p"],["AM","PM"],Nr],[["AM","PM"],Nr,Nr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Nr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Nr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Nr,"{1} 'at' {0}",Nr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function x4(t){const e=Math.floor(Math.abs(t)),o=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===o?1:5}];let $i={};function Gt(t){const n=function P4(t){return t.toLowerCase().replace(/_/g,"-")}(t);let e=Av(n);if(e)return e;const o=n.split("-")[0];if(e=Av(o),e)return e;if("en"===o)return M4;throw new U(701,!1)}function Av(t){return t in $i||($i[t]=Oe.ng&&Oe.ng.common&&Oe.ng.common.locales&&Oe.ng.common.locales[t]),$i[t]}var je=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(je||{});const Hi="en-US";let Nv=Hi;function C(t,n,e,o){const r=L(),i=he(),s=Te();return If(i,r,r[Z],s,t,n,o),C}function If(t,n,e,o,r,i,s){const l=Gc(o),g=t.firstCreatePass&&Pb(t),m=n[Be],_=Mb(n);let x=!0;if(3&o.type||s){const k=Ht(o,n),I=s?s(k):k,N=_.length,T=s?G=>s(Re(G[o.index])):o.index;let $=null;if(!s&&l&&($=function vA(t,n,e,o){const r=t.cleanup;if(null!=r)for(let i=0;i<r.length-1;i+=2){const s=r[i];if(s===e&&r[i+1]===o){const l=n[si],u=r[i+2];return l.length>u?l[u]:null}"string"==typeof s&&(i+=2)}return null}(t,n,r,o.index)),null!==$)($.__ngLastListenerFn__||$).__ngNextListenerFn__=i,$.__ngLastListenerFn__=i,x=!1;else{i=cC(o,n,m,i,!1);const G=e.listen(I,r,i);_.push(i,G),g&&g.push(r,T,N,N+1)}}else i=cC(o,n,m,i,!1);const M=o.outputs;let O;if(x&&null!==M&&(O=M[r])){const k=O.length;if(k)for(let I=0;I<k;I+=2){const K=n[O[I]][O[I+1]].subscribe(i),be=_.length;_.push(i,K),g&&g.push(r,o.index,be,-(be+1))}}}function aC(t,n,e,o){const r=le(null);try{return Yn(6,n,e),!1!==e(o)}catch(i){return wl(t,i),!1}finally{Yn(7,n,e),le(r)}}function cC(t,n,e,o,r){return function i(s){if(s===Function)return o;na(t.componentOffset>-1?un(t.index,n):n);let u=aC(n,e,o,s),g=i.__ngNextListenerFn__;for(;g;)u=aC(n,e,g,s)&&u,g=g.__ngNextListenerFn__;return r&&!1===u&&s.preventDefault(),u}}function f(t=1){return function xk(t){return(ee.lFrame.contextLView=function b0(t,n){for(;t>0;)n=n[ai],t--;return n}(t,ee.lFrame.contextLView))[Be]}(t)}function CA(t,n){let e=null;const o=function C3(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(!(1&e))return n[e+1]}return null}(t);for(let r=0;r<n.length;r++){const i=n[r];if("*"!==i){if(null===o?G_(t,i,!0):P3(o,i))return r}else e=r}return e}function xC(){return function nf(t,n){return t[wo].queries[n].queryList}(L(),Sp())}function wa(t){return di(function _k(){return ee.lFrame.contextLView}(),oe+t)}function d(t,n=""){const e=L(),o=he(),r=t+oe,i=o.firstCreatePass?Mi(o,r,1,n,null):o.data[r],s=EC(o,e,i,n,t);e[r]=s,Fs()&&Cl(o,e,s,i),Qn(i,!1)}let EC=(t,n,e,o,r)=>(Jn(!0),function mg(t,n){return t.createText(n)}(n[Z],o));function S(t){return D("",t,""),S}function D(t,n,e){const o=L(),r=function Ni(t,n,e,o){return lt(t,An(),e)?n+ne(e)+o:re}(o,t,n,e);return r!==re&&So(o,Ut(),r),D}function rn(t,n,e,o,r){const i=L(),s=function Fi(t,n,e,o,r,i){const l=Tr(t,Oo(),e,r);return ko(2),l?n+ne(e)+o+ne(r)+i:re}(i,t,n,e,o,r);return s!==re&&So(i,Ut(),s),rn}function Fr(t,n,e,o,r,i,s){const l=L(),u=function Ri(t,n,e,o,r,i,s,l){const g=zl(t,Oo(),e,r,s);return ko(3),g?n+ne(e)+o+ne(r)+i+ne(s)+l:re}(l,t,n,e,o,r,i,s);return u!==re&&So(l,Ut(),u),Fr}function E(t,n,e){hy(n)&&(n=n());const o=L();return lt(o,An(),n)&&nn(he(),ze(),o,t,n,o[Z],e,!1),E}function F(t,n){const e=hy(t);return e&&t.set(n),e}function A(t,n){const e=L(),o=he(),r=Te();return If(o,e,e[Z],r,t,n),A}function Ef(t,n,e,o,r){if(t=X(t),Array.isArray(t))for(let i=0;i<t.length;i++)Ef(t[i],n,e,o,r);else{const i=he(),s=L(),l=Te();let u=xr(t)?t:X(t.provide);const g=t0(t),m=1048575&l.providerIndexes,_=l.directiveStart,x=l.providerIndexes>>20;if(xr(t)||!t.multi){const M=new Rs(g,r,V),O=Nf(u,n,r?m:m+x,_);-1===O?(Lp(el(l,s),i,u),Af(i,t,n.length),n.push(u),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),e.push(M),s.push(M)):(e[O]=M,s[O]=M)}else{const M=Nf(u,n,m+x,_),O=Nf(u,n,m,m+x),I=O>=0&&e[O];if(r&&!I||!r&&!(M>=0&&e[M])){Lp(el(l,s),i,u);const N=function zA(t,n,e,o,r){const i=new Rs(t,e,V);return i.multi=[],i.index=n,i.componentProviders=0,VC(i,r,o&&!e),i}(r?BA:VA,e.length,r,o,g);!r&&I&&(e[O].providerFactory=N),Af(i,t,n.length,0),n.push(u),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),e.push(N),s.push(N)}else Af(i,t,M>-1?M:O,VC(e[r?O:M],g,!r&&o));!r&&o&&I&&e[O].componentProviders++}}}function Af(t,n,e,o){const r=xr(n),i=function N3(t){return!!t.useClass}(n);if(r||i){const u=(i?X(n.useClass):n).prototype.ngOnDestroy;if(u){const g=t.destroyHooks||(t.destroyHooks=[]);if(!r&&n.multi){const m=g.indexOf(e);-1===m?g.push(e,[o,u]):g[m+1].push(o,u)}else g.push(e,u)}}}function VC(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function Nf(t,n,e,o){for(let r=e;r<o;r++)if(n[r]===t)return r;return-1}function VA(t,n,e,o){return Ff(this.multi,[])}function BA(t,n,e,o){const r=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,l=kr(e,e[j],this.providerFactory.index,o);i=l.slice(0,s),Ff(r,i);for(let u=s;u<l.length;u++)i.push(l[u])}else i=[],Ff(r,i);return i}function Ff(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function Ke(t,n=[]){return e=>{e.providersResolver=(o,r)=>function UA(t,n,e){const o=he();if(o.firstCreatePass){const r=En(t);Ef(e,o.data,o.blueprint,r,!0),Ef(n,o.data,o.blueprint,r,!1)}}(o,r?r(t):t,n)}}let jA=(()=>{class t{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const o=ip(0,e.type),r=o.length>0?Ul([o],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=z({token:t,providedIn:"environment",factory:()=>new t(W($t))})}}return t})();function ae(t){to("NgStandalone"),t.getStandaloneInjector=n=>n.get(jA).getOrCreateStandaloneInjector(t)}function Xe(t,n,e){const o=qt()+t,r=L();return r[o]===re?no(r,o,e?n.call(e):n()):ga(r,o)}function Et(t,n,e,o){return jC(L(),qt(),t,n,e,o)}function zC(t,n,e,o,r,i,s,l){const u=qt()+t,g=L(),m=function Cn(t,n,e,o,r,i){const s=Tr(t,n,e,o);return Tr(t,n+2,r,i)||s}(g,u,e,o,r,i);return lt(g,u+4,s)||m?no(g,u+5,l?n.call(l,e,o,r,i,s):n(e,o,r,i,s)):ga(g,u+5)}function Oa(t,n){const e=t[n];return e===re?void 0:e}function jC(t,n,e,o,r,i){const s=n+e;return lt(t,s,r)?no(t,s+1,i?o.call(i,r):o(r)):Oa(t,s+1)}function Q(t,n){const e=he();let o;const r=t+oe;e.firstCreatePass?(o=function XA(t,n){if(n)for(let e=n.length-1;e>=0;e--){const o=n[e];if(t===o.name)return o}}(n,e.pipeRegistry),e.data[r]=o,o.onDestroy&&(e.destroyHooks??=[]).push(r,o.onDestroy)):o=e.data[r];const i=o.factory||(o.factory=yr(o.type)),l=Xt(V);try{const u=Zc(!1),g=i();return Zc(u),function OA(t,n,e,o){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=o}(e,L(),r,g),g}finally{Xt(l)}}function Ne(t,n,e){const o=t+oe,r=L(),i=di(r,o);return Da(r,o)?jC(r,qt(),n,i.transform,e,i):i.transform(e)}function pt(t,n,e,o){const r=t+oe,i=L(),s=di(i,r);return Da(i,r)?function $C(t,n,e,o,r,i,s){const l=n+e;return Tr(t,l,r,i)?no(t,l+2,s?o.call(s,r,i):o(r,i)):Oa(t,l+2)}(i,qt(),n,s.transform,e,o,s):s.transform(e,o)}function ka(t,n,e,o,r){const i=t+oe,s=L(),l=di(s,i);return Da(s,i)?function HC(t,n,e,o,r,i,s,l){const u=n+e;return zl(t,u,r,i,s)?no(t,u+3,l?o.call(l,r,i,s):o(r,i,s)):Oa(t,u+3)}(s,qt(),n,l.transform,e,o,r,l):l.transform(e,o,r)}function Da(t,n){return t[j].data[n].pure}function Rf(t,n){return kl(t,n)}let cx=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const gx=new H("");function Ea(t){return!!t&&"function"==typeof t.then}function fx(t){return!!t&&"function"==typeof t.subscribe}const qf=new H("");let Wf=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,o)=>{this.resolve=e,this.reject=o}),this.appInits=w(qf,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const i=r();if(Ea(i))e.push(i);else if(fx(i)){const s=new Promise((l,u)=>{i.subscribe({complete:l,error:u})});e.push(s)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{o()}).catch(r=>{this.reject(r)}),0===e.length&&o(),this.initialized=!0}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const id=new H("");let tr=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=w(J0),this.afterRenderEffectManager=w(ca),this.externalTestViews=new Set,this.beforeRender=new jt,this.afterTick=new jt,this.componentTypes=[],this.components=[],this.isStable=w(Xo).hasPendingTasks.pipe(ie(e=>!e)),this._injector=w($t)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,o){const r=e instanceof Vb;if(!this._injector.get(Wf).done)throw!r&&function Ho(t){const n=de(t)||vt(t)||Tt(t);return null!==n&&n.standalone}(e),new U(405,!1);let s;s=r?e:this._injector.get(El).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const l=function Y6(t){return t.isBoundToModule}(s)?void 0:this._injector.get(Ir),g=s.create(Wt.NULL,[],o||s.selector,l),m=g.location.nativeElement,_=g.injector.get(gx,null);return _?.registerApplication(m),g.onDestroy(()=>{this.detachView(g.hostView),sd(this.components,g),_?.unregisterApplication(m)}),this._loadComponent(g),g}tick(){this._tick(!0)}_tick(e){if(this._runningTick)throw new U(101,!1);const o=le(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(e)}catch(r){this.internalErrorHandler(r)}finally{this.afterTick.next(),this._runningTick=!1,le(o)}}detectChangesInAttachedViews(e){let o=0;const r=this.afterRenderEffectManager;for(;;){if(o===Sb)throw new U(103,!1);if(e){const i=0===o;this.beforeRender.next(i);for(let{_lView:s,notifyErrorHandler:l}of this._views)Q6(s,i,l)}if(o++,r.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:i})=>Gf(i))&&(r.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:i})=>Gf(i))))break}}attachView(e){const o=e;this._views.push(o),o.attachToAppRef(this)}detachView(e){const o=e;sd(this._views,o),o.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const o=this._injector.get(id,[]);[...this._bootstrapListeners,...o].forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>sd(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new U(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function sd(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function Q6(t,n,e){!n&&!Gf(t)||function J6(t,n,e){let o;e?(o=0,t[Y]|=1024):o=64&t[Y]?0:1,Ol(t,n,o)}(t,e,n)}function Gf(t){return xp(t)}class X6{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let bx=(()=>{class t{compileModuleSync(e){return new cf(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const o=this.compileModuleSync(e),i=gn(Nt(e).declarations).reduce((s,l)=>{const u=de(l);return u&&s.push(new ua(u)),s},[]);return new X6(o,i)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),t5=(()=>{class t{constructor(){this.zone=w(ke),this.applicationRef=w(tr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function vx(t){return[{provide:ke,useFactory:t},{provide:vr,multi:!0,useFactory:()=>{const n=w(t5,{optional:!0});return()=>n.initialize()}},{provide:vr,multi:!0,useFactory:()=>{const n=w(r5);return()=>{n.initialize()}}},{provide:J0,useFactory:n5}]}function n5(){const t=w(ke),n=w(Zn);return e=>t.runOutsideAngular(()=>n.handleError(e))}function o5(t){return ni([[],vx(()=>new ke(function Cx(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}(t)))])}let r5=(()=>{class t{constructor(){this.subscription=new Jt,this.initialized=!1,this.zone=w(ke),this.pendingTasks=w(Xo)}initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ke.assertNotInAngularZone(),queueMicrotask(()=>{null!==e&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ke.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const Eo=new H("",{providedIn:"root",factory:()=>w(Eo,fe.Optional|fe.SkipSelf)||function i5(){return typeof $localize<"u"&&$localize.locale||Hi}()}),s5=new H("",{providedIn:"root",factory:()=>"USD"}),Yf=new H("");let nr=null;let Aa=(()=>{class t{static{this.__NG_ELEMENT_ID__=u5}}return t})();function u5(t){return function p5(t,n,e){if(Pr(t)&&!e){const o=un(t.index,n);return new oa(o,o)}return 47&t.type?new oa(n[Je],n):null}(Te(),L(),!(16&~t))}class Ix{constructor(){}supports(n){return Bl(n)}create(n){return new _5(n)}}const m5=(t,n)=>n;class _5{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||m5}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,o=this._removalsHead,r=0,i=null;for(;e||o;){const s=!o||e&&e.currentIndex<Ex(o,r,i)?e:o,l=Ex(s,r,i),u=s.currentIndex;if(s===o)r--,o=o._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const g=l-r,m=u-r;if(g!=m){for(let x=0;x<g;x++){const M=x<i.length?i[x]:i[x]=0,O=M+x;m<=O&&O<g&&(i[x]=M+1)}i[s.previousIndex]=m-g}}l!==u&&n(s,l,u)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!Bl(n))throw new U(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r,i,s,e=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let l=0;l<this.length;l++)i=n[l],s=this._trackByFn(l,i),null!==e&&Object.is(e.trackById,s)?(o&&(e=this._verifyReinsertion(e,i,s,l)),Object.is(e.item,i)||this._addIdentityChange(e,i)):(e=this._mismatch(e,i,s,l),o=!0),e=e._next}else r=0,function HT(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[Symbol.iterator]();let o;for(;!(o=e.next()).done;)n(o.value)}}(n,l=>{s=this._trackByFn(r,l),null!==e&&Object.is(e.trackById,s)?(o&&(e=this._verifyReinsertion(e,l,s,r)),Object.is(e.item,l)||this._addIdentityChange(e,l)):(e=this._mismatch(e,l,s,r),o=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,o,r){let i;return null===n?i=this._itTail:(i=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,i,r)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,r))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,i,r)):n=this._addAfter(new b5(e,o),i,r),n}_verifyReinsertion(n,e,o,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==i?n=this._reinsertAfter(i,n._prev,r):n.currentIndex!=r&&(n.currentIndex=r,this._addToMoves(n,r)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const r=n._prevRemoved,i=n._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(n,e,o),this._addToMoves(n,o),n}_moveAfter(n,e,o){return this._unlink(n),this._insertAfter(n,e,o),this._addToMoves(n,o),n}_addAfter(n,e,o){return this._insertAfter(n,e,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,o){const r=null===e?this._itHead:e._next;return n._next=r,n._prev=e,null===r?this._itTail=n:r._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new Tx),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,o=n._next;return null===e?this._itHead=o:e._next=o,null===o?this._itTail=e:o._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Tx),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class b5{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class y5{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===e||e<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const e=n._prevDup,o=n._nextDup;return null===e?this._head=o:e._nextDup=o,null===o?this._tail=e:o._prevDup=e,null===this._head}}class Tx{constructor(){this.map=new Map}put(n){const e=n.trackById;let o=this.map.get(e);o||(o=new y5,this.map.set(e,o)),o.add(n)}get(n,e){const r=this.map.get(n);return r?r.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ex(t,n,e){const o=t.previousIndex;if(null===o)return o;let r=0;return e&&o<e.length&&(r=e[o]),o+n+r}class Ax{constructor(){}supports(n){return n instanceof Map||lf(n)}create(){return new v5}}class v5{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let e;for(e=this._mapHead;null!==e;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}diff(n){if(n){if(!(n instanceof Map||lf(n)))throw new U(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,o),this._appendAfter=e,e=e._next;else{const i=this._getOrCreateRecordForKey(r,o);e=this._insertBeforeOrAppend(e,i)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let o=e;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){const o=n._prev;return e._next=n,e._prev=o,n._prev=e,o&&(o._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){const r=this._records.get(n);this._maybeAddToChanges(r,e);const i=r._prev,s=r._next;return i&&(i._next=s),s&&(s._prev=i),r._next=null,r._prev=null,r}const o=new C5(n);return this._records.set(n,o),o.currentValue=e,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(o=>e(n[o],o))}}class C5{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Nx(){return new eh([new Ix])}let eh=(()=>{class t{static{this.\u0275prov=z({token:t,providedIn:"root",factory:Nx})}constructor(e){this.factories=e}static create(e,o){if(null!=o){const r=o.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:o=>t.create(e,o||Nx()),deps:[[t,new Nc,new Ac]]}}find(e){const o=this.factories.find(r=>r.supports(e));if(null!=o)return o;throw new U(901,!1)}}return t})();function Fx(){return new dd([new Ax])}let dd=(()=>{class t{static{this.\u0275prov=z({token:t,providedIn:"root",factory:Fx})}constructor(e){this.factories=e}static create(e,o){if(o){const r=o.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:o=>t.create(e,o||Fx()),deps:[[t,new Nc,new Ac]]}}find(e){const o=this.factories.find(r=>r.supports(e));if(o)return o;throw new U(901,!1)}}return t})();function U5(t){try{const{rootComponent:n,appProviders:e,platformProviders:o}=t,r=function d5(t=[]){if(nr)return nr;const n=function Px(t=[],n){return Wt.create({name:n,providers:[{provide:cp,useValue:"platform"},{provide:Yf,useValue:new Set([()=>nr=null])},...t]})}(t);return nr=n,function hx(){!function OO(t){h_=t}(()=>{throw new U(600,!1)})}(),function wx(t){t.get(y1,null)?.forEach(e=>e())}(n),n}(o),i=[o5(),...e||[]],l=new Ey({providers:i,parent:r,debugName:"",runEnvironmentInitializers:!1}).injector,u=l.get(ke);return u.run(()=>{l.resolveInjectorInitializers();const g=l.get(Zn,null);let m;u.runOutsideAngular(()=>{m=u.onError.subscribe({next:M=>{g.handleError(M)}})});const _=()=>l.destroy(),x=r.get(Yf);return x.add(_),l.onDestroy(()=>{m.unsubscribe(),x.delete(_)}),function mx(t,n,e){try{const o=e();return Ea(o)?o.catch(r=>{throw n.runOutsideAngular(()=>t.handleError(r)),r}):o}catch(o){throw n.runOutsideAngular(()=>t.handleError(o)),o}}(g,u,()=>{const M=l.get(Wf);return M.runInitializers(),M.donePromise.then(()=>{!function Fv(t){"string"==typeof t&&(Nv=t.toLowerCase().replace(/_/g,"-"))}(l.get(Eo,Hi)||Hi);const k=l.get(tr);return void 0!==n&&k.bootstrap(n),k})})})}catch(n){return Promise.reject(n)}}function Yi(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function Ao(t,n){to("NgSignals");const e=function MO(t){const n=Object.create(PO);n.computation=t;const e=()=>{if(c_(n),Mu(n),n.value===xc)throw n.error;return n.value};return e[kn]=n,e}(t);return n?.equal&&(e[kn].equal=n.equal),e}function oM(t){const n=le(null);try{return t()}finally{le(n)}}const eN=new H("",{providedIn:"root",factory:()=>w(tN)});let tN=(()=>{class t{static{this.\u0275prov=z({token:t,providedIn:"root",factory:()=>new nN})}}return t})();class nN{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=w(Xo),this.taskId=null}scheduleEffect(n){if(this.enqueue(n),null===this.taskId){const e=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(e),this.taskId=null})}}enqueue(n){const e=n.creationZone;this.queues.has(e)||this.queues.set(e,new Set);const o=this.queues.get(e);o.has(n)||(this.queuedEffectCount++,o.add(n))}flush(){for(;this.queuedEffectCount>0;)for(const[n,e]of this.queues)null===n?this.flushQueue(e):n.run(()=>this.flushQueue(e))}flushQueue(n){for(const e of n)n.delete(e),this.queuedEffectCount--,e.run()}}class oN{constructor(n,e,o,r,i,s){this.scheduler=n,this.effectFn=e,this.creationZone=o,this.injector=i,this.watcher=function TO(t,n,e){const o=Object.create(EO);e&&(o.consumerAllowSignalWrites=!0),o.fn=t,o.schedule=n;const r=u=>{o.cleanupFn=u};return o.ref={notify:()=>u_(o),run:()=>{if(null===o.fn)return;if(function CO(){return ys}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(o.dirty=!1,o.hasRun&&!Ou(o))return;o.hasRun=!0;const u=Pu(o);try{o.cleanupFn(),o.cleanupFn=Iu,o.fn(r)}finally{wu(o,u)}},cleanup:()=>o.cleanupFn(),destroy:()=>function s(u){(function i(u){return null===u.fn&&null===u.schedule})(u)||(p_(u),u.cleanupFn(),u.fn=null,u.schedule=null,u.cleanupFn=Iu)}(o),[kn]:o},o.ref}(l=>this.runEffect(l),()=>this.schedule(),s),this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}runEffect(n){try{this.effectFn(n)}catch(e){this.injector.get(Zn,null,{optional:!0})?.handleError(e)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function Ra(t,n){to("NgSignals"),!n?.injector&&$c();const e=n?.injector??w(Wt),o=!0!==n?.manualCleanup?e.get(hi):null,r=new oN(e.get(eN),t,typeof Zone>"u"?null:Zone.current,o,e,n?.allowSignalWrites??!1),i=e.get(Aa,null,{optional:!0});return i&&8&i._lView[Y]?(i._lView[qc]??=[]).push(r.watcher.notify):r.watcher.notify(),r}let rM=null;function or(){return rM}class sN{}const hn=new H("");let oh=(()=>{class t{historyGo(e){throw new Error("")}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=z({token:t,factory:()=>w(cN),providedIn:"platform"})}}return t})();const aN=new H("");let cN=(()=>{class t extends oh{constructor(){super(),this._doc=w(hn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return or().getBaseHref(this._doc)}onPopState(e){const o=or().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",e,!1),()=>o.removeEventListener("popstate",e)}onHashChange(e){const o=or().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",e,!1),()=>o.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,o,r){this._history.pushState(e,o,r)}replaceState(e,o,r){this._history.replaceState(e,o,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=z({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function rh(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function iM(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function No(t){return t&&"?"!==t[0]?"?"+t:t}let Lr=(()=>{class t{historyGo(e){throw new Error("")}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=z({token:t,factory:()=>w(aM),providedIn:"root"})}}return t})();const sM=new H("");let aM=(()=>{class t extends Lr{constructor(e,o){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??w(hn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return rh(this._baseHref,e)}path(e=!1){const o=this._platformLocation.pathname+No(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${o}${r}`:o}pushState(e,o,r,i){const s=this.prepareExternalUrl(r+No(i));this._platformLocation.pushState(e,o,s)}replaceState(e,o,r,i){const s=this.prepareExternalUrl(r+No(i));this._platformLocation.replaceState(e,o,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(o){return new(o||t)(W(oh),W(sM,8))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),lN=(()=>{class t extends Lr{constructor(e,o){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){const o=this._platformLocation.hash??"#";return o.length>0?o.substring(1):o}prepareExternalUrl(e){const o=rh(this._baseHref,e);return o.length>0?"#"+o:o}pushState(e,o,r,i){let s=this.prepareExternalUrl(r+No(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,o,s)}replaceState(e,o,r,i){let s=this.prepareExternalUrl(r+No(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,o,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(o){return new(o||t)(W(oh),W(sM,8))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac})}}return t})(),ao=(()=>{class t{constructor(e){this._subject=new Ee,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const o=this._locationStrategy.getBaseHref();this._basePath=function pN(t){if(new RegExp("^(https?:)?//").test(t)){const[,e]=t.split(/\/\/[^\/]+/);return e}return t}(iM(cM(o))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,o=""){return this.path()==this.normalize(e+No(o))}normalize(e){return t.stripTrailingSlash(function uN(t,n){if(!t||!n.startsWith(t))return n;const e=n.substring(t.length);return""===e||["/",";","?","#"].includes(e[0])?e:n}(this._basePath,cM(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,o="",r=null){this._locationStrategy.pushState(r,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+No(o)),r)}replaceState(e,o="",r=null){this._locationStrategy.replaceState(r,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+No(o)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}),()=>{const o=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(o,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",o){this._urlChangeListeners.forEach(r=>r(e,o))}subscribe(e,o,r){return this._subject.subscribe({next:e,error:o,complete:r})}static{this.normalizeQueryParams=No}static{this.joinWithSlash=rh}static{this.stripTrailingSlash=iM}static{this.\u0275fac=function(o){return new(o||t)(W(Lr))}}static{this.\u0275prov=z({token:t,factory:()=>function dN(){return new ao(W(Lr))}(),providedIn:"root"})}}return t})();function cM(t){return t.replace(/\/index.html$/,"")}const lM={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var md=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(md||{}),Kt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Kt||{}),Ue=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Ue||{}),mn=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(mn||{});const ft={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function _d(t,n){return Pn(Gt(t)[je.DateFormat],n)}function bd(t,n){return Pn(Gt(t)[je.TimeFormat],n)}function yd(t,n){return Pn(Gt(t)[je.DateTimeFormat],n)}function Mn(t,n){const e=Gt(t),o=e[je.NumberSymbols][n];if(typeof o>"u"){if(n===ft.CurrencyDecimal)return e[je.NumberSymbols][ft.Decimal];if(n===ft.CurrencyGroup)return e[je.NumberSymbols][ft.Group]}return o}function ih(t,n){return Gt(t)[je.NumberFormats][n]}function dM(t){if(!t[je.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[je.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Pn(t,n){for(let e=n;e>-1;e--)if(typeof t[e]<"u")return t[e];throw new Error("Locale data API: locale data undefined")}function sh(t){const[n,e]=t.split(":");return{hours:+n,minutes:+e}}const ON=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,vd={},kN=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Fo=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Fo||{}),Pe=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Pe||{}),we=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(we||{});function DN(t,n,e,o){let r=function LN(t){if(gM(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[r,i=1,s=1]=t.split("-").map(l=>+l);return Cd(r,i-1,s)}const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let o;if(o=t.match(ON))return function UN(t){const n=new Date(0);let e=0,o=0;const r=t[8]?n.setUTCFullYear:n.setFullYear,i=t[8]?n.setUTCHours:n.setHours;t[9]&&(e=Number(t[9]+t[10]),o=Number(t[9]+t[11])),r.call(n,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-e,l=Number(t[5]||0)-o,u=Number(t[6]||0),g=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return i.call(n,s,l,u,g),n}(o)}const n=new Date(t);if(!gM(n))throw new Error(`Unable to convert "${t}" into a date`);return n}(t);n=Ro(e,n)||n;let l,s=[];for(;n;){if(l=kN.exec(n),!l){s.push(n);break}{s=s.concat(l.slice(1));const m=s.pop();if(!m)break;n=m}}let u=r.getTimezoneOffset();o&&(u=pM(o,u),r=function RN(t,n,e){const o=e?-1:1,r=t.getTimezoneOffset();return function FN(t,n){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+n),t}(t,o*(pM(n,r)-r))}(r,o,!0));let g="";return s.forEach(m=>{const _=function NN(t){if(ch[t])return ch[t];let n;switch(t){case"G":case"GG":case"GGG":n=$e(we.Eras,Ue.Abbreviated);break;case"GGGG":n=$e(we.Eras,Ue.Wide);break;case"GGGGG":n=$e(we.Eras,Ue.Narrow);break;case"y":n=ht(Pe.FullYear,1,0,!1,!0);break;case"yy":n=ht(Pe.FullYear,2,0,!0,!0);break;case"yyy":n=ht(Pe.FullYear,3,0,!1,!0);break;case"yyyy":n=ht(Pe.FullYear,4,0,!1,!0);break;case"Y":n=wd(1);break;case"YY":n=wd(2,!0);break;case"YYY":n=wd(3);break;case"YYYY":n=wd(4);break;case"M":case"L":n=ht(Pe.Month,1,1);break;case"MM":case"LL":n=ht(Pe.Month,2,1);break;case"MMM":n=$e(we.Months,Ue.Abbreviated);break;case"MMMM":n=$e(we.Months,Ue.Wide);break;case"MMMMM":n=$e(we.Months,Ue.Narrow);break;case"LLL":n=$e(we.Months,Ue.Abbreviated,Kt.Standalone);break;case"LLLL":n=$e(we.Months,Ue.Wide,Kt.Standalone);break;case"LLLLL":n=$e(we.Months,Ue.Narrow,Kt.Standalone);break;case"w":n=ah(1);break;case"ww":n=ah(2);break;case"W":n=ah(1,!0);break;case"d":n=ht(Pe.Date,1);break;case"dd":n=ht(Pe.Date,2);break;case"c":case"cc":n=ht(Pe.Day,1);break;case"ccc":n=$e(we.Days,Ue.Abbreviated,Kt.Standalone);break;case"cccc":n=$e(we.Days,Ue.Wide,Kt.Standalone);break;case"ccccc":n=$e(we.Days,Ue.Narrow,Kt.Standalone);break;case"cccccc":n=$e(we.Days,Ue.Short,Kt.Standalone);break;case"E":case"EE":case"EEE":n=$e(we.Days,Ue.Abbreviated);break;case"EEEE":n=$e(we.Days,Ue.Wide);break;case"EEEEE":n=$e(we.Days,Ue.Narrow);break;case"EEEEEE":n=$e(we.Days,Ue.Short);break;case"a":case"aa":case"aaa":n=$e(we.DayPeriods,Ue.Abbreviated);break;case"aaaa":n=$e(we.DayPeriods,Ue.Wide);break;case"aaaaa":n=$e(we.DayPeriods,Ue.Narrow);break;case"b":case"bb":case"bbb":n=$e(we.DayPeriods,Ue.Abbreviated,Kt.Standalone,!0);break;case"bbbb":n=$e(we.DayPeriods,Ue.Wide,Kt.Standalone,!0);break;case"bbbbb":n=$e(we.DayPeriods,Ue.Narrow,Kt.Standalone,!0);break;case"B":case"BB":case"BBB":n=$e(we.DayPeriods,Ue.Abbreviated,Kt.Format,!0);break;case"BBBB":n=$e(we.DayPeriods,Ue.Wide,Kt.Format,!0);break;case"BBBBB":n=$e(we.DayPeriods,Ue.Narrow,Kt.Format,!0);break;case"h":n=ht(Pe.Hours,1,-12);break;case"hh":n=ht(Pe.Hours,2,-12);break;case"H":n=ht(Pe.Hours,1);break;case"HH":n=ht(Pe.Hours,2);break;case"m":n=ht(Pe.Minutes,1);break;case"mm":n=ht(Pe.Minutes,2);break;case"s":n=ht(Pe.Seconds,1);break;case"ss":n=ht(Pe.Seconds,2);break;case"S":n=ht(Pe.FractionalSeconds,1);break;case"SS":n=ht(Pe.FractionalSeconds,2);break;case"SSS":n=ht(Pe.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=Md(Fo.Short);break;case"ZZZZZ":n=Md(Fo.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=Md(Fo.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=Md(Fo.Long);break;default:return null}return ch[t]=n,n}(m);g+=_?_(r,e,u):"''"===m?"'":m.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),g}function Cd(t,n,e){const o=new Date(0);return o.setFullYear(t,n,e),o.setHours(0,0,0),o}function Ro(t,n){const e=function fN(t){return Gt(t)[je.LocaleId]}(t);if(vd[e]??={},vd[e][n])return vd[e][n];let o="";switch(n){case"shortDate":o=_d(t,mn.Short);break;case"mediumDate":o=_d(t,mn.Medium);break;case"longDate":o=_d(t,mn.Long);break;case"fullDate":o=_d(t,mn.Full);break;case"shortTime":o=bd(t,mn.Short);break;case"mediumTime":o=bd(t,mn.Medium);break;case"longTime":o=bd(t,mn.Long);break;case"fullTime":o=bd(t,mn.Full);break;case"short":const r=Ro(t,"shortTime"),i=Ro(t,"shortDate");o=xd(yd(t,mn.Short),[r,i]);break;case"medium":const s=Ro(t,"mediumTime"),l=Ro(t,"mediumDate");o=xd(yd(t,mn.Medium),[s,l]);break;case"long":const u=Ro(t,"longTime"),g=Ro(t,"longDate");o=xd(yd(t,mn.Long),[u,g]);break;case"full":const m=Ro(t,"fullTime"),_=Ro(t,"fullDate");o=xd(yd(t,mn.Full),[m,_])}return o&&(vd[e][n]=o),o}function xd(t,n){return n&&(t=t.replace(/\{([^}]+)}/g,function(e,o){return null!=n&&o in n?n[o]:e})),t}function Un(t,n,e="-",o,r){let i="";(t<0||r&&t<=0)&&(r?t=1-t:(t=-t,i=e));let s=String(t);for(;s.length<n;)s="0"+s;return o&&(s=s.slice(s.length-n)),i+s}function ht(t,n,e=0,o=!1,r=!1){return function(i,s){let l=function IN(t,n){switch(t){case Pe.FullYear:return n.getFullYear();case Pe.Month:return n.getMonth();case Pe.Date:return n.getDate();case Pe.Hours:return n.getHours();case Pe.Minutes:return n.getMinutes();case Pe.Seconds:return n.getSeconds();case Pe.FractionalSeconds:return n.getMilliseconds();case Pe.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,i);if((e>0||l>-e)&&(l+=e),t===Pe.Hours)0===l&&-12===e&&(l=12);else if(t===Pe.FractionalSeconds)return function SN(t,n){return Un(t,3).substring(0,n)}(l,n);const u=Mn(s,ft.MinusSign);return Un(l,n,u,o,r)}}function $e(t,n,e=Kt.Format,o=!1){return function(r,i){return function TN(t,n,e,o,r,i){switch(e){case we.Months:return function _N(t,n,e){const o=Gt(t),i=Pn([o[je.MonthsFormat],o[je.MonthsStandalone]],n);return Pn(i,e)}(n,r,o)[t.getMonth()];case we.Days:return function mN(t,n,e){const o=Gt(t),i=Pn([o[je.DaysFormat],o[je.DaysStandalone]],n);return Pn(i,e)}(n,r,o)[t.getDay()];case we.DayPeriods:const s=t.getHours(),l=t.getMinutes();if(i){const g=function CN(t){const n=Gt(t);return dM(n),(n[je.ExtraData][2]||[]).map(o=>"string"==typeof o?sh(o):[sh(o[0]),sh(o[1])])}(n),m=function xN(t,n,e){const o=Gt(t);dM(o);const i=Pn([o[je.ExtraData][0],o[je.ExtraData][1]],n)||[];return Pn(i,e)||[]}(n,r,o),_=g.findIndex(x=>{if(Array.isArray(x)){const[M,O]=x,k=s>=M.hours&&l>=M.minutes,I=s<O.hours||s===O.hours&&l<O.minutes;if(M.hours<O.hours){if(k&&I)return!0}else if(k||I)return!0}else if(x.hours===s&&x.minutes===l)return!0;return!1});if(-1!==_)return m[_]}return function hN(t,n,e){const o=Gt(t),i=Pn([o[je.DayPeriodsFormat],o[je.DayPeriodsStandalone]],n);return Pn(i,e)}(n,r,o)[s<12?0:1];case we.Eras:return function bN(t,n){return Pn(Gt(t)[je.Eras],n)}(n,o)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,i,t,n,e,o)}}function Md(t){return function(n,e,o){const r=-1*o,i=Mn(e,ft.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case Fo.Short:return(r>=0?"+":"")+Un(s,2,i)+Un(Math.abs(r%60),2,i);case Fo.ShortGMT:return"GMT"+(r>=0?"+":"")+Un(s,1,i);case Fo.Long:return"GMT"+(r>=0?"+":"")+Un(s,2,i)+":"+Un(Math.abs(r%60),2,i);case Fo.Extended:return 0===o?"Z":(r>=0?"+":"")+Un(s,2,i)+":"+Un(Math.abs(r%60),2,i);default:throw new Error(`Unknown zone width "${t}"`)}}}const EN=0,Pd=4;function uM(t){const n=t.getDay(),e=0===n?-3:Pd-n;return Cd(t.getFullYear(),t.getMonth(),t.getDate()+e)}function ah(t,n=!1){return function(e,o){let r;if(n){const i=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();r=1+Math.floor((s+i)/7)}else{const i=uM(e),s=function AN(t){const n=Cd(t,EN,1).getDay();return Cd(t,0,1+(n<=Pd?Pd:Pd+7)-n)}(i.getFullYear()),l=i.getTime()-s.getTime();r=1+Math.round(l/6048e5)}return Un(r,t,Mn(o,ft.MinusSign))}}function wd(t,n=!1){return function(e,o){return Un(uM(e).getFullYear(),t,Mn(o,ft.MinusSign),n)}}const ch={};function pM(t,n){t=t.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?n:e}function gM(t){return t instanceof Date&&!isNaN(t.valueOf())}const VN=/^(\d+)?\.((\d+)(-(\d+))?)?$/,fM=22,Od=".",La="0",BN=";",zN=",",lh="#";function dh(t,n,e,o,r,i,s=!1){let l="",u=!1;if(isFinite(t)){let g=function GN(t){let o,r,i,s,l,n=Math.abs(t)+"",e=0;for((r=n.indexOf(Od))>-1&&(n=n.replace(Od,"")),(i=n.search(/e/i))>0?(r<0&&(r=i),r+=+n.slice(i+1),n=n.substring(0,i)):r<0&&(r=n.length),i=0;n.charAt(i)===La;i++);if(i===(l=n.length))o=[0],r=1;else{for(l--;n.charAt(l)===La;)l--;for(r-=i,o=[],s=0;i<=l;i++,s++)o[s]=Number(n.charAt(i))}return r>fM&&(o=o.splice(0,fM-1),e=r-1,r=1),{digits:o,exponent:e,integerLen:r}}(t);s&&(g=function WN(t){if(0===t.digits[0])return t;const n=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===n?t.digits.push(0,0):1===n&&t.digits.push(0),t.integerLen+=2),t}(g));let m=n.minInt,_=n.minFrac,x=n.maxFrac;if(i){const T=i.match(VN);if(null===T)throw new Error(`${i} is not a valid digit info`);const $=T[1],G=T[3],K=T[5];null!=$&&(m=ph($)),null!=G&&(_=ph(G)),null!=K?x=ph(K):null!=G&&_>x&&(x=_)}!function YN(t,n,e){if(n>e)throw new Error(`The minimum number of digits after fraction (${n}) is higher than the maximum (${e}).`);let o=t.digits,r=o.length-t.integerLen;const i=Math.min(Math.max(n,r),e);let s=i+t.integerLen,l=o[s];if(s>0){o.splice(Math.max(t.integerLen,s));for(let _=s;_<o.length;_++)o[_]=0}else{r=Math.max(0,r),t.integerLen=1,o.length=Math.max(1,s=i+1),o[0]=0;for(let _=1;_<s;_++)o[_]=0}if(l>=5)if(s-1<0){for(let _=0;_>s;_--)o.unshift(0),t.integerLen++;o.unshift(1),t.integerLen++}else o[s-1]++;for(;r<Math.max(0,i);r++)o.push(0);let u=0!==i;const g=n+t.integerLen,m=o.reduceRight(function(_,x,M,O){return O[M]=(x+=_)<10?x:x-10,u&&(0===O[M]&&M>=g?O.pop():u=!1),x>=10?1:0},0);m&&(o.unshift(m),t.integerLen++)}(g,_,x);let M=g.digits,O=g.integerLen;const k=g.exponent;let I=[];for(u=M.every(T=>!T);O<m;O++)M.unshift(0);for(;O<0;O++)M.unshift(0);O>0?I=M.splice(O,M.length):(I=M,M=[0]);const N=[];for(M.length>=n.lgSize&&N.unshift(M.splice(-n.lgSize,M.length).join(""));M.length>n.gSize;)N.unshift(M.splice(-n.gSize,M.length).join(""));M.length&&N.unshift(M.join("")),l=N.join(Mn(e,o)),I.length&&(l+=Mn(e,r)+I.join("")),k&&(l+=Mn(e,ft.Exponential)+"+"+k)}else l=Mn(e,ft.Infinity);return l=t<0&&!u?n.negPre+l+n.negSuf:n.posPre+l+n.posSuf,l}function uh(t,n="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},o=t.split(BN),r=o[0],i=o[1],s=-1!==r.indexOf(Od)?r.split(Od):[r.substring(0,r.lastIndexOf(La)+1),r.substring(r.lastIndexOf(La)+1)],l=s[0],u=s[1]||"";e.posPre=l.substring(0,l.indexOf(lh));for(let m=0;m<u.length;m++){const _=u.charAt(m);_===La?e.minFrac=e.maxFrac=m+1:_===lh?e.maxFrac=m+1:e.posSuf+=_}const g=l.split(zN);if(e.gSize=g[1]?g[1].length:0,e.lgSize=g[2]||g[1]?(g[2]||g[1]).length:0,i){const m=r.length-e.posPre.length-e.posSuf.length,_=i.indexOf(lh);e.negPre=i.substring(0,_).replace(/'/g,""),e.negSuf=i.slice(_+m).replace(/'/g,"")}else e.negPre=n+e.posPre,e.negSuf=e.posSuf;return e}function ph(t){const n=parseInt(t);if(isNaN(n))throw new Error("Invalid integer literal when parsing "+t);return n}function _M(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const o=e.indexOf("="),[r,i]=-1==o?[e,""]:[e.slice(0,o),e.slice(o+1)];if(r.trim()===n)return decodeURIComponent(i)}return null}const fh=/\s+/,bM=[];let Ua=(()=>{class t{constructor(e,o){this._ngEl=e,this._renderer=o,this.initialClasses=bM,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(fh):bM}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(fh):e}ngDoCheck(){for(const o of this.initialClasses)this._updateState(o,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const o of e)this._updateState(o,!0);else if(null!=e)for(const o of Object.keys(e))this._updateState(o,!!e[o]);this._applyStateDiff()}_updateState(e,o){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==o&&(r.changed=!0,r.enabled=o),r.touched=!0):this.stateMap.set(e,{enabled:o,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const o=e[0],r=e[1];r.changed?(this._toggleClass(o,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(o,!1),this.stateMap.delete(o)),r.touched=!1}}_toggleClass(e,o){(e=e.trim()).length>0&&e.split(fh).forEach(r=>{o?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(o){return new(o||t)(V(pn),V(To))}}static{this.\u0275dir=te({type:t,selectors:[["","ngClass",""]],inputs:{klass:[We.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();class JN{constructor(n,e,o,r){this.$implicit=n,this.ngForOf=e,this.index=o,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let De=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,o,r){this._viewContainer=e,this._template=o,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const o=this._viewContainer;e.forEachOperation((r,i,s)=>{if(null==r.previousIndex)o.createEmbeddedView(this._template,new JN(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)o.remove(null===i?void 0:i);else if(null!==i){const l=o.get(i);o.move(l,s),vM(l,r)}});for(let r=0,i=o.length;r<i;r++){const l=o.get(r).context;l.index=r,l.count=i,l.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{vM(o.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,o){return!0}static{this.\u0275fac=function(o){return new(o||t)(V(Fn),V(Io),V(eh))}}static{this.\u0275dir=te({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function vM(t,n){t.context.$implicit=n.item}let ve=(()=>{class t{constructor(e,o){this._viewContainer=e,this._context=new XN,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){CM("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){CM("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,o){return!0}static{this.\u0275fac=function(o){return new(o||t)(V(Fn),V(Io))}}static{this.\u0275dir=te({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})();class XN{constructor(){this.$implicit=null,this.ngIf=null}}function CM(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${yt(n)}'.`)}let _h=(()=>{class t{constructor(e,o,r){this._ngEl=e,this._differs=o,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,o){const[r,i]=e.split("."),s=-1===r.indexOf("-")?void 0:Ko.DashCase;null!=o?this._renderer.setStyle(this._ngEl.nativeElement,r,i?`${o}${i}`:o,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(e){e.forEachRemovedItem(o=>this._setStyle(o.key,null)),e.forEachAddedItem(o=>this._setStyle(o.key,o.currentValue)),e.forEachChangedItem(o=>this._setStyle(o.key,o.currentValue))}static{this.\u0275fac=function(o){return new(o||t)(V(pn),V(dd),V(To))}}static{this.\u0275dir=te({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return t})();function Vn(t,n){return new U(2100,!1)}class oF{createSubscription(n,e){return oM(()=>n.subscribe({next:e,error:o=>{throw o}}))}dispose(n){oM(()=>n.unsubscribe())}}class rF{createSubscription(n,e){return n.then(e,o=>{throw o})}dispose(n){}}const iF=new rF,sF=new oF;let MM=(()=>{class t{constructor(e){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,o=>this._updateLatestValue(e,o))}_selectStrategy(e){if(Ea(e))return iF;if(fx(e))return sF;throw Vn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,o){e===this._obj&&(this._latestValue=o,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(o){return new(o||t)(V(Aa,16))}}static{this.\u0275pipe=en({name:"async",type:t,pure:!1,standalone:!0})}}return t})();const cF=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let bh=(()=>{class t{transform(e){if(null==e)return null;if("string"!=typeof e)throw Vn();return e.replace(cF,o=>o[0].toUpperCase()+o.slice(1).toLowerCase())}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275pipe=en({name:"titlecase",type:t,pure:!0,standalone:!0})}}return t})(),yh=(()=>{class t{transform(e){if(null==e)return null;if("string"!=typeof e)throw Vn();return e.toUpperCase()}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275pipe=en({name:"uppercase",type:t,pure:!0,standalone:!0})}}return t})();const dF=new H(""),uF=new H("");let kd=(()=>{class t{constructor(e,o,r){this.locale=e,this.defaultTimezone=o,this.defaultOptions=r}transform(e,o,r,i){if(null==e||""===e||e!=e)return null;try{return DN(e,o??this.defaultOptions?.dateFormat??"mediumDate",i||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw Vn()}}static{this.\u0275fac=function(o){return new(o||t)(V(Eo,16),V(dF,24),V(uF,24))}}static{this.\u0275pipe=en({name:"date",type:t,pure:!0,standalone:!0})}}return t})(),PM=(()=>{class t{transform(e){return JSON.stringify(e,null,2)}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275pipe=en({name:"json",type:t,pure:!1,standalone:!0})}}return t})(),wM=(()=>{class t{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=OM}transform(e,o=OM){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ??=this.differs.find(e).create();const r=this.differ.diff(e),i=o!==this.compareFn;return r&&(this.keyValues=[],r.forEachItem(s=>{this.keyValues.push(function hF(t,n){return{key:t,value:n}}(s.key,s.currentValue))})),(r||i)&&(this.keyValues.sort(o),this.compareFn=o),this.keyValues}static{this.\u0275fac=function(o){return new(o||t)(V(dd,16))}}static{this.\u0275pipe=en({name:"keyvalue",type:t,pure:!1,standalone:!0})}}return t})();function OM(t,n){const e=t.key,o=n.key;if(e===o)return 0;if(void 0===e)return 1;if(void 0===o)return-1;if(null===e)return 1;if(null===o)return-1;if("string"==typeof e&&"string"==typeof o)return e<o?-1:1;if("number"==typeof e&&"number"==typeof o)return e-o;if("boolean"==typeof e&&"boolean"==typeof o)return e<o?-1:1;const r=String(e),i=String(o);return r==i?0:r<i?-1:1}let co=(()=>{class t{constructor(e){this._locale=e}transform(e,o,r){if(!vh(e))return null;r||=this._locale;try{return function qN(t,n,e){return dh(t,uh(ih(n,md.Decimal),Mn(n,ft.MinusSign)),n,ft.Group,ft.Decimal,e)}(Ch(e),r,o)}catch(i){throw Vn()}}static{this.\u0275fac=function(o){return new(o||t)(V(Eo,16))}}static{this.\u0275pipe=en({name:"number",type:t,pure:!0,standalone:!0})}}return t})(),kM=(()=>{class t{constructor(e,o="USD"){this._locale=e,this._defaultCurrencyCode=o}transform(e,o=this._defaultCurrencyCode,r="symbol",i,s){if(!vh(e))return null;s||=this._locale,"boolean"==typeof r&&(r=r?"symbol":"code");let l=o||this._defaultCurrencyCode;"code"!==r&&(l="symbol"===r||"symbol-narrow"===r?function MN(t,n,e="en"){const o=function yN(t){return Gt(t)[je.Currencies]}(e)[t]||lM[t]||[],r=o[1];return"narrow"===n&&"string"==typeof r?r:o[0]||t}(l,"symbol"===r?"wide":"narrow",s):r);try{return function $N(t,n,e,o,r){const s=uh(ih(n,md.Currency),Mn(n,ft.MinusSign));return s.minFrac=function wN(t){let n;const e=lM[t];return e&&(n=e[2]),"number"==typeof n?n:2}(o),s.maxFrac=s.minFrac,dh(t,s,n,ft.CurrencyGroup,ft.CurrencyDecimal,r).replace("\xa4",e).replace("\xa4","").trim()}(Ch(e),s,l,o,i)}catch(u){throw Vn()}}static{this.\u0275fac=function(o){return new(o||t)(V(Eo,16),V(s5,16))}}static{this.\u0275pipe=en({name:"currency",type:t,pure:!0,standalone:!0})}}return t})();function vh(t){return!(null==t||""===t||t!=t)}function Ch(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}let Dd=(()=>{class t{transform(e,o,r){if(null==e)return null;if(!this.supports(e))throw Vn();return e.slice(o,r)}supports(e){return"string"==typeof e||Array.isArray(e)}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275pipe=en({name:"slice",type:t,pure:!1,standalone:!0})}}return t})(),pe=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=Cr({type:t})}static{this.\u0275inj=jo({})}}return t})();const DM="browser";function SM(t){return"server"===t}let CF=(()=>{class t{static{this.\u0275prov=z({token:t,providedIn:"root",factory:()=>function vF(t){return t===DM}(w(Go))?new xF(w(hn),window):new PF})}}return t})();class xF{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){const e=function MF(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const o=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=o.currentNode;for(;r;){const i=r.shadowRoot;if(i){const s=i.getElementById(n)||i.querySelector(`[name="${n}"]`);if(s)return s}r=o.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){const e=n.getBoundingClientRect(),o=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(o-i[0],r-i[1])}}class PF{setOffset(n){}getScrollPosition(){return[0,0]}scrollToPosition(n){}scrollToAnchor(n){}setHistoryScrollRestoration(n){}}class IM{}class XF extends sN{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Mh extends XF{static makeCurrent(){!function iN(t){rM??=t}(new Mh)}onAndCancel(n,e,o){return n.addEventListener(e,o),()=>{n.removeEventListener(e,o)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function ZF(){return za=za||document.querySelector("base"),za?za.getAttribute("href"):null}();return null==e?null:function eR(t){return new URL(t,document.baseURI).pathname}(e)}resetBaseElement(){za=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return _M(document.cookie,n)}}let za=null,nR=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac})}}return t})();const Ph=new H("");let VM=(()=>{class t{constructor(e,o){this._zone=o,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,o,r){return this._findPluginFor(o).addEventListener(e,o,r)}getZone(){return this._zone}_findPluginFor(e){let o=this._eventNameToPlugin.get(e);if(o)return o;if(o=this._plugins.find(i=>i.supports(e)),!o)throw new U(5101,!1);return this._eventNameToPlugin.set(e,o),o}static{this.\u0275fac=function(o){return new(o||t)(W(Ph),W(ke))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac})}}return t})();class BM{constructor(n){this._doc=n}}const wh="ng-app-id";let zM=(()=>{class t{constructor(e,o,r,i={}){this.doc=e,this.appId=o,this.nonce=r,this.platformId=i,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=SM(i),this.resetHostNodes()}addStyles(e){for(const o of e)1===this.changeUsageCount(o,1)&&this.onStyleAdded(o)}removeStyles(e){for(const o of e)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(o=>o.remove()),e.clear());for(const o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const o of this.getAllStyles())this.addStyleToHost(e,o)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const o of this.hostNodes)this.addStyleToHost(o,e)}onStyleRemoved(e){const o=this.styleRef;o.get(e)?.elements?.forEach(r=>r.remove()),o.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${wh}="${this.appId}"]`);if(e?.length){const o=new Map;return e.forEach(r=>{null!=r.textContent&&o.set(r.textContent,r)}),o}return null}changeUsageCount(e,o){const r=this.styleRef;if(r.has(e)){const i=r.get(e);return i.usage+=o,i.usage}return r.set(e,{usage:o,elements:[]}),o}getStyleElement(e,o){const r=this.styleNodesInDOM,i=r?.get(o);if(i?.parentNode===e)return r.delete(o),i.removeAttribute(wh),i;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=o,this.platformIsServer&&s.setAttribute(wh,this.appId),e.appendChild(s),s}}addStyleToHost(e,o){const r=this.getStyleElement(e,o),i=this.styleRef,s=i.get(o)?.elements;s?s.push(r):i.set(o,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(o){return new(o||t)(W(hn),W(Gp),W(v1,8),W(Go))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac})}}return t})();const Oh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},kh=/%COMP%/g,sR=new H("",{providedIn:"root",factory:()=>!0});function $M(t,n){return n.map(e=>e.replace(kh,t))}let HM=(()=>{class t{constructor(e,o,r,i,s,l,u,g=null){this.eventManager=e,this.sharedStylesHost=o,this.appId=r,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=l,this.ngZone=u,this.nonce=g,this.rendererByCompId=new Map,this.platformIsServer=SM(l),this.defaultRenderer=new Dh(e,s,u,this.platformIsServer)}createRenderer(e,o){if(!e||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===Dn.ShadowDom&&(o={...o,encapsulation:Dn.Emulated});const r=this.getOrCreateRenderer(e,o);return r instanceof WM?r.applyToHost(e):r instanceof Sh&&r.applyStyles(),r}getOrCreateRenderer(e,o){const r=this.rendererByCompId;let i=r.get(o.id);if(!i){const s=this.doc,l=this.ngZone,u=this.eventManager,g=this.sharedStylesHost,m=this.removeStylesOnCompDestroy,_=this.platformIsServer;switch(o.encapsulation){case Dn.Emulated:i=new WM(u,g,o,this.appId,m,s,l,_);break;case Dn.ShadowDom:return new dR(u,g,e,o,s,l,this.nonce,_);default:i=new Sh(u,g,o,m,s,l,_)}r.set(o.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(o){return new(o||t)(W(VM),W(zM),W(Gp),W(sR),W(hn),W(Go),W(ke),W(v1))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac})}}return t})();class Dh{constructor(n,e,o,r){this.eventManager=n,this.doc=e,this.ngZone=o,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(Oh[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(qM(n)?n.content:n).appendChild(e)}insertBefore(n,e,o){n&&(qM(n)?n.content:n).insertBefore(e,o)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let o="string"==typeof n?this.doc.querySelector(n):n;if(!o)throw new U(-5104,!1);return e||(o.textContent=""),o}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,o,r){if(r){e=r+":"+e;const i=Oh[r];i?n.setAttributeNS(i,e,o):n.setAttribute(e,o)}else n.setAttribute(e,o)}removeAttribute(n,e,o){if(o){const r=Oh[o];r?n.removeAttributeNS(r,e):n.removeAttribute(`${o}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,o,r){r&(Ko.DashCase|Ko.Important)?n.style.setProperty(e,o,r&Ko.Important?"important":""):n.style[e]=o}removeStyle(n,e,o){o&Ko.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,o){null!=n&&(n[e]=o)}setValue(n,e){n.nodeValue=e}listen(n,e,o){if("string"==typeof n&&!(n=or().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(o))}decoratePreventDefault(n){return e=>{if("__ngUnwrap__"===e)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))&&e.preventDefault()}}}function qM(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class dR extends Dh{constructor(n,e,o,r,i,s,l,u){super(n,i,s,u),this.sharedStylesHost=e,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const g=$M(r.id,r.styles);for(const m of g){const _=document.createElement("style");l&&_.setAttribute("nonce",l),_.textContent=m,this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,o){return super.insertBefore(this.nodeOrShadowRoot(n),e,o)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Sh extends Dh{constructor(n,e,o,r,i,s,l,u){super(n,i,s,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=u?$M(u,o.styles):o.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class WM extends Sh{constructor(n,e,o,r,i,s,l,u){const g=r+"-"+o.id;super(n,e,o,i,s,l,u,g),this.contentAttr=function aR(t){return"_ngcontent-%COMP%".replace(kh,t)}(g),this.hostAttr=function cR(t){return"_nghost-%COMP%".replace(kh,t)}(g)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){const o=super.createElement(n,e);return super.setAttribute(o,this.contentAttr,""),o}}const GM=["alt","control","meta","shift"],pR={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gR={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};function YM(t){return{appProviders:[...CR,...t?.providers??[]],platformProviders:yR}}const yR=[{provide:Go,useValue:DM},{provide:y1,useValue:function mR(){Mh.makeCurrent()},multi:!0},{provide:hn,useFactory:function bR(){return function yD(t){Wp=t}(document),document},deps:[]}],CR=[{provide:cp,useValue:"root"},{provide:Zn,useFactory:function _R(){return new Zn},deps:[]},{provide:Ph,useClass:(()=>{class t extends BM{constructor(e){super(e)}supports(e){return!0}addEventListener(e,o,r){return e.addEventListener(o,r,!1),()=>this.removeEventListener(e,o,r)}removeEventListener(e,o,r){return e.removeEventListener(o,r)}static{this.\u0275fac=function(o){return new(o||t)(W(hn))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac})}}return t})(),multi:!0,deps:[hn,ke,Go]},{provide:Ph,useClass:(()=>{class t extends BM{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,o,r){const i=t.parseEventName(o),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>or().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const o=e.toLowerCase().split("."),r=o.shift();if(0===o.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(o.pop());let s="",l=o.indexOf("code");if(l>-1&&(o.splice(l,1),s="code."),GM.forEach(g=>{const m=o.indexOf(g);m>-1&&(o.splice(m,1),s+=g+".")}),s+=i,0!=o.length||0===i.length)return null;const u={};return u.domEventName=r,u.fullKey=s,u}static matchEventFullKeyCode(e,o){let r=pR[e.key]||e.key,i="";return o.indexOf("code.")>-1&&(r=e.code,i="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),GM.forEach(s=>{s!==r&&(0,gR[s])(e)&&(i+=s+".")}),i+=r,i===o)}static eventCallback(e,o,r){return i=>{t.matchEventFullKeyCode(i,e)&&r.runGuarded(()=>o(i))}}static _normalizeKey(e){return"esc"===e?"escape":e}static{this.\u0275fac=function(o){return new(o||t)(W(hn))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac})}}return t})(),multi:!0,deps:[hn]},HM,zM,VM,{provide:zb,useExisting:HM},{provide:IM,useClass:nR,deps:[]},[]];let xR=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(o){return new(o||t)(W(hn))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function rr(t){return this instanceof rr?(this.v=t,this):new rr(t)}function tP(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function Ah(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],o=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},o("next"),o("throw"),o("return"),e[Symbol.asyncIterator]=function(){return this},e);function o(i){e[i]=t[i]&&function(s){return new Promise(function(l,u){!function r(i,s,l,u){Promise.resolve(u).then(function(g){i({value:g,done:l})},s)}(l,u,(s=t[i](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const nP=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function oP(t){return qe(t?.then)}function rP(t){return qe(t[Vu])}function iP(t){return Symbol.asyncIterator&&qe(t?.[Symbol.asyncIterator])}function sP(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const aP=function ZR(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function cP(t){return qe(t?.[aP])}function lP(t){return function eP(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=e.apply(t,n||[]),i=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",function s(M){return function(O){return Promise.resolve(O).then(M,_)}}),r[Symbol.asyncIterator]=function(){return this},r;function l(M,O){o[M]&&(r[M]=function(k){return new Promise(function(I,N){i.push([M,k,I,N])>1||u(M,k)})},O&&(r[M]=O(r[M])))}function u(M,O){try{!function g(M){M.value instanceof rr?Promise.resolve(M.value.v).then(m,_):x(i[0][2],M)}(o[M](O))}catch(k){x(i[0][3],k)}}function m(M){u("next",M)}function _(M){u("throw",M)}function x(M,O){M(O),i.shift(),i.length&&u(i[0][0],i[0][1])}}(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:o,done:r}=yield rr(e.read());if(r)return yield rr(void 0);yield yield rr(o)}}finally{e.releaseLock()}})}function dP(t){return qe(t?.getReader)}function wn(t){if(t instanceof it)return t;if(null!=t){if(rP(t))return function e8(t){return new it(n=>{const e=t[Vu]();if(qe(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(nP(t))return function t8(t){return new it(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(oP(t))return function n8(t){return new it(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,C_)})}(t);if(iP(t))return uP(t);if(cP(t))return function o8(t){return new it(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(dP(t))return function r8(t){return uP(lP(t))}(t)}throw sP(t)}function uP(t){return new it(n=>{(function i8(t,n){var e,o,r,i;return function XM(t,n,e,o){return new(e||(e=Promise))(function(i,s){function l(m){try{g(o.next(m))}catch(_){s(_)}}function u(m){try{g(o.throw(m))}catch(_){s(_)}}function g(m){m.done?i(m.value):function r(i){return i instanceof e?i:new e(function(s){s(i)})}(m.value).then(l,u)}g((o=o.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){try{for(e=tP(t);!(o=yield e.next()).done;)if(n.next(o.value),n.closed)return}catch(s){r={error:s}}finally{try{o&&!o.done&&(i=e.return)&&(yield i.call(e))}finally{if(r)throw r.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function Lo(t,n,e,o=0,r=!1){const i=n.schedule(function(){e(),r?t.add(this.schedule(null,o)):this.unsubscribe()},o);if(t.add(i),!r)return i}function pP(t,n=0){return Dt((e,o)=>{e.subscribe(bt(o,r=>Lo(o,t,()=>o.next(r),n),()=>Lo(o,t,()=>o.complete(),n),r=>Lo(o,t,()=>o.error(r),n)))})}function gP(t,n=0){return Dt((e,o)=>{o.add(t.schedule(()=>e.subscribe(o),n))})}function fP(t,n){if(!t)throw new Error("Iterable cannot be null");return new it(e=>{Lo(e,n,()=>{const o=t[Symbol.asyncIterator]();Lo(e,n,()=>{o.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function Ot(t,n){return n?function u8(t,n){if(null!=t){if(rP(t))return function s8(t,n){return wn(t).pipe(gP(n),pP(n))}(t,n);if(nP(t))return function c8(t,n){return new it(e=>{let o=0;return n.schedule(function(){o===t.length?e.complete():(e.next(t[o++]),e.closed||this.schedule())})})}(t,n);if(oP(t))return function a8(t,n){return wn(t).pipe(gP(n),pP(n))}(t,n);if(iP(t))return fP(t,n);if(cP(t))return function l8(t,n){return new it(e=>{let o;return Lo(e,n,()=>{o=t[aP](),Lo(e,n,()=>{let r,i;try{({value:r,done:i}=o.next())}catch(s){return void e.error(s)}i?e.complete():e.next(r)},0,!0)}),()=>qe(o?.return)&&o.return()})}(t,n);if(dP(t))return function d8(t,n){return fP(lP(t),n)}(t,n)}throw sP(t)}(t,n):wn(t)}function Fh(t){return t[t.length-1]}function hP(t){return qe(Fh(t))?t.pop():void 0}function Ed(t){return function p8(t){return t&&qe(t.schedule)}(Fh(t))?t.pop():void 0}function q(...t){return Ot(t,Ed(t))}const{isArray:g8}=Array,{getPrototypeOf:f8,prototype:h8,keys:m8}=Object;function mP(t){if(1===t.length){const n=t[0];if(g8(n))return{args:n,keys:null};if(function _8(t){return t&&"object"==typeof t&&f8(t)===h8}(n)){const e=m8(n);return{args:e.map(o=>n[o]),keys:e}}}return{args:t,keys:null}}const{isArray:b8}=Array;function _P(t){return ie(n=>function y8(t,n){return b8(n)?t(...n):t(n)}(t,n))}function bP(t,n){return t.reduce((e,o,r)=>(e[o]=n[r],e),{})}function Rh(...t){const n=Ed(t),e=hP(t),{args:o,keys:r}=mP(t);if(0===o.length)return Ot([],n);const i=new it(function v8(t,n,e=br){return o=>{yP(n,()=>{const{length:r}=t,i=new Array(r);let s=r,l=r;for(let u=0;u<r;u++)yP(n,()=>{const g=Ot(t[u],n);let m=!1;g.subscribe(bt(o,_=>{i[u]=_,m||(m=!0,l--),l||o.next(e(i.slice()))},()=>{--s||o.complete()}))},o)},o)}}(o,n,r?s=>bP(r,s):br));return e?i.pipe(_P(e)):i}function yP(t,n,e){t?Lo(e,t,n):n()}const $a=Tu(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Bt(t,n,e=1/0){return qe(n)?Bt((o,r)=>ie((i,s)=>n(o,i,r,s))(wn(t(o,r))),e):("number"==typeof n&&(e=n),Dt((o,r)=>function C8(t,n,e,o,r,i,s,l){const u=[];let g=0,m=0,_=!1;const x=()=>{_&&!u.length&&!g&&n.complete()},M=k=>g<o?O(k):u.push(k),O=k=>{i&&n.next(k),g++;let I=!1;wn(e(k,m++)).subscribe(bt(n,N=>{r?.(N),i?M(N):n.next(N)},()=>{I=!0},void 0,()=>{if(I)try{for(g--;u.length&&g<o;){const N=u.shift();s?Lo(n,s,()=>O(N)):O(N)}x()}catch(N){n.error(N)}}))};return t.subscribe(bt(n,M,()=>{_=!0,x()})),()=>{l?.()}}(o,r,t,e)))}function Ha(t=1/0){return Bt(br,t)}function Lh(...t){return function x8(){return Ha(1)}()(Ot(t,Ed(t)))}function vP(t){return new it(n=>{wn(t()).subscribe(n)})}function ir(t,n){const e=qe(t)?t:()=>t,o=r=>r.error(e());return new it(n?r=>n.schedule(o,0,r):o)}const lo=new it(t=>t.complete());function Uh(){return Dt((t,n)=>{let e=null;t._refCount++;const o=bt(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const r=t._connection,i=e;e=null,r&&(!i||r===i)&&r.unsubscribe(),n.unsubscribe()});t.subscribe(o),o.closed||(e=t.connect())})}class CP extends it{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,w_(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Jt;const e=this.getSubject();n.add(this.source.subscribe(bt(e,void 0,()=>{this._teardown(),e.complete()},o=>{this._teardown(),e.error(o)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Jt.EMPTY)}return n}refCount(){return Uh()(this)}}function _n(t,n){return Dt((e,o)=>{let r=null,i=0,s=!1;const l=()=>s&&!r&&o.complete();e.subscribe(bt(o,u=>{r?.unsubscribe();let g=0;const m=i++;wn(t(u,m)).subscribe(r=bt(o,_=>o.next(n?n(u,_,m,g++):_),()=>{r=null,l()}))},()=>{s=!0,l()}))})}function Qi(t){return t<=0?()=>lo:Dt((n,e)=>{let o=0;n.subscribe(bt(e,r=>{++o<=t&&(e.next(r),t<=o&&e.complete())}))})}function Bn(t,n){return Dt((e,o)=>{let r=0;e.subscribe(bt(o,i=>t.call(n,i,r++)&&o.next(i)))})}function Ad(t){return Dt((n,e)=>{let o=!1;n.subscribe(bt(e,r=>{o=!0,e.next(r)},()=>{o||e.next(t),e.complete()}))})}function xP(t=w8){return Dt((n,e)=>{let o=!1;n.subscribe(bt(e,r=>{o=!0,e.next(r)},()=>o?e.complete():e.error(t())))})}function w8(){return new $a}function Ur(t,n){const e=arguments.length>=2;return o=>o.pipe(t?Bn((r,i)=>t(r,i,o)):br,Qi(1),e?Ad(n):xP(()=>new $a))}function Ji(t,n){return qe(n)?Bt(t,n,1):Bt(t,1)}function Fe(t,n,e){const o=qe(t)||n||e?{next:t,error:n,complete:e}:t;return o?Dt((r,i)=>{var s;null===(s=o.subscribe)||void 0===s||s.call(o);let l=!0;r.subscribe(bt(i,u=>{var g;null===(g=o.next)||void 0===g||g.call(o,u),i.next(u)},()=>{var u;l=!1,null===(u=o.complete)||void 0===u||u.call(o),i.complete()},u=>{var g;l=!1,null===(g=o.error)||void 0===g||g.call(o,u),i.error(u)},()=>{var u,g;l&&(null===(u=o.unsubscribe)||void 0===u||u.call(o)),null===(g=o.finalize)||void 0===g||g.call(o)}))}):br}function Ce(t){return Dt((n,e)=>{let i,o=null,r=!1;o=n.subscribe(bt(e,void 0,void 0,s=>{i=wn(t(s,Ce(t)(n))),o?(o.unsubscribe(),o=null,i.subscribe(e)):r=!0})),r&&(o.unsubscribe(),o=null,i.subscribe(e))})}function Vh(t){return t<=0?()=>lo:Dt((n,e)=>{let o=[];n.subscribe(bt(e,r=>{o.push(r),t<o.length&&o.shift()},()=>{for(const r of o)e.next(r);e.complete()},void 0,()=>{o=null}))})}function qa(t){return Dt((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}function Bh(t){return Dt((n,e)=>{wn(t).subscribe(bt(e,()=>e.complete(),Nu)),!e.closed&&n.subscribe(e)})}const ce="primary",Wa=Symbol("RouteTitle");class I8{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Xi(t){return new I8(t)}function T8(t,n,e){const o=e.path.split("/");if(o.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||o.length<t.length))return null;const r={};for(let i=0;i<o.length;i++){const s=o[i],l=t[i];if(s.startsWith(":"))r[s.substring(1)]=l;else if(s!==l.path)return null}return{consumed:t.slice(0,o.length),posParams:r}}function uo(t,n){const e=t?zh(t):void 0,o=n?zh(n):void 0;if(!e||!o||e.length!=o.length)return!1;let r;for(let i=0;i<e.length;i++)if(r=e[i],!MP(t[r],n[r]))return!1;return!0}function zh(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function MP(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),o=[...n].sort();return e.every((r,i)=>o[i]===r)}return t===n}function PP(t){return t.length>0?t[t.length-1]:null}function sr(t){return function OR(t){return!!t&&(t instanceof it||qe(t.lift)&&qe(t.subscribe))}(t)?t:Ea(t)?Ot(Promise.resolve(t)):q(t)}const A8={exact:function kP(t,n,e){if(!Vr(t.segments,n.segments)||!Nd(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const o in n.children)if(!t.children[o]||!kP(t.children[o],n.children[o],e))return!1;return!0},subset:DP},wP={exact:function N8(t,n){return uo(t,n)},subset:function F8(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>MP(t[e],n[e]))},ignored:()=>!0};function OP(t,n,e){return A8[e.paths](t.root,n.root,e.matrixParams)&&wP[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function DP(t,n,e){return SP(t,n,n.segments,e)}function SP(t,n,e,o){if(t.segments.length>e.length){const r=t.segments.slice(0,e.length);return!(!Vr(r,e)||n.hasChildren()||!Nd(r,e,o))}if(t.segments.length===e.length){if(!Vr(t.segments,e)||!Nd(t.segments,e,o))return!1;for(const r in n.children)if(!t.children[r]||!DP(t.children[r],n.children[r],o))return!1;return!0}{const r=e.slice(0,t.segments.length),i=e.slice(t.segments.length);return!!(Vr(t.segments,r)&&Nd(t.segments,r,o)&&t.children[ce])&&SP(t.children[ce],n,i,o)}}function Nd(t,n,e){return n.every((o,r)=>wP[e](t[r].parameters,o.parameters))}class Zi{constructor(n=new Le([],{}),e={},o=null){this.root=n,this.queryParams=e,this.fragment=o}get queryParamMap(){return this._queryParamMap??=Xi(this.queryParams),this._queryParamMap}toString(){return U8.serialize(this)}}class Le{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Object.values(e).forEach(o=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fd(this)}}class Ga{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap??=Xi(this.parameters),this._parameterMap}toString(){return EP(this)}}function Vr(t,n){return t.length===n.length&&t.every((e,o)=>e.path===n[o].path)}let es=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=z({token:t,factory:()=>new jh,providedIn:"root"})}}return t})();class jh{parse(n){const e=new K8(n);return new Zi(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${Ya(n.root,!0)}`,o=function z8(t){const n=Object.entries(t).map(([e,o])=>Array.isArray(o)?o.map(r=>`${Rd(e)}=${Rd(r)}`).join("&"):`${Rd(e)}=${Rd(o)}`).filter(e=>e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${o}${"string"==typeof n.fragment?`#${function V8(t){return encodeURI(t)}(n.fragment)}`:""}`}}const U8=new jh;function Fd(t){return t.segments.map(n=>EP(n)).join("/")}function Ya(t,n){if(!t.hasChildren())return Fd(t);if(n){const e=t.children[ce]?Ya(t.children[ce],!1):"",o=[];return Object.entries(t.children).forEach(([r,i])=>{r!==ce&&o.push(`${r}:${Ya(i,!1)}`)}),o.length>0?`${e}(${o.join("//")})`:e}{const e=function L8(t,n){let e=[];return Object.entries(t.children).forEach(([o,r])=>{o===ce&&(e=e.concat(n(r,o)))}),Object.entries(t.children).forEach(([o,r])=>{o!==ce&&(e=e.concat(n(r,o)))}),e}(t,(o,r)=>r===ce?[Ya(t.children[ce],!1)]:[`${r}:${Ya(o,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ce]?`${Fd(t)}/${e[0]}`:`${Fd(t)}/(${e.join("//")})`}}function IP(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rd(t){return IP(t).replace(/%3B/gi,";")}function $h(t){return IP(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ld(t){return decodeURIComponent(t)}function TP(t){return Ld(t.replace(/\+/g,"%20"))}function EP(t){return`${$h(t.path)}${function B8(t){return Object.entries(t).map(([n,e])=>`;${$h(n)}=${$h(e)}`).join("")}(t.parameters)}`}const j8=/^[^\/()?;#]+/;function Hh(t){const n=t.match(j8);return n?n[0]:""}const $8=/^[^\/()?;=#]+/,q8=/^[^=?&#]+/,G8=/^[^&#]+/;class K8{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Le([],{}):new Le([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(o[ce]=new Le(n,e)),o}parseSegment(){const n=Hh(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new U(4009,!1);return this.capture(n),new Ga(Ld(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=function H8(t){const n=t.match($8);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const r=Hh(this.remaining);r&&(o=r,this.capture(o))}n[Ld(e)]=Ld(o)}parseQueryParam(n){const e=function W8(t){const n=t.match(q8);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const s=function Y8(t){const n=t.match(G8);return n?n[0]:""}(this.remaining);s&&(o=s,this.capture(o))}const r=TP(e),i=TP(o);if(n.hasOwnProperty(r)){let s=n[r];Array.isArray(s)||(s=[s],n[r]=s),s.push(i)}else n[r]=i}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=Hh(this.remaining),r=this.remaining[o.length];if("/"!==r&&")"!==r&&";"!==r)throw new U(4010,!1);let i;o.indexOf(":")>-1?(i=o.slice(0,o.indexOf(":")),this.capture(i),this.capture(":")):n&&(i=ce);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s[ce]:new Le([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new U(4011,!1)}}function AP(t){return t.segments.length>0?new Le([],{[ce]:t}):t}function NP(t){const n={};for(const[o,r]of Object.entries(t.children)){const i=NP(r);if(o===ce&&0===i.segments.length&&i.hasChildren())for(const[s,l]of Object.entries(i.children))n[s]=l;else(i.segments.length>0||i.hasChildren())&&(n[o]=i)}return function Q8(t){if(1===t.numberOfChildren&&t.children[ce]){const n=t.children[ce];return new Le(t.segments.concat(n.segments),n.children)}return t}(new Le(t.segments,n))}function ts(t){return t instanceof Zi}function FP(t){let n;const r=AP(function e(i){const s={};for(const u of i.children){const g=e(u);s[u.outlet]=g}const l=new Le(i.url,s);return i===t&&(n=l),l}(t.root));return n??r}function RP(t,n,e,o){let r=t;for(;r.parent;)r=r.parent;if(0===n.length)return qh(r,r,r,e,o);const i=function X8(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new UP(!0,0,t);let n=0,e=!1;const o=t.reduce((r,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const l={};return Object.entries(i.outlets).forEach(([u,g])=>{l[u]="string"==typeof g?g.split("/"):g}),[...r,{outlets:l}]}if(i.segmentPath)return[...r,i.segmentPath]}return"string"!=typeof i?[...r,i]:0===s?(i.split("/").forEach((l,u)=>{0==u&&"."===l||(0==u&&""===l?e=!0:".."===l?n++:""!=l&&r.push(l))}),r):[...r,i]},[]);return new UP(e,n,o)}(n);if(i.toRoot())return qh(r,r,new Le([],{}),e,o);const s=function Z8(t,n,e){if(t.isAbsolute)return new Vd(n,!0,0);if(!e)return new Vd(n,!1,NaN);if(null===e.parent)return new Vd(e,!0,0);const o=Ud(t.commands[0])?0:1;return function e7(t,n,e){let o=t,r=n,i=e;for(;i>r;){if(i-=r,o=o.parent,!o)throw new U(4005,!1);r=o.segments.length}return new Vd(o,!1,r-i)}(e,e.segments.length-1+o,t.numberOfDoubleDots)}(i,r,t),l=s.processChildren?Qa(s.segmentGroup,s.index,i.commands):VP(s.segmentGroup,s.index,i.commands);return qh(r,s.segmentGroup,l,e,o)}function Ud(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ka(t){return"object"==typeof t&&null!=t&&t.outlets}function qh(t,n,e,o,r){let s,i={};o&&Object.entries(o).forEach(([u,g])=>{i[u]=Array.isArray(g)?g.map(m=>`${m}`):`${g}`}),s=t===n?e:LP(t,n,e);const l=AP(NP(s));return new Zi(l,i,r)}function LP(t,n,e){const o={};return Object.entries(t.children).forEach(([r,i])=>{o[r]=i===n?e:LP(i,n,e)}),new Le(t.segments,o)}class UP{constructor(n,e,o){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=o,n&&o.length>0&&Ud(o[0]))throw new U(4003,!1);const r=o.find(Ka);if(r&&r!==PP(o))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Vd{constructor(n,e,o){this.segmentGroup=n,this.processChildren=e,this.index=o}}function VP(t,n,e){if(t??=new Le([],{}),0===t.segments.length&&t.hasChildren())return Qa(t,n,e);const o=function n7(t,n,e){let o=0,r=n;const i={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(o>=e.length)return i;const s=t.segments[r],l=e[o];if(Ka(l))break;const u=`${l}`,g=o<e.length-1?e[o+1]:null;if(r>0&&void 0===u)break;if(u&&g&&"object"==typeof g&&void 0===g.outlets){if(!zP(u,g,s))return i;o+=2}else{if(!zP(u,{},s))return i;o++}r++}return{match:!0,pathIndex:r,commandIndex:o}}(t,n,e),r=e.slice(o.commandIndex);if(o.match&&o.pathIndex<t.segments.length){const i=new Le(t.segments.slice(0,o.pathIndex),{});return i.children[ce]=new Le(t.segments.slice(o.pathIndex),t.children),Qa(i,0,r)}return o.match&&0===r.length?new Le(t.segments,{}):o.match&&!t.hasChildren()?Wh(t,n,e):o.match?Qa(t,0,r):Wh(t,n,e)}function Qa(t,n,e){if(0===e.length)return new Le(t.segments,{});{const o=function t7(t){return Ka(t[0])?t[0].outlets:{[ce]:t}}(e),r={};if(Object.keys(o).some(i=>i!==ce)&&t.children[ce]&&1===t.numberOfChildren&&0===t.children[ce].segments.length){const i=Qa(t.children[ce],n,e);return new Le(t.segments,i.children)}return Object.entries(o).forEach(([i,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[i]=VP(t.children[i],n,s))}),Object.entries(t.children).forEach(([i,s])=>{void 0===o[i]&&(r[i]=s)}),new Le(t.segments,r)}}function Wh(t,n,e){const o=t.segments.slice(0,n);let r=0;for(;r<e.length;){const i=e[r];if(Ka(i)){const u=o7(i.outlets);return new Le(o,u)}if(0===r&&Ud(e[0])){o.push(new Ga(t.segments[n].path,BP(e[0]))),r++;continue}const s=Ka(i)?i.outlets[ce]:`${i}`,l=r<e.length-1?e[r+1]:null;s&&l&&Ud(l)?(o.push(new Ga(s,BP(l))),r+=2):(o.push(new Ga(s,{})),r++)}return new Le(o,{})}function o7(t){const n={};return Object.entries(t).forEach(([e,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(n[e]=Wh(new Le([],{}),0,o))}),n}function BP(t){const n={};return Object.entries(t).forEach(([e,o])=>n[e]=`${o}`),n}function zP(t,n,e){return t==e.path&&uo(n,e.parameters)}const Ja="imperative";var _e=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(_e||{});class po{constructor(n,e){this.id=n,this.url=e}}class Bd extends po{constructor(n,e,o="imperative",r=null){super(n,e),this.type=_e.NavigationStart,this.navigationTrigger=o,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zn extends po{constructor(n,e,o){super(n,e),this.urlAfterRedirects=o,this.type=_e.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var bn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(bn||{}),zd=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(zd||{});class ns extends po{constructor(n,e,o,r){super(n,e),this.reason=o,this.code=r,this.type=_e.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class os extends po{constructor(n,e,o,r){super(n,e),this.reason=o,this.code=r,this.type=_e.NavigationSkipped}}class jd extends po{constructor(n,e,o,r){super(n,e),this.error=o,this.target=r,this.type=_e.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class jP extends po{constructor(n,e,o,r){super(n,e),this.urlAfterRedirects=o,this.state=r,this.type=_e.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class r7 extends po{constructor(n,e,o,r){super(n,e),this.urlAfterRedirects=o,this.state=r,this.type=_e.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class i7 extends po{constructor(n,e,o,r,i){super(n,e),this.urlAfterRedirects=o,this.state=r,this.shouldActivate=i,this.type=_e.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class s7 extends po{constructor(n,e,o,r){super(n,e),this.urlAfterRedirects=o,this.state=r,this.type=_e.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class a7 extends po{constructor(n,e,o,r){super(n,e),this.urlAfterRedirects=o,this.state=r,this.type=_e.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class c7{constructor(n){this.route=n,this.type=_e.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class l7{constructor(n){this.route=n,this.type=_e.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class d7{constructor(n){this.snapshot=n,this.type=_e.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class u7{constructor(n){this.snapshot=n,this.type=_e.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class p7{constructor(n){this.snapshot=n,this.type=_e.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class g7{constructor(n){this.snapshot=n,this.type=_e.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $P{constructor(n,e,o){this.routerEvent=n,this.position=e,this.anchor=o,this.type=_e.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Gh{}class Yh{constructor(n){this.url=n}}class f7{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Xa,this.attachRef=null}}let Xa=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(e,o){const r=this.getOrCreateContext(e);r.outlet=o,this.contexts.set(e,r)}onChildOutletDestroyed(e){const o=this.getContext(e);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let o=this.getContext(e);return o||(o=new f7,this.contexts.set(e,o)),o}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class HP{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=Kh(n,this._root);return e?e.children.map(o=>o.value):[]}firstChild(n){const e=Kh(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=Qh(n,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==n)}pathFromRoot(n){return Qh(n,this._root).map(e=>e.value)}}function Kh(t,n){if(t===n.value)return n;for(const e of n.children){const o=Kh(t,e);if(o)return o}return null}function Qh(t,n){if(t===n.value)return[n];for(const e of n.children){const o=Qh(t,e);if(o.length)return o.unshift(n),o}return[]}class jn{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function rs(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class qP extends HP{constructor(n,e){super(n),this.snapshot=e,Zh(this,n)}toString(){return this.snapshot.toString()}}function WP(t){const n=function h7(t){const i=new Xh([],{},{},"",{},ce,t,null,{});return new GP("",new jn(i,[]))}(t),e=new st([new Ga("",{})]),o=new st({}),r=new st({}),i=new st({}),s=new st(""),l=new sn(e,o,i,s,r,ce,t,n.root);return l.snapshot=n.root,new qP(new jn(l,[]),n)}class sn{constructor(n,e,o,r,i,s,l,u){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=o,this.fragmentSubject=r,this.dataSubject=i,this.outlet=s,this.component=l,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ie(g=>g[Wa]))??q(void 0),this.url=n,this.params=e,this.queryParams=o,this.fragment=r,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie(n=>Xi(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie(n=>Xi(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Jh(t,n,e="emptyOnly"){let o;const{routeConfig:r}=t;return o=null===n||"always"!==e&&""!==r?.path&&(n.component||n.routeConfig?.loadComponent)?{params:{...t.params},data:{...t.data},resolve:{...t.data,...t._resolvedData??{}}}:{params:{...n.params,...t.params},data:{...n.data,...t.data},resolve:{...t.data,...n.data,...r?.data,...t._resolvedData}},r&&KP(r)&&(o.resolve[Wa]=r.title),o}class Xh{get title(){return this.data?.[Wa]}constructor(n,e,o,r,i,s,l,u,g){this.url=n,this.params=e,this.queryParams=o,this.fragment=r,this.data=i,this.outlet=s,this.component=l,this.routeConfig=u,this._resolve=g}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Xi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Xi(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class GP extends HP{constructor(n,e){super(e),this.url=n,Zh(this,e)}toString(){return YP(this._root)}}function Zh(t,n){n.value._routerState=t,n.children.forEach(e=>Zh(t,e))}function YP(t){const n=t.children.length>0?` { ${t.children.map(YP).join(", ")} } `:"";return`${t.value}${n}`}function em(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,uo(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),uo(n.params,e.params)||t.paramsSubject.next(e.params),function E8(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!uo(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.urlSubject.next(e.url),uo(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function tm(t,n){const e=uo(t.params,n.params)&&function R8(t,n){return Vr(t,n)&&t.every((e,o)=>uo(e.parameters,n[o].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||tm(t.parent,n.parent))}function KP(t){return"string"==typeof t.title||null===t.title}let nm=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ce,this.activateEvents=new Ee,this.deactivateEvents=new Ee,this.attachEvents=new Ee,this.detachEvents=new Ee,this.parentContexts=w(Xa),this.location=w(Fn),this.changeDetector=w(Aa),this.environmentInjector=w($t),this.inputBinder=w($d,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:o,previousValue:r}=e.name;if(o)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,o){this.activated=e,this._activatedRoute=o,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,o){if(this.isActivated)throw new U(4013,!1);this._activatedRoute=e;const r=this.location,s=e.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,u=new om(e,l,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:u,environmentInjector:o??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275dir=te({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[vn]})}}return t})();class om{__ngOutletInjector(n){return new om(this.route,this.childContexts,n)}constructor(n,e,o){this.route=n,this.childContexts=e,this.parent=o}get(n,e){return n===sn?this.route:n===Xa?this.childContexts:this.parent.get(n,e)}}const $d=new H("");let QP=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:o}=e,r=Rh([o.queryParams,o.params,o.data]).pipe(_n(([i,s,l],u)=>(l={...i,...s,...l},0===u?q(l):Promise.resolve(l)))).subscribe(i=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==o||null===o.component)return void this.unsubscribeFromRouteData(e);const s=function rN(t){const n=de(t);if(!n)return null;const e=new ua(n);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(o.component);if(s)for(const{templateName:l}of s.inputs)e.activatedComponentRef.setInput(l,i[l]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac})}}return t})();function Za(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const o=e.value;o._futureSnapshot=n.value;const r=function _7(t,n,e){return n.children.map(o=>{for(const r of e.children)if(t.shouldReuseRoute(o.value,r.value.snapshot))return Za(t,o,r);return Za(t,o)})}(t,n,e);return new jn(o,r)}{if(t.shouldAttach(n.value)){const i=t.retrieve(n.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(l=>Za(t,l)),s}}const o=function b7(t){return new sn(new st(t.url),new st(t.params),new st(t.queryParams),new st(t.fragment),new st(t.data),t.outlet,t.component,t)}(n.value),r=n.children.map(i=>Za(t,i));return new jn(o,r)}}const JP="ngNavigationCancelingError";function XP(t,n){const{redirectTo:e,navigationBehaviorOptions:o}=ts(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,r=ZP(!1,bn.Redirect);return r.url=e,r.navigationBehaviorOptions=o,r}function ZP(t,n){const e=new Error(`NavigationCancelingError: ${t||""}`);return e[JP]=!0,e.cancellationCode=n,e}function ew(t){return!!t&&t[JP]}let tw=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=se({type:t,selectors:[["ng-component"]],standalone:!0,features:[ae],decls:1,vars:0,template:function(o,r){1&o&&b(0,"router-outlet")},dependencies:[nm],encapsulation:2})}}return t})();function rm(t){const n=t.children&&t.children.map(rm),e=n?{...t,children:n}:{...t};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==ce&&(e.component=tw),e}function go(t){return t.outlet||ce}function ec(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class O7{constructor(n,e,o,r,i){this.routeReuseStrategy=n,this.futureState=e,this.currState=o,this.forwardEvent=r,this.inputBindingEnabled=i}activate(n){const e=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,o,n),em(this.futureState.root),this.activateChildRoutes(e,o,n)}deactivateChildRoutes(n,e,o){const r=rs(e);n.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,r[s],o),delete r[s]}),Object.values(r).forEach(i=>{this.deactivateRouteAndItsChildren(i,o)})}deactivateRoutes(n,e,o){const r=n.value,i=e?e.value:null;if(r===i)if(r.component){const s=o.getContext(r.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,o);else i&&this.deactivateRouteAndItsChildren(e,o)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const o=e.getContext(n.value.outlet),r=o&&n.value.component?o.children:e,i=rs(n);for(const s of Object.values(i))this.deactivateRouteAndItsChildren(s,r);if(o&&o.outlet){const s=o.outlet.detach(),l=o.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:l})}}deactivateRouteAndOutlet(n,e){const o=e.getContext(n.value.outlet),r=o&&n.value.component?o.children:e,i=rs(n);for(const s of Object.values(i))this.deactivateRouteAndItsChildren(s,r);o&&(o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated()),o.attachRef=null,o.route=null)}activateChildRoutes(n,e,o){const r=rs(e);n.children.forEach(i=>{this.activateRoutes(i,r[i.value.outlet],o),this.forwardEvent(new g7(i.value.snapshot))}),n.children.length&&this.forwardEvent(new u7(n.value.snapshot))}activateRoutes(n,e,o){const r=n.value,i=e?e.value:null;if(em(r),r===i)if(r.component){const s=o.getOrCreateContext(r.outlet);this.activateChildRoutes(n,e,s.children)}else this.activateChildRoutes(n,e,o);else if(r.component){const s=o.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(l.contexts),s.attachRef=l.componentRef,s.route=l.route.value,s.outlet&&s.outlet.attach(l.componentRef,l.route.value),em(l.route.value),this.activateChildRoutes(n,null,s.children)}else{const l=ec(r.snapshot);s.attachRef=null,s.route=r,s.injector=l,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(n,null,s.children)}}else this.activateChildRoutes(n,null,o)}}class nw{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class Hd{constructor(n,e){this.component=n,this.route=e}}function k7(t,n,e){const o=t._root;return tc(o,n?n._root:null,e,[o.value])}function is(t,n){const e=Symbol(),o=n.get(t,e);return o===e?"function"!=typeof t||function JO(t){return null!==Dc(t)}(t)?n.get(t):t:o}function tc(t,n,e,o,r={canDeactivateChecks:[],canActivateChecks:[]}){const i=rs(n);return t.children.forEach(s=>{(function S7(t,n,e,o,r={canDeactivateChecks:[],canActivateChecks:[]}){const i=t.value,s=n?n.value:null,l=e?e.getContext(t.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const u=function I7(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!Vr(t.url,n.url);case"pathParamsOrQueryParamsChange":return!Vr(t.url,n.url)||!uo(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!tm(t,n)||!uo(t.queryParams,n.queryParams);default:return!tm(t,n)}}(s,i,i.routeConfig.runGuardsAndResolvers);u?r.canActivateChecks.push(new nw(o)):(i.data=s.data,i._resolvedData=s._resolvedData),tc(t,n,i.component?l?l.children:null:e,o,r),u&&l&&l.outlet&&l.outlet.isActivated&&r.canDeactivateChecks.push(new Hd(l.outlet.component,s))}else s&&nc(n,l,r),r.canActivateChecks.push(new nw(o)),tc(t,null,i.component?l?l.children:null:e,o,r)})(s,i[s.value.outlet],e,o.concat([s.value]),r),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,l])=>nc(l,e.getContext(s),r)),r}function nc(t,n,e){const o=rs(t),r=t.value;Object.entries(o).forEach(([i,s])=>{nc(s,r.component?n?n.children.getContext(i):null:n,e)}),e.canDeactivateChecks.push(new Hd(r.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,r))}function oc(t){return"function"==typeof t}function ow(t){return t instanceof $a||"EmptyError"===t?.name}const qd=Symbol("INITIAL_VALUE");function ss(){return _n(t=>Rh(t.map(n=>n.pipe(Qi(1),function P8(...t){const n=Ed(t);return Dt((e,o)=>{(n?Lh(t,e,n):Lh(t,e)).subscribe(o)})}(qd)))).pipe(ie(n=>{for(const e of n)if(!0!==e){if(e===qd)return qd;if(!1===e||e instanceof Zi)return e}return!0}),Bn(n=>n!==qd),Qi(1)))}function rw(t){return function zO(...t){return x_(t)}(Fe(n=>{if(ts(n))throw XP(0,n)}),ie(n=>!0===n))}class im{constructor(n){this.segmentGroup=n||null}}class sm extends Error{constructor(n){super(),this.urlTree=n}}function as(t){return ir(new im(t))}class K7{constructor(n,e){this.urlSerializer=n,this.urlTree=e}lineralizeSegments(n,e){let o=[],r=e.root;for(;;){if(o=o.concat(r.segments),0===r.numberOfChildren)return q(o);if(r.numberOfChildren>1||!r.children[ce])return ir(new U(4e3,!1));r=r.children[ce]}}applyRedirectCommands(n,e,o){const r=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,o);if(e.startsWith("/"))throw new sm(r);return r}applyRedirectCreateUrlTree(n,e,o,r){const i=this.createSegmentGroup(n,e.root,o,r);return new Zi(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const o={};return Object.entries(n).forEach(([r,i])=>{if("string"==typeof i&&i.startsWith(":")){const l=i.substring(1);o[r]=e[l]}else o[r]=i}),o}createSegmentGroup(n,e,o,r){const i=this.createSegments(n,e.segments,o,r);let s={};return Object.entries(e.children).forEach(([l,u])=>{s[l]=this.createSegmentGroup(n,u,o,r)}),new Le(i,s)}createSegments(n,e,o,r){return e.map(i=>i.path.startsWith(":")?this.findPosParam(n,i,r):this.findOrReturn(i,o))}findPosParam(n,e,o){const r=o[e.path.substring(1)];if(!r)throw new U(4001,!1);return r}findOrReturn(n,e){let o=0;for(const r of e){if(r.path===n.path)return e.splice(o),r;o++}return n}}const am={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Q7(t,n,e,o,r){const i=cm(t,n,e);return i.matched?(o=function v7(t,n){return t.providers&&!t._injector&&(t._injector=Ul(t.providers,n,`Route: ${t.path}`)),t._injector??n}(n,o),function W7(t,n,e,o){const r=n.canMatch;return r&&0!==r.length?q(r.map(s=>{const l=is(s,t);return sr(function R7(t){return t&&oc(t.canMatch)}(l)?l.canMatch(n,e):Wn(t,()=>l(n,e)))})).pipe(ss(),rw()):q(!0)}(o,n,e).pipe(ie(s=>!0===s?i:{...am}))):q(i)}function cm(t,n,e){if("**"===n.path)return function J7(t){return{matched:!0,parameters:t.length>0?PP(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}(e);if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?{...am}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(n.matcher||T8)(e,t,n);if(!r)return{...am};const i={};Object.entries(r.posParams??{}).forEach(([l,u])=>{i[l]=u.path});const s=r.consumed.length>0?{...i,...r.consumed[r.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function iw(t,n,e,o){return e.length>0&&function eL(t,n,e){return e.some(o=>Wd(t,n,o)&&go(o)!==ce)}(t,e,o)?{segmentGroup:new Le(n,Z7(o,new Le(e,t.children))),slicedSegments:[]}:0===e.length&&function tL(t,n,e){return e.some(o=>Wd(t,n,o))}(t,e,o)?{segmentGroup:new Le(t.segments,X7(t,e,o,t.children)),slicedSegments:e}:{segmentGroup:new Le(t.segments,t.children),slicedSegments:e}}function X7(t,n,e,o){const r={};for(const i of e)if(Wd(t,n,i)&&!o[go(i)]){const s=new Le([],{});r[go(i)]=s}return{...o,...r}}function Z7(t,n){const e={};e[ce]=n;for(const o of t)if(""===o.path&&go(o)!==ce){const r=new Le([],{});e[go(o)]=r}return e}function Wd(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}class rL{}class aL{constructor(n,e,o,r,i,s,l){this.injector=n,this.configLoader=e,this.rootComponentType=o,this.config=r,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=l,this.applyRedirects=new K7(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(n){return new U(4002,`'${n.segmentGroup}'`)}recognize(){const n=iw(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(ie(e=>{const o=new Xh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ce,this.rootComponentType,null,{}),r=new jn(o,e),i=new GP("",r),s=function J8(t,n,e=null,o=null){return RP(FP(t),n,e,o)}(o,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(i._root,null),{state:i,tree:s}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n,ce).pipe(Ce(o=>{if(o instanceof sm)return this.urlTree=o.urlTree,this.match(o.urlTree.root);throw o instanceof im?this.noMatchError(o):o}))}inheritParamsAndData(n,e){const o=n.value,r=Jh(o,e,this.paramsInheritanceStrategy);o.params=Object.freeze(r.params),o.data=Object.freeze(r.data),n.children.forEach(i=>this.inheritParamsAndData(i,o))}processSegmentGroup(n,e,o,r){return 0===o.segments.length&&o.hasChildren()?this.processChildren(n,e,o):this.processSegment(n,e,o,o.segments,r,!0).pipe(ie(i=>i instanceof jn?[i]:[]))}processChildren(n,e,o){const r=[];for(const i of Object.keys(o.children))"primary"===i?r.unshift(i):r.push(i);return Ot(r).pipe(Ji(i=>{const s=o.children[i],l=function P7(t,n){const e=t.filter(o=>go(o)===n);return e.push(...t.filter(o=>go(o)!==n)),e}(e,i);return this.processSegmentGroup(n,l,s,i)}),function k8(t,n){return Dt(function O8(t,n,e,o,r){return(i,s)=>{let l=e,u=n,g=0;i.subscribe(bt(s,m=>{const _=g++;u=l?t(u,m,_):(l=!0,m),o&&s.next(u)},r&&(()=>{l&&s.next(u),s.complete()})))}}(t,n,arguments.length>=2,!0))}((i,s)=>(i.push(...s),i)),Ad(null),function D8(t,n){const e=arguments.length>=2;return o=>o.pipe(t?Bn((r,i)=>t(r,i,o)):br,Vh(1),e?Ad(n):xP(()=>new $a))}(),Bt(i=>{if(null===i)return as(o);const s=sw(i);return function cL(t){t.sort((n,e)=>n.value.outlet===ce?-1:e.value.outlet===ce?1:n.value.outlet.localeCompare(e.value.outlet))}(s),q(s)}))}processSegment(n,e,o,r,i,s){return Ot(e).pipe(Ji(l=>this.processSegmentAgainstRoute(l._injector??n,e,l,o,r,i,s).pipe(Ce(u=>{if(u instanceof im)return q(null);throw u}))),Ur(l=>!!l),Ce(l=>{if(ow(l))return function oL(t,n,e){return 0===n.length&&!t.children[e]}(o,r,i)?q(new rL):as(o);throw l}))}processSegmentAgainstRoute(n,e,o,r,i,s,l){return function nL(t,n,e,o){return!!(go(t)===o||o!==ce&&Wd(n,e,t))&&cm(n,t,e).matched}(o,r,i,s)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(n,r,o,i,s):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(n,r,e,o,i,s):as(r):as(r)}expandSegmentAgainstRouteUsingRedirect(n,e,o,r,i,s){const{matched:l,consumedSegments:u,positionalParamSegments:g,remainingSegments:m}=cm(e,r,i);if(!l)return as(e);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const _=this.applyRedirects.applyRedirectCommands(u,r.redirectTo,g);return this.applyRedirects.lineralizeSegments(r,_).pipe(Bt(x=>this.processSegment(n,o,e,x.concat(m),s,!1)))}matchSegmentAgainstRoute(n,e,o,r,i){const s=Q7(e,o,r,n);return"**"===o.path&&(e.children={}),s.pipe(_n(l=>l.matched?this.getChildConfig(n=o._injector??n,o,r).pipe(_n(({routes:u})=>{const g=o._loadedInjector??n,{consumedSegments:m,remainingSegments:_,parameters:x}=l,M=new Xh(m,x,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function dL(t){return t.data||{}}(o),go(o),o.component??o._loadedComponent??null,o,function uL(t){return t.resolve||{}}(o)),{segmentGroup:O,slicedSegments:k}=iw(e,m,_,u);if(0===k.length&&O.hasChildren())return this.processChildren(g,u,O).pipe(ie(N=>null===N?null:new jn(M,N)));if(0===u.length&&0===k.length)return q(new jn(M,[]));const I=go(o)===i;return this.processSegment(g,u,O,k,I?ce:i,!0).pipe(ie(N=>new jn(M,N instanceof jn?[N]:[])))})):as(e)))}getChildConfig(n,e,o){return e.children?q({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?q({routes:e._loadedRoutes,injector:e._loadedInjector}):function q7(t,n,e,o){const r=n.canLoad;return void 0===r||0===r.length?q(!0):q(r.map(s=>{const l=is(s,t);return sr(function E7(t){return t&&oc(t.canLoad)}(l)?l.canLoad(n,e):Wn(t,()=>l(n,e)))})).pipe(ss(),rw())}(n,e,o).pipe(Bt(r=>r?this.configLoader.loadChildren(n,e).pipe(Fe(i=>{e._loadedRoutes=i.routes,e._loadedInjector=i.injector})):function Y7(t){return ir(ZP(!1,bn.GuardRejected))}())):q({routes:[],injector:n})}}function lL(t){const n=t.value.routeConfig;return n&&""===n.path}function sw(t){const n=[],e=new Set;for(const o of t){if(!lL(o)){n.push(o);continue}const r=n.find(i=>o.value.routeConfig===i.value.routeConfig);void 0!==r?(r.children.push(...o.children),e.add(r)):n.push(o)}for(const o of e){const r=sw(o.children);n.push(new jn(o.value,r))}return n.filter(o=>!e.has(o))}function aw(t){const n=t.children.map(e=>aw(e)).flat();return[t,...n]}function lm(t){return _n(n=>{const e=t(n);return e?Ot(e).pipe(ie(()=>n)):q(n)})}let cw=(()=>{class t{buildTitle(e){let o,r=e.root;for(;void 0!==r;)o=this.getResolvedTitleForRoute(r)??o,r=r.children.find(i=>i.outlet===ce);return o}getResolvedTitleForRoute(e){return e.data[Wa]}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=z({token:t,factory:()=>w(_L),providedIn:"root"})}}return t})(),_L=(()=>{class t extends cw{constructor(e){super(),this.title=e}updateTitle(e){const o=this.buildTitle(e);void 0!==o&&this.title.setTitle(o)}static{this.\u0275fac=function(o){return new(o||t)(W(xR))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const cs=new H("",{providedIn:"root",factory:()=>({})}),ls=new H("");let dm=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=w(bx)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return q(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const o=sr(e.loadComponent()).pipe(ie(lw),Fe(i=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=i}),qa(()=>{this.componentLoaders.delete(e)})),r=new CP(o,()=>new jt).pipe(Uh());return this.componentLoaders.set(e,r),r}loadChildren(e,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return q({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);const i=function bL(t,n,e,o){return sr(t.loadChildren()).pipe(ie(lw),Bt(r=>r instanceof Ty||Array.isArray(r)?q(r):Ot(n.compileModuleAsync(r))),ie(r=>{o&&o(t);let i,s,l=!1;return Array.isArray(r)?(s=r,!0):(i=r.create(e).injector,s=i.get(ls,[],{optional:!0,self:!0}).flat()),{routes:s.map(rm),injector:i}}))}(o,this.compiler,e,this.onLoadEndListener).pipe(qa(()=>{this.childrenLoaders.delete(o)})),s=new CP(i,()=>new jt).pipe(Uh());return this.childrenLoaders.set(o,s),s}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function lw(t){return function yL(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let um=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=z({token:t,factory:()=>w(vL),providedIn:"root"})}}return t})(),vL=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,o){return e}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const dw=new H(""),uw=new H("");function CL(t,n,e){const o=t.get(uw),r=t.get(hn);return t.get(ke).runOutsideAngular(()=>{if(!r.startViewTransition||o.skipNextTransition)return o.skipNextTransition=!1,new Promise(g=>setTimeout(g));let i;const s=new Promise(g=>{i=g}),l=r.startViewTransition(()=>(i(),function xL(t){return new Promise(n=>{Wg(n,{injector:t})})}(t))),{onViewTransitionCreated:u}=o;return u&&Wn(t,()=>u({transition:l,from:n,to:e})),s})}let Gd=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new jt,this.transitionAbortSubject=new jt,this.configLoader=w(dm),this.environmentInjector=w($t),this.urlSerializer=w(es),this.rootContexts=w(Xa),this.location=w(ao),this.inputBindingEnabled=null!==w($d,{optional:!0}),this.titleStrategy=w(cw),this.options=w(cs,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=w(um),this.createViewTransition=w(dw,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>q(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new l7(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new c7(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const o=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:o})}setupNavigations(e,o,r){return this.transitions=new st({id:0,currentUrlTree:o,currentRawUrl:o,extractedUrl:this.urlHandlingStrategy.extract(o),urlAfterRedirects:this.urlHandlingStrategy.extract(o),rawUrl:o,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ja,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Bn(i=>0!==i.id),ie(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),_n(i=>{let s=!1,l=!1;return q(i).pipe(_n(u=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",bn.SupersededByNewNavigation),lo;this.currentTransition=i,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const g=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!g&&"reload"!==(u.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const _="";return this.events.next(new os(u.id,this.urlSerializer.serialize(u.rawUrl),_,zd.IgnoredSameUrlNavigation)),u.resolve(null),lo}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return q(u).pipe(_n(_=>{const x=this.transitions?.getValue();return this.events.next(new Bd(_.id,this.urlSerializer.serialize(_.extractedUrl),_.source,_.restoredState)),x!==this.transitions?.getValue()?lo:Promise.resolve(_)}),function pL(t,n,e,o,r,i){return Bt(s=>function iL(t,n,e,o,r,i,s="emptyOnly"){return new aL(t,n,e,o,r,s,i).recognize()}(t,n,e,o,s.extractedUrl,r,i).pipe(ie(({state:l,tree:u})=>({...s,targetSnapshot:l,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Fe(_=>{i.targetSnapshot=_.targetSnapshot,i.urlAfterRedirects=_.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:_.urlAfterRedirects};const x=new jP(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(x)}));if(g&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:_,extractedUrl:x,source:M,restoredState:O,extras:k}=u,I=new Bd(_,this.urlSerializer.serialize(x),M,O);this.events.next(I);const N=WP(this.rootComponentType).snapshot;return this.currentTransition=i={...u,targetSnapshot:N,urlAfterRedirects:x,extras:{...k,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=x,q(i)}{const _="";return this.events.next(new os(u.id,this.urlSerializer.serialize(u.extractedUrl),_,zd.IgnoredByUrlHandlingStrategy)),u.resolve(null),lo}}),Fe(u=>{const g=new r7(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(g)}),ie(u=>(this.currentTransition=i={...u,guards:k7(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},i)),function L7(t,n){return Bt(e=>{const{targetSnapshot:o,currentSnapshot:r,guards:{canActivateChecks:i,canDeactivateChecks:s}}=e;return 0===s.length&&0===i.length?q({...e,guardsResult:!0}):function U7(t,n,e,o){return Ot(t).pipe(Bt(r=>function H7(t,n,e,o,r){const i=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return i&&0!==i.length?q(i.map(l=>{const u=ec(n)??r,g=is(l,u);return sr(function F7(t){return t&&oc(t.canDeactivate)}(g)?g.canDeactivate(t,n,e,o):Wn(u,()=>g(t,n,e,o))).pipe(Ur())})).pipe(ss()):q(!0)}(r.component,r.route,e,n,o)),Ur(r=>!0!==r,!0))}(s,o,r,t).pipe(Bt(l=>l&&function T7(t){return"boolean"==typeof t}(l)?function V7(t,n,e,o){return Ot(n).pipe(Ji(r=>Lh(function z7(t,n){return null!==t&&n&&n(new d7(t)),q(!0)}(r.route.parent,o),function B7(t,n){return null!==t&&n&&n(new p7(t)),q(!0)}(r.route,o),function $7(t,n,e){const o=n[n.length-1],i=n.slice(0,n.length-1).reverse().map(s=>function D7(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(s)).filter(s=>null!==s).map(s=>vP(()=>q(s.guards.map(u=>{const g=ec(s.node)??e,m=is(u,g);return sr(function N7(t){return t&&oc(t.canActivateChild)}(m)?m.canActivateChild(o,t):Wn(g,()=>m(o,t))).pipe(Ur())})).pipe(ss())));return q(i).pipe(ss())}(t,r.path,e),function j7(t,n,e){const o=n.routeConfig?n.routeConfig.canActivate:null;if(!o||0===o.length)return q(!0);const r=o.map(i=>vP(()=>{const s=ec(n)??e,l=is(i,s);return sr(function A7(t){return t&&oc(t.canActivate)}(l)?l.canActivate(n,t):Wn(s,()=>l(n,t))).pipe(Ur())}));return q(r).pipe(ss())}(t,r.route,e))),Ur(r=>!0!==r,!0))}(o,i,t,n):q(l)),ie(l=>({...e,guardsResult:l})))})}(this.environmentInjector,u=>this.events.next(u)),Fe(u=>{if(i.guardsResult=u.guardsResult,ts(u.guardsResult))throw XP(0,u.guardsResult);const g=new i7(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(g)}),Bn(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",bn.GuardRejected),!1)),lm(u=>{if(u.guards.canActivateChecks.length)return q(u).pipe(Fe(g=>{const m=new s7(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(m)}),_n(g=>{let m=!1;return q(g).pipe(function gL(t,n){return Bt(e=>{const{targetSnapshot:o,guards:{canActivateChecks:r}}=e;if(!r.length)return q(e);const i=new Set(r.map(u=>u.route)),s=new Set;for(const u of i)if(!s.has(u))for(const g of aw(u))s.add(g);let l=0;return Ot(s).pipe(Ji(u=>i.has(u)?function fL(t,n,e,o){const r=t.routeConfig,i=t._resolve;return void 0!==r?.title&&!KP(r)&&(i[Wa]=r.title),function hL(t,n,e,o){const r=zh(t);if(0===r.length)return q({});const i={};return Ot(r).pipe(Bt(s=>function mL(t,n,e,o){const r=ec(n)??o,i=is(t,r);return sr(i.resolve?i.resolve(n,e):Wn(r,()=>i(n,e)))}(t[s],n,e,o).pipe(Ur(),Fe(l=>{i[s]=l}))),Vh(1),function S8(t){return ie(()=>t)}(i),Ce(s=>ow(s)?lo:ir(s)))}(i,t,n,o).pipe(ie(s=>(t._resolvedData=s,t.data=Jh(t,t.parent,e).resolve,null)))}(u,o,t,n):(u.data=Jh(u,u.parent,t).resolve,q(void 0))),Fe(()=>l++),Vh(1),Bt(u=>l===s.size?q(e):lo))})}(this.paramsInheritanceStrategy,this.environmentInjector),Fe({next:()=>m=!0,complete:()=>{m||this.cancelNavigationTransition(g,"",bn.NoDataFromResolver)}}))}),Fe(g=>{const m=new a7(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(m)}))}),lm(u=>{const g=m=>{const _=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(m.routeConfig).pipe(Fe(x=>{m.component=x}),ie(()=>{})));for(const x of m.children)_.push(...g(x));return _};return Rh(g(u.targetSnapshot.root)).pipe(Ad(null),Qi(1))}),lm(()=>this.afterPreactivation()),_n(()=>{const{currentSnapshot:u,targetSnapshot:g}=i,m=this.createViewTransition?.(this.environmentInjector,u.root,g.root);return m?Ot(m).pipe(ie(()=>i)):q(i)}),ie(u=>{const g=function m7(t,n,e){const o=Za(t,n._root,e?e._root:void 0);return new qP(o,n)}(e.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=i={...u,targetRouterState:g},this.currentNavigation.targetRouterState=g,i}),Fe(()=>{this.events.next(new Gh)}),((t,n,e,o)=>ie(r=>(new O7(n,r.targetRouterState,r.currentRouterState,e,o).activate(t),r)))(this.rootContexts,e.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Qi(1),Fe({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new zn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),Bh(this.transitionAbortSubject.pipe(Fe(u=>{throw u}))),qa(()=>{!s&&!l&&this.cancelNavigationTransition(i,"",bn.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ce(u=>{if(l=!0,ew(u))this.events.next(new ns(i.id,this.urlSerializer.serialize(i.extractedUrl),u.message,u.cancellationCode)),function y7(t){return ew(t)&&ts(t.url)}(u)?this.events.next(new Yh(u.url)):i.resolve(!1);else{this.events.next(new jd(i.id,this.urlSerializer.serialize(i.extractedUrl),u,i.targetSnapshot??void 0));try{i.resolve(e.errorHandler(u))}catch(g){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(g)}}return lo}))}))}cancelNavigationTransition(e,o,r){const i=new ns(e.id,this.urlSerializer.serialize(e.extractedUrl),o,r);this.events.next(i),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function ML(t){return t!==Ja}let PL=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=z({token:t,factory:()=>w(OL),providedIn:"root"})}}return t})();class wL{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}let OL=(()=>{class t extends wL{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=St(t)))(r||t)}})()}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),pw=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=z({token:t,factory:()=>w(kL),providedIn:"root"})}}return t})(),kL=(()=>{class t extends pw{constructor(){super(...arguments),this.location=w(ao),this.urlSerializer=w(es),this.options=w(cs,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=w(um),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Zi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=WP(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(o=>{"popstate"===o.type&&e(o.url,o.state)})}handleRouterEvent(e,o){if(e instanceof Bd)this.stateMemento=this.createStateMemento();else if(e instanceof os)this.rawUrlTree=o.initialUrl;else if(e instanceof jP){if("eager"===this.urlUpdateStrategy&&!o.extras.skipLocationChange){const r=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl);this.setBrowserUrl(r,o)}}else e instanceof Gh?(this.currentUrlTree=o.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o))):e instanceof ns&&(e.code===bn.GuardRejected||e.code===bn.NoDataFromResolver)?this.restoreHistory(o):e instanceof jd?this.restoreHistory(o,!0):e instanceof zn&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,o){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||o.extras.replaceUrl){const s={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const i={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId+1)};this.location.go(r,"",i)}}restoreHistory(e,o=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-this.browserPageId;0!==i?this.location.historyGo(i):this.currentUrlTree===e.finalUrl&&0===i&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,o){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:o}:{navigationId:e}}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=St(t)))(r||t)}})()}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var rc=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(rc||{});function gw(t,n){t.events.pipe(Bn(e=>e instanceof zn||e instanceof ns||e instanceof jd||e instanceof os),ie(e=>e instanceof zn||e instanceof os?rc.COMPLETE:e instanceof ns&&(e.code===bn.Redirect||e.code===bn.SupersededByNewNavigation)?rc.REDIRECTING:rc.FAILED),Bn(e=>e!==rc.REDIRECTING),Qi(1)).subscribe(()=>{n()})}function DL(t){throw t}const SL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},IL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let me=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=w(cx),this.stateManager=w(pw),this.options=w(cs,{optional:!0})||{},this.pendingTasks=w(Xo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=w(Gd),this.urlSerializer=w(es),this.location=w(ao),this.urlHandlingStrategy=w(um),this._events=new jt,this.errorHandler=this.options.errorHandler||DL,this.navigated=!1,this.routeReuseStrategy=w(PL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=w(ls,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!w($d,{optional:!0}),this.eventsSubscription=new Jt,this.isNgZoneEnabled=w(ke)instanceof ke&&ke.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(o=>{try{const r=this.navigationTransitions.currentTransition,i=this.navigationTransitions.currentNavigation;if(null!==r&&null!==i)if(this.stateManager.handleRouterEvent(o,i),o instanceof ns&&o.code!==bn.Redirect&&o.code!==bn.SupersededByNewNavigation)this.navigated=!0;else if(o instanceof zn)this.navigated=!0;else if(o instanceof Yh){const s=this.urlHandlingStrategy.merge(o.url,r.currentRawUrl),l={info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ML(r.source)};this.scheduleNavigation(s,Ja,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}(function EL(t){return!(t instanceof Gh||t instanceof Yh)})(o)&&this._events.next(o)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ja,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,o)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",o)},0)})}navigateToSyncWithBrowser(e,o,r){const i={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const u={...r};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(i.state=u)}const l=this.parseUrl(e);this.scheduleNavigation(l,o,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(rm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,o={}){const{relativeTo:r,queryParams:i,fragment:s,queryParamsHandling:l,preserveFragment:u}=o,g=u?this.currentUrlTree.fragment:s;let _,m=null;switch(l){case"merge":m={...this.currentUrlTree.queryParams,...i};break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=i||null}null!==m&&(m=this.removeEmptyProps(m));try{_=FP(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),_=this.currentUrlTree.root}return RP(_,e,m,g??null)}navigateByUrl(e,o={skipLocationChange:!1}){const r=ts(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(i,Ja,null,o)}navigate(e,o={skipLocationChange:!1}){return function TL(t){for(let n=0;n<t.length;n++)if(null==t[n])throw new U(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,o),o)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,o){let r;if(r=!0===o?{...SL}:!1===o?{...IL}:o,ts(e))return OP(this.currentUrlTree,e,r);const i=this.parseUrl(e);return OP(this.currentUrlTree,i,r)}removeEmptyProps(e){return Object.entries(e).reduce((o,[r,i])=>(null!=i&&(o[r]=i),o),{})}scheduleNavigation(e,o,r,i,s){if(this.disposed)return Promise.resolve(!1);let l,u,g;s?(l=s.resolve,u=s.reject,g=s.promise):g=new Promise((_,x)=>{l=_,u=x});const m=this.pendingTasks.add();return gw(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(m))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:i,resolve:l,reject:u,promise:g,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),g.catch(_=>Promise.reject(_))}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ze=(()=>{class t{constructor(e,o,r,i,s,l){this.router=e,this.route=o,this.tabIndexAttribute=r,this.renderer=i,this.el=s,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new jt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=e.events.subscribe(g=>{g instanceof zn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,o,r,i,s){const l=this.urlTree;return!!(null===l||this.isAnchorElement&&(0!==e||o||r||i||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(l,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const e=this.urlTree;this.href=null!==e&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;const o=null===this.href?null:function z1(t,n,e){return function rS(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?B1:ue}(n,e)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",o)}applyAttributeValue(e,o){const r=this.renderer,i=this.el.nativeElement;null!==o?r.setAttribute(i,e,o):r.removeAttribute(i,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(o){return new(o||t)(V(me),V(sn),function Vs(t){return function Rk(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const e=t.attrs;if(e){const o=e.length;let r=0;for(;r<o;){const i=e[r];if($_(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<o&&"string"==typeof e[r];)r++;else{if(i===n)return e[r+1];r+=2}}}return null}(Te(),t)}("tabindex"),V(To),V(pn),V(Lr))}}static{this.\u0275dir=te({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(o,r){1&o&&C("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&o&&xn("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[We.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Yi],skipLocationChange:[We.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Yi],replaceUrl:[We.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Yi],routerLink:"routerLink"},standalone:!0,features:[Iy,vn]})}}return t})(),fw=(()=>{class t{get isActive(){return this._isActive}constructor(e,o,r,i,s){this.router=e,this.element=o,this.renderer=r,this.cdr=i,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ee,this.routerEventsSubscription=e.events.subscribe(l=>{l instanceof zn&&this.update()})}ngAfterContentInit(){q(this.links.changes,q(null)).pipe(Ha()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),this.link].filter(o=>!!o).map(o=>o.onChanges);this.linkInputChangesSubscription=Ot(e).pipe(Ha()).subscribe(o=>{this._isActive!==this.isLinkActive(this.router)(o)&&this.update()})}set routerLinkActive(e){const o=Array.isArray(e)?e:e.split(" ");this.classes=o.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const e=this.hasActiveLinks();this.classes.forEach(o=>{e?this.renderer.addClass(this.element.nativeElement,o):this.renderer.removeClass(this.element.nativeElement,o)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){const o=function AL(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{const i=r.urlTree;return!!i&&e.isActive(i,o)}}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static{this.\u0275fac=function(o){return new(o||t)(V(me),V(pn),V(To),V(Aa),V(Ze,8))}}static{this.\u0275dir=te({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(o,r,i){if(1&o&&function vC(t,n,e,o){dy(t,n,e,o)}(i,Ze,5),2&o){let s;(function CC(t){const n=L(),e=he(),o=Sp();Kc(o+1);const r=rf(e,o);if(t.dirty&&function sk(t){return!(4&~t[Y])}(n)===!(2&~r.metadata.flags)){if(null===r.matches)t.reset([]);else{const i=py(n,o);t.reset(i,Z0),t.notifyOnChanges()}return!0}return!1})(s=xC())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[vn]})}}return t})();class hw{}let NL=(()=>{class t{constructor(e,o,r,i,s){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Bn(e=>e instanceof zn),Ji(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,o){const r=[];for(const i of o){i.providers&&!i._injector&&(i._injector=Ul(i.providers,e,`Route: ${i.path}`));const s=i._injector??e,l=i._loadedInjector??s;(i.loadChildren&&!i._loadedRoutes&&void 0===i.canLoad||i.loadComponent&&!i._loadedComponent)&&r.push(this.preloadConfig(s,i)),(i.children||i._loadedRoutes)&&r.push(this.processRoutes(l,i.children??i._loadedRoutes))}return Ot(r).pipe(Ha())}preloadConfig(e,o){return this.preloadingStrategy.preload(o,()=>{let r;r=o.loadChildren&&void 0===o.canLoad?this.loader.loadChildren(e,o):q(null);const i=r.pipe(Bt(s=>null===s?q(void 0):(o._loadedRoutes=s.routes,o._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));return o.loadComponent&&!o._loadedComponent?Ot([i,this.loader.loadComponent(o)]).pipe(Ha()):i})}static{this.\u0275fac=function(o){return new(o||t)(W(me),W(bx),W($t),W(hw),W(dm))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const pm=new H("");let mw=(()=>{class t{constructor(e,o,r,i,s={}){this.urlSerializer=e,this.transitions=o,this.viewportScroller=r,this.zone=i,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=w($t),s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Bd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof zn?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof os&&e.code===zd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof $P&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,o){var r=this;this.zone.runOutsideAngular(xe(function*(){yield new Promise(i=>{setTimeout(()=>{i()}),Wg(()=>{i()},{injector:r.environmentInjector})}),r.zone.run(()=>{r.transitions.events.next(new $P(e,"popstate"===r.lastSource?r.store[r.restoredId]:null,o))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(o){!function pb(){throw new Error("invalid")}()}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac})}}return t})();function _w(t){return t.routerState.root}function fo(t,n){return{\u0275kind:t,\u0275providers:n}}function bw(){const t=w(Wt);return n=>{const e=t.get(tr);if(n!==e.components[0])return;const o=t.get(me),r=t.get(yw);1===t.get(gm)&&o.initialNavigation(),t.get(vw,null,fe.Optional)?.setUpPreloading(),t.get(pm,null,fe.Optional)?.init(),o.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const yw=new H("",{factory:()=>new jt}),gm=new H("",{providedIn:"root",factory:()=>1}),vw=new H("");function VL(t){return fo(0,[{provide:vw,useExisting:NL},{provide:hw,useExisting:t}])}function zL(t){return fo(9,[{provide:dw,useValue:CL},{provide:uw,useValue:{skipNextTransition:!!t?.skipInitialTransition,...t}}])}const Cw=new H("ROUTER_FORROOT_GUARD"),jL=[ao,{provide:es,useClass:jh},me,Xa,{provide:sn,useFactory:_w,deps:[me]},dm,[]];let Ge=(()=>{class t{constructor(e){}static forRoot(e,o){return{ngModule:t,providers:[jL,[],{provide:ls,multi:!0,useValue:e},{provide:Cw,useFactory:WL,deps:[[me,new Ac,new Nc]]},{provide:cs,useValue:o||{}},o?.useHash?{provide:Lr,useClass:lN}:{provide:Lr,useClass:aM},{provide:pm,useFactory:()=>{const t=w(CF),n=w(ke),e=w(cs),o=w(Gd),r=w(es);return e.scrollOffset&&t.setOffset(e.scrollOffset),new mw(r,o,t,n,e)}},o?.preloadingStrategy?VL(o.preloadingStrategy).\u0275providers:[],o?.initialNavigation?GL(o):[],o?.bindToComponentInputs?fo(8,[QP,{provide:$d,useExisting:QP}]).\u0275providers:[],o?.enableViewTransitions?zL().\u0275providers:[],[{provide:xw,useFactory:bw},{provide:id,multi:!0,useExisting:xw}]]}}static forChild(e){return{ngModule:t,providers:[{provide:ls,multi:!0,useValue:e}]}}static{this.\u0275fac=function(o){return new(o||t)(W(Cw,8))}}static{this.\u0275mod=Cr({type:t})}static{this.\u0275inj=jo({})}}return t})();function WL(t){return"guarded"}function GL(t){return["disabled"===t.initialNavigation?fo(3,[{provide:qf,multi:!0,useFactory:()=>{const n=w(me);return()=>{n.setUpLocationChangeListener()}}},{provide:gm,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?fo(2,[{provide:gm,useValue:0},{provide:qf,multi:!0,deps:[Wt],useFactory:n=>{const e=n.get(aN,Promise.resolve());return()=>e.then(()=>new Promise(o=>{const r=n.get(me),i=n.get(yw);gw(r,()=>{o(!0)}),n.get(Gd).afterPreactivation=()=>(o(!0),i.closed?q(void 0):i),r.initialNavigation()}))}}]).\u0275providers:[]]}const xw=new H("");let Mw=(()=>{class t{constructor(e,o){this._renderer=e,this._elementRef=o,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,o){this._renderer.setProperty(this._elementRef.nativeElement,e,o)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(o){return new(o||t)(V(To),V(pn))}}static{this.\u0275dir=te({type:t})}}return t})(),Br=(()=>{class t extends Mw{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=St(t)))(r||t)}})()}static{this.\u0275dir=te({type:t,features:[Ae]})}}return t})();const ho=new H(""),QL={provide:ho,useExisting:Ve(()=>yn),multi:!0};let yn=(()=>{class t extends Br{writeValue(e){this.setProperty("checked",e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=St(t)))(r||t)}})()}static{this.\u0275dir=te({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(o,r){1&o&&C("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[Ke([QL]),Ae]})}}return t})();const JL={provide:ho,useExisting:Ve(()=>et),multi:!0},ZL=new H("");let et=(()=>{class t extends Mw{constructor(e,o,r){super(e,o),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function XL(){const t=or()?or().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(o){return new(o||t)(V(To),V(pn),V(ZL,8))}}static{this.\u0275dir=te({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(o,r){1&o&&C("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Ke([JL]),Ae]})}}return t})();function ar(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function Pw(t){return null!=t&&"number"==typeof t.length}const zt=new H(""),cr=new H(""),e9=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Se{static min(n){return ww(n)}static max(n){return Ow(n)}static required(n){return kw(n)}static requiredTrue(n){return function Dw(t){return!0===t.value?null:{required:!0}}(n)}static email(n){return function Sw(t){return ar(t.value)||e9.test(t.value)?null:{email:!0}}(n)}static minLength(n){return function Iw(t){return n=>ar(n.value)||!Pw(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static maxLength(n){return Tw(n)}static pattern(n){return function Ew(t){if(!t)return Yd;let n,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),o=>{if(ar(o.value))return null;const r=o.value;return n.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(n)}static nullValidator(n){return null}static compose(n){return Uw(n)}static composeAsync(n){return Vw(n)}}function ww(t){return n=>{if(ar(n.value)||ar(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}function Ow(t){return n=>{if(ar(n.value)||ar(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}function kw(t){return ar(t.value)?{required:!0}:null}function Tw(t){return n=>Pw(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}function Yd(t){return null}function Aw(t){return null!=t}function Nw(t){return Ea(t)?Ot(t):t}function Fw(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function Rw(t,n){return n.map(e=>e(t))}function Lw(t){return t.map(n=>function t9(t){return!t.validate}(n)?n:e=>n.validate(e))}function Uw(t){if(!t)return null;const n=t.filter(Aw);return 0==n.length?null:function(e){return Fw(Rw(e,n))}}function fm(t){return null!=t?Uw(Lw(t)):null}function Vw(t){if(!t)return null;const n=t.filter(Aw);return 0==n.length?null:function(e){return function KL(...t){const n=hP(t),{args:e,keys:o}=mP(t),r=new it(i=>{const{length:s}=e;if(!s)return void i.complete();const l=new Array(s);let u=s,g=s;for(let m=0;m<s;m++){let _=!1;wn(e[m]).subscribe(bt(i,x=>{_||(_=!0,g--),l[m]=x},()=>u--,void 0,()=>{(!u||!_)&&(g||i.next(o?bP(o,l):l),i.complete())}))}});return n?r.pipe(_P(n)):r}(Rw(e,n).map(Nw)).pipe(ie(Fw))}}function hm(t){return null!=t?Vw(Lw(t)):null}function Bw(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function zw(t){return t._rawValidators}function jw(t){return t._rawAsyncValidators}function mm(t){return t?Array.isArray(t)?t:[t]:[]}function Kd(t,n){return Array.isArray(t)?t.includes(n):t===n}function $w(t,n){const e=mm(n);return mm(t).forEach(r=>{Kd(e,r)||e.push(r)}),e}function Hw(t,n){return mm(n).filter(e=>!Kd(t,e))}class qw{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=fm(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=hm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class Qt extends qw{get formDirective(){return null}get path(){return null}}class lr extends qw{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ww{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let rt=(()=>{class t extends Ww{constructor(e){super(e)}static{this.\u0275fac=function(o){return new(o||t)(V(lr,2))}}static{this.\u0275dir=te({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(o,r){2&o&&B("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ae]})}}return t})(),mo=(()=>{class t extends Ww{constructor(e){super(e)}static{this.\u0275fac=function(o){return new(o||t)(V(Qt,10))}}static{this.\u0275dir=te({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(o,r){2&o&&B("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Ae]})}}return t})();const ic="VALID",Jd="INVALID",ds="PENDING",sc="DISABLED";function ym(t){return(Xd(t)?t.validators:t)||null}function vm(t,n){return(Xd(n)?n.asyncValidators:t)||null}function Xd(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function Yw(t,n,e){const o=t.controls;if(!(n?Object.keys(o):o).length)throw new U(1e3,"");if(!o[e])throw new U(1001,"")}function Kw(t,n,e){t._forEachChild((o,r)=>{if(void 0===e[r])throw new U(1002,"")})}class Zd{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===ic}get invalid(){return this.status===Jd}get pending(){return this.status==ds}get disabled(){return this.status===sc}get enabled(){return this.status!==sc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators($w(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators($w(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(Hw(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(Hw(n,this._rawAsyncValidators))}hasValidator(n){return Kd(this._rawValidators,n)}hasAsyncValidator(n){return Kd(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=ds,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=sc,this.errors=null,this._forEachChild(o=>{o.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(o=>o(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=ic,this._forEachChild(o=>{o.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ic||this.status===ds)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sc:ic}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=ds,this._hasOwnPendingAsyncValidator=!0;const e=Nw(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((o,r)=>o&&o._find(r),this)}getError(n,e){const o=e?this.get(e):this;return o&&o.errors?o.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new Ee,this.statusChanges=new Ee}_calculateStatus(){return this._allControlsDisabled()?sc:this.errors?Jd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ds)?ds:this._anyControlsHaveStatus(Jd)?Jd:ic}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Xd(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function i9(t){return Array.isArray(t)?fm(t):t||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function s9(t){return Array.isArray(t)?hm(t):t||null}(this._rawAsyncValidators)}}class ac extends Zd{constructor(n,e,o){super(ym(e),vm(o,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,o={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,o={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){Kw(this,0,n),Object.keys(n).forEach(o=>{Yw(this,!0,o),this.controls[o].setValue(n[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(o=>{const r=this.controls[o];r&&r.patchValue(n[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((o,r)=>{o.reset(n?n[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,o)=>(n[o]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,o)=>!!o._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const o=this.controls[e];o&&n(o,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[e,o]of Object.entries(this.controls))if(this.contains(e)&&n(o))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,o,r)=>((o.enabled||this.disabled)&&(e[r]=o.value),e))}_reduceChildren(n,e){let o=n;return this._forEachChild((r,i)=>{o=e(o,r,i)}),o}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}class Qw extends ac{}const zr=new H("CallSetDisabledState",{providedIn:"root",factory:()=>cc}),cc="always";function eu(t,n){return[...n.path,t]}function lc(t,n,e=cc){Cm(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||"always"===e)&&n.valueAccessor.setDisabledState?.(t.disabled),function c9(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Jw(t,n)})}(t,n),function d9(t,n){const e=(o,r)=>{n.valueAccessor.writeValue(o),r&&n.viewToModelUpdate(o)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function l9(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Jw(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function a9(t,n){if(n.valueAccessor.setDisabledState){const e=o=>{n.valueAccessor.setDisabledState(o)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function tu(t,n,e=!0){const o=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(o),n.valueAccessor.registerOnTouched(o)),ou(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function nu(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function Cm(t,n){const e=zw(t);null!==n.validator?t.setValidators(Bw(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const o=jw(t);null!==n.asyncValidator?t.setAsyncValidators(Bw(o,n.asyncValidator)):"function"==typeof o&&t.setAsyncValidators([o]);const r=()=>t.updateValueAndValidity();nu(n._rawValidators,r),nu(n._rawAsyncValidators,r)}function ou(t,n){let e=!1;if(null!==t){if(null!==n.validator){const r=zw(t);if(Array.isArray(r)&&r.length>0){const i=r.filter(s=>s!==n.validator);i.length!==r.length&&(e=!0,t.setValidators(i))}}if(null!==n.asyncValidator){const r=jw(t);if(Array.isArray(r)&&r.length>0){const i=r.filter(s=>s!==n.asyncValidator);i.length!==r.length&&(e=!0,t.setAsyncValidators(i))}}}const o=()=>{};return nu(n._rawValidators,o),nu(n._rawAsyncValidators,o),e}function Jw(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Xw(t,n){Cm(t,n)}function Mm(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}function Zw(t,n){t._syncPendingControls(),n.forEach(e=>{const o=e.control;"submit"===o.updateOn&&o._pendingChange&&(e.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}function Pm(t,n){if(!n)return null;let e,o,r;return Array.isArray(n),n.forEach(i=>{i.constructor===et?e=i:function g9(t){return Object.getPrototypeOf(t.constructor)===Br}(i)?o=i:r=i}),r||o||e||null}const h9={provide:Qt,useExisting:Ve(()=>_o)},dc=Promise.resolve();let _o=(()=>{class t extends Qt{constructor(e,o,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ee,this.form=new ac({},fm(e),hm(o))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){dc.then(()=>{const o=this._findContainer(e.path);e.control=o.registerControl(e.name,e.control),lc(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){dc.then(()=>{const o=this._findContainer(e.path);o&&o.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){dc.then(()=>{const o=this._findContainer(e.path),r=new ac({});Xw(r,e),o.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){dc.then(()=>{const o=this._findContainer(e.path);o&&o.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,o){dc.then(()=>{this.form.get(e.path).setValue(o)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,Zw(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static{this.\u0275fac=function(o){return new(o||t)(V(zt,10),V(cr,10),V(zr,8))}}static{this.\u0275dir=te({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(o,r){1&o&&C("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[We.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ke([h9]),Ae]})}}return t})();function e2(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function t2(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const uc=class extends Zd{constructor(n=null,e,o){super(ym(e),vm(o,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xd(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=t2(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){e2(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){e2(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){t2(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},b9={provide:lr,useExisting:Ve(()=>tt)},r2=Promise.resolve();let tt=(()=>{class t extends lr{constructor(e,o,r,i,s,l){super(),this._changeDetectorRef=s,this.callSetDisabledState=l,this.control=new uc,this._registered=!1,this.name="",this.update=new Ee,this._parent=e,this._setValidators(o),this._setAsyncValidators(r),this.valueAccessor=Pm(0,i)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const o=e.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Mm(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){lc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){r2.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const o=e.isDisabled.currentValue,r=0!==o&&Yi(o);r2.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?eu(e,this._parent):[e]}static{this.\u0275fac=function(o){return new(o||t)(V(Qt,9),V(zt,10),V(cr,10),V(ho,10),V(Aa,8),V(zr,8))}}static{this.\u0275dir=te({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[We.None,"disabled","isDisabled"],model:[We.None,"ngModel","model"],options:[We.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ke([b9]),Ae,vn]})}}return t})(),bo=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275dir=te({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})();const y9={provide:ho,useExisting:Ve(()=>yo),multi:!0};let yo=(()=>{class t extends Br{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=o=>{e(""==o?null:parseFloat(o))}}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=St(t)))(r||t)}})()}static{this.\u0275dir=te({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(o,r){1&o&&C("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[Ke([y9]),Ae]})}}return t})();const v9={provide:ho,useExisting:Ve(()=>wm),multi:!0};let C9=(()=>{class t{constructor(){this._accessors=[]}add(e,o){this._accessors.push([e,o])}remove(e){for(let o=this._accessors.length-1;o>=0;--o)if(this._accessors[o][1]===e)return void this._accessors.splice(o,1)}select(e){this._accessors.forEach(o=>{this._isSameGroup(o,e)&&o[1]!==e&&o[1].fireUncheck(e.value)})}_isSameGroup(e,o){return!!e[0].control&&e[0]._parent===o._control._parent&&e[1].name===o.name}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),wm=(()=>{class t extends Br{constructor(e,o,r,i){super(e,o),this._registry=r,this._injector=i,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=w(zr,{optional:!0})??cc}ngOnInit(){this._control=this._injector.get(lr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(o){return new(o||t)(V(To),V(pn),V(C9),V(Wt))}}static{this.\u0275dir=te({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(o,r){1&o&&C("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Ke([v9]),Ae]})}}return t})();const Om=new H(""),P9={provide:Qt,useExisting:Ve(()=>pc)};let pc=(()=>{class t extends Qt{constructor(e,o,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ee,this._setValidators(e),this._setAsyncValidators(o)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ou(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const o=this.form.get(e.path);return lc(o,e,this.callSetDisabledState),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),o}getControl(e){return this.form.get(e.path)}removeControl(e){tu(e.control||null,e,!1),function f9(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,o){this.form.get(e.path).setValue(o)}onSubmit(e){return this.submitted=!0,Zw(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const o=e.control,r=this.form.get(e.path);o!==r&&(tu(o||null,e),(t=>t instanceof uc)(r)&&(lc(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const o=this.form.get(e.path);Xw(o,e),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const o=this.form.get(e.path);o&&function u9(t,n){return ou(t,n)}(o,e)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Cm(this.form,this),this._oldForm&&ou(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(o){return new(o||t)(V(zt,10),V(cr,10),V(zr,8))}}static{this.\u0275dir=te({type:t,selectors:[["","formGroup",""]],hostBindings:function(o,r){1&o&&C("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[We.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ke([P9]),Ae,vn]})}}return t})();const k9={provide:lr,useExisting:Ve(()=>ru)};let ru=(()=>{class t extends lr{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,o,r,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Ee,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(o),this._setAsyncValidators(r),this.valueAccessor=Pm(0,i)}ngOnChanges(e){this._added||this._setUpControl(),Mm(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return eu(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(o){return new(o||t)(V(Qt,13),V(zt,10),V(cr,10),V(ho,10),V(Om,8))}}static{this.\u0275dir=te({type:t,selectors:[["","formControlName",""]],inputs:{name:[We.None,"formControlName","name"],isDisabled:[We.None,"disabled","isDisabled"],model:[We.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ke([k9]),Ae,vn]})}}return t})();const D9={provide:ho,useExisting:Ve(()=>$n),multi:!0};function c2(t,n){return null==t?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let $n=(()=>{class t extends Br{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=c2(this._getOptionId(e),e);this.setProperty("value",r)}registerOnChange(e){this.onChange=o=>{this.value=this._getOptionValue(o),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const o of this._optionMap.keys())if(this._compareWith(this._optionMap.get(o),e))return o;return null}_getOptionValue(e){const o=function S9(t){return t.split(":")[0]}(e);return this._optionMap.has(o)?this._optionMap.get(o):e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=St(t)))(r||t)}})()}static{this.\u0275dir=te({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(o,r){1&o&&C("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ke([D9]),Ae]})}}return t})(),vo=(()=>{class t{constructor(e,o,r){this._element=e,this._renderer=o,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(c2(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(o){return new(o||t)(V(pn),V(To),V($n,9))}}static{this.\u0275dir=te({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();const I9={provide:ho,useExisting:Ve(()=>Sm),multi:!0};function l2(t,n){return null==t?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let Sm=(()=>{class t extends Br{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let o;if(this.value=e,Array.isArray(e)){const r=e.map(i=>this._getOptionId(i));o=(i,s)=>{i._setSelected(r.indexOf(s.toString())>-1)}}else o=(r,i)=>{r._setSelected(!1)};this._optionMap.forEach(o)}registerOnChange(e){this.onChange=o=>{const r=[],i=o.selectedOptions;if(void 0!==i){const s=i;for(let l=0;l<s.length;l++){const g=this._getOptionValue(s[l].value);r.push(g)}}else{const s=o.options;for(let l=0;l<s.length;l++){const u=s[l];if(u.selected){const g=this._getOptionValue(u.value);r.push(g)}}}this.value=r,e(r)}}_registerOption(e){const o=(this._idCounter++).toString();return this._optionMap.set(o,e),o}_getOptionId(e){for(const o of this._optionMap.keys())if(this._compareWith(this._optionMap.get(o)._value,e))return o;return null}_getOptionValue(e){const o=function T9(t){return t.split(":")[0]}(e);return this._optionMap.has(o)?this._optionMap.get(o)._value:e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=St(t)))(r||t)}})()}static{this.\u0275dir=te({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(o,r){1&o&&C("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ke([I9]),Ae]})}}return t})(),Co=(()=>{class t{constructor(e,o,r){this._element=e,this._renderer=o,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(l2(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(l2(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(o){return new(o||t)(V(pn),V(To),V(Sm,9))}}static{this.\u0275dir=te({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();function u2(t){return"number"==typeof t?t:parseFloat(t)}let jr=(()=>{class t{constructor(){this._validator=Yd}ngOnChanges(e){if(this.inputName in e){const o=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(o),this._validator=this._enabled?this.createValidator(o):Yd,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275dir=te({type:t,features:[vn]})}}return t})();const E9={provide:zt,useExisting:Ve(()=>Im),multi:!0};let Im=(()=>{class t extends jr{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>u2(e),this.createValidator=e=>Ow(e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=St(t)))(r||t)}})()}static{this.\u0275dir=te({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(o,r){2&o&&xn("max",r._enabled?r.max:null)},inputs:{max:"max"},features:[Ke([E9]),Ae]})}}return t})();const A9={provide:zt,useExisting:Ve(()=>us),multi:!0};let us=(()=>{class t extends jr{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>u2(e),this.createValidator=e=>ww(e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=St(t)))(r||t)}})()}static{this.\u0275dir=te({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(o,r){2&o&&xn("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[Ke([A9]),Ae]})}}return t})();const N9={provide:zt,useExisting:Ve(()=>dr),multi:!0};let dr=(()=>{class t extends jr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Yi,this.createValidator=e=>kw}enabled(e){return e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=St(t)))(r||t)}})()}static{this.\u0275dir=te({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(o,r){2&o&&xn("required",r._enabled?"":null)},inputs:{required:"required"},features:[Ke([N9]),Ae]})}}return t})();const U9={provide:zt,useExisting:Ve(()=>ps),multi:!0};let ps=(()=>{class t extends jr{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function d2(t){return"number"==typeof t?t:parseInt(t,10)}(e),this.createValidator=e=>Tw(e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=St(t)))(r||t)}})()}static{this.\u0275dir=te({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(o,r){2&o&&xn("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Ke([U9]),Ae]})}}return t})(),m2=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=Cr({type:t})}static{this.\u0275inj=jo({})}}return t})();class _2 extends Zd{constructor(n,e,o){super(ym(e),vm(o,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[this._adjustIndex(n)]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,o={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(n,e={}){let o=this._adjustIndex(n);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,o={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){Kw(this,0,n),n.forEach((o,r)=>{Yw(this,!1,r),this.at(r).setValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(n.forEach((o,r)=>{this.at(r)&&this.at(r).patchValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((o,r)=>{o.reset(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((e,o)=>!!o._syncPendingControls()||e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((e,o)=>{n(e,o)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}}function b2(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let y2=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new t;return e.useNonNullable=!0,e}group(e,o=null){const r=this._reduceControls(e);let i={};return b2(o)?i=o:null!==o&&(i.validators=o.validator,i.asyncValidators=o.asyncValidator),new ac(r,i)}record(e,o=null){const r=this._reduceControls(e);return new Qw(r,o)}control(e,o,r){let i={};return this.useNonNullable?(b2(o)?i=o:(i.validators=o,i.asyncValidators=r),new uc(e,{...i,nonNullable:!0})):new uc(e,o,r)}array(e,o,r){const i=e.map(s=>this._createControl(s));return new _2(i,o,r)}_reduceControls(e){const o={};return Object.keys(e).forEach(r=>{o[r]=this._createControl(e[r])}),o}_createControl(e){return e instanceof uc||e instanceof Zd?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),nt=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:zr,useValue:e.callSetDisabledState??cc}]}}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=Cr({type:t})}static{this.\u0275inj=jo({imports:[m2]})}}return t})(),gs=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Om,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:zr,useValue:e.callSetDisabledState??cc}]}}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=Cr({type:t})}static{this.\u0275inj=jo({imports:[m2]})}}return t})();class iu{}class su{}class At{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(e=>{const o=e.indexOf(":");if(o>0){const r=e.slice(0,o),i=r.toLowerCase(),s=e.slice(o+1).trim();this.maybeSetNormalizedName(r,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,o)=>{this.setHeaderEntries(o,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,o])=>{this.setHeaderEntries(e,o)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof At?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new At;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof At?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let o=n.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(n.name,e);const r=("a"===n.op?this.headers.get(e):void 0)||[];r.push(...o),this.headers.set(e,r);break;case"d":const i=n.value;if(i){let s=this.headers.get(e);if(!s)return;s=s.filter(l=>-1===i.indexOf(l)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(n,e){const o=(Array.isArray(e)?e:[e]).map(i=>i.toString()),r=n.toLowerCase();this.headers.set(r,o),this.maybeSetNormalizedName(n,r)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class B9{encodeKey(n){return v2(n)}encodeValue(n){return v2(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const j9=/%(\d[a-f0-9])/gi,$9={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function v2(t){return encodeURIComponent(t).replace(j9,(n,e)=>$9[e]??n)}function au(t){return`${t}`}class Uo{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new B9,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function z9(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{const i=r.indexOf("="),[s,l]=-1==i?[n.decodeKey(r),""]:[n.decodeKey(r.slice(0,i)),n.decodeValue(r.slice(i+1))],u=e.get(s)||[];u.push(l),e.set(s,u)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const o=n.fromObject[e],r=Array.isArray(o)?o.map(au):[au(o)];this.map.set(e,r)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(o=>{const r=n[o];Array.isArray(r)?r.forEach(i=>{e.push({param:o,value:i,op:"a"})}):e.push({param:o,value:r,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(o=>e+"="+this.encoder.encodeValue(o)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new Uo({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(au(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let o=this.map.get(n.param)||[];const r=o.indexOf(au(n.value));-1!==r&&o.splice(r,1),o.length>0?this.map.set(n.param,o):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class H9{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function C2(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function x2(t){return typeof Blob<"u"&&t instanceof Blob}function M2(t){return typeof FormData<"u"&&t instanceof FormData}class gc{constructor(n,e,o,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function q9(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==o?o:null,i=r):i=o,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),this.transferCache=i.transferCache),this.headers??=new At,this.context??=new H9,this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const l=e.indexOf("?");this.urlWithParams=e+(-1===l?"?":l<e.length-1?"&":"")+s}}else this.params=new Uo,this.urlWithParams=e}serializeBody(){return null===this.body?null:"string"==typeof this.body||C2(this.body)||x2(this.body)||M2(this.body)||function W9(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Uo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||M2(this.body)?null:x2(this.body)?this.body.type||null:C2(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Uo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const e=n.method||this.method,o=n.url||this.url,r=n.responseType||this.responseType,i=n.transferCache??this.transferCache,s=void 0!==n.body?n.body:this.body,l=n.withCredentials??this.withCredentials,u=n.reportProgress??this.reportProgress;let g=n.headers||this.headers,m=n.params||this.params;const _=n.context??this.context;return void 0!==n.setHeaders&&(g=Object.keys(n.setHeaders).reduce((x,M)=>x.set(M,n.setHeaders[M]),g)),n.setParams&&(m=Object.keys(n.setParams).reduce((x,M)=>x.set(M,n.setParams[M]),m)),new gc(e,o,s,{params:m,headers:g,context:_,reportProgress:u,responseType:r,withCredentials:l,transferCache:i})}}var ur=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(ur||{});class Tm{constructor(n,e=fc.Ok,o="OK"){this.headers=n.headers||new At,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||o,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class cu extends Tm{constructor(n={}){super(n),this.type=ur.ResponseHeader}clone(n={}){return new cu({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class $r extends Tm{constructor(n={}){super(n),this.type=ur.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new $r({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Hr extends Tm{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}var fc=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(fc||{});function Em(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}let kt=(()=>{class t{constructor(e){this.handler=e}request(e,o,r={}){let i;if(e instanceof gc)i=e;else{let u,g;u=r.headers instanceof At?r.headers:new At(r.headers),r.params&&(g=r.params instanceof Uo?r.params:new Uo({fromObject:r.params})),i=new gc(e,o,void 0!==r.body?r.body:null,{headers:u,context:r.context,params:g,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}const s=q(i).pipe(Ji(u=>this.handler.handle(u)));if(e instanceof gc||"events"===r.observe)return s;const l=s.pipe(Bn(u=>u instanceof $r));switch(r.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return l.pipe(ie(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return l.pipe(ie(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return l.pipe(ie(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return l.pipe(ie(u=>u.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,o={}){return this.request("DELETE",e,o)}get(e,o={}){return this.request("GET",e,o)}head(e,o={}){return this.request("HEAD",e,o)}jsonp(e,o){return this.request("JSONP",e,{params:(new Uo).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,o={}){return this.request("OPTIONS",e,o)}patch(e,o,r={}){return this.request("PATCH",e,Em(r,o))}post(e,o,r={}){return this.request("POST",e,Em(r,o))}put(e,o,r={}){return this.request("PUT",e,Em(r,o))}static{this.\u0275fac=function(o){return new(o||t)(W(iu))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac})}}return t})();function w2(t,n){return n(t)}function J9(t,n){return(e,o)=>n.intercept(e,{handle:r=>t(r,o)})}const Fm=new H(""),hc=new H(""),O2=new H(""),k2=new H("");function Z9(){let t=null;return(n,e)=>{null===t&&(t=(w(Fm,{optional:!0})??[]).reduceRight(J9,w2));const o=w(Xo),r=o.add();return t(n,e).pipe(qa(()=>o.remove(r)))}}let D2=(()=>{class t extends iu{constructor(e,o){super(),this.backend=e,this.injector=o,this.chain=null,this.pendingTasks=w(Xo);const r=w(k2,{optional:!0});this.backend=r??e}handle(e){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(hc),...this.injector.get(O2,[])]));this.chain=r.reduceRight((i,s)=>function X9(t,n,e){return(o,r)=>Wn(e,()=>n(o,i=>t(i,r)))}(i,s,this.injector),w2)}const o=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(qa(()=>this.pendingTasks.remove(o)))}static{this.\u0275fac=function(o){return new(o||t)(W(su),W($t))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac})}}return t})();const rU=/^\)\]\}',?\n/;let I2=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new U(-2800,!1);const o=this.xhrFactory;return(o.\u0275loadImpl?Ot(o.\u0275loadImpl()):q(null)).pipe(_n(()=>new it(i=>{const s=o.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((k,I)=>s.setRequestHeader(k,I.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const k=e.detectContentTypeHeader();null!==k&&s.setRequestHeader("Content-Type",k)}if(e.responseType){const k=e.responseType.toLowerCase();s.responseType="json"!==k?k:"text"}const l=e.serializeBody();let u=null;const g=()=>{if(null!==u)return u;const k=s.statusText||"OK",I=new At(s.getAllResponseHeaders()),N=function iU(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(s)||e.url;return u=new cu({headers:I,status:s.status,statusText:k,url:N}),u},m=()=>{let{headers:k,status:I,statusText:N,url:T}=g(),$=null;I!==fc.NoContent&&($=typeof s.response>"u"?s.responseText:s.response),0===I&&(I=$?fc.Ok:0);let G=I>=200&&I<300;if("json"===e.responseType&&"string"==typeof $){const K=$;$=$.replace(rU,"");try{$=""!==$?JSON.parse($):null}catch(be){$=K,G&&(G=!1,$={error:be,text:$})}}G?(i.next(new $r({body:$,headers:k,status:I,statusText:N,url:T||void 0})),i.complete()):i.error(new Hr({error:$,headers:k,status:I,statusText:N,url:T||void 0}))},_=k=>{const{url:I}=g(),N=new Hr({error:k,status:s.status||0,statusText:s.statusText||"Unknown Error",url:I||void 0});i.error(N)};let x=!1;const M=k=>{x||(i.next(g()),x=!0);let I={type:ur.DownloadProgress,loaded:k.loaded};k.lengthComputable&&(I.total=k.total),"text"===e.responseType&&s.responseText&&(I.partialText=s.responseText),i.next(I)},O=k=>{let I={type:ur.UploadProgress,loaded:k.loaded};k.lengthComputable&&(I.total=k.total),i.next(I)};return s.addEventListener("load",m),s.addEventListener("error",_),s.addEventListener("timeout",_),s.addEventListener("abort",_),e.reportProgress&&(s.addEventListener("progress",M),null!==l&&s.upload&&s.upload.addEventListener("progress",O)),s.send(l),i.next({type:ur.Sent}),()=>{s.removeEventListener("error",_),s.removeEventListener("abort",_),s.removeEventListener("load",m),s.removeEventListener("timeout",_),e.reportProgress&&(s.removeEventListener("progress",M),null!==l&&s.upload&&s.upload.removeEventListener("progress",O)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(o){return new(o||t)(W(IM))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac})}}return t})();const Rm=new H(""),T2=new H("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),E2=new H("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class A2{}let cU=(()=>{class t{constructor(e,o,r){this.doc=e,this.platform=o,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=_M(e,this.cookieName),this.lastCookieString=e),this.lastToken}static{this.\u0275fac=function(o){return new(o||t)(W(hn),W(Go),W(T2))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac})}}return t})();function lU(t,n){const e=t.url.toLowerCase();if(!w(Rm)||"GET"===t.method||"HEAD"===t.method||e.startsWith("http://")||e.startsWith("https://"))return n(t);const o=w(A2).getToken(),r=w(E2);return null!=o&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,o)})),n(t)}var pr=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(pr||{});const N2=new H("");let gr=(()=>{class t{constructor(){this.ANALYTICS_KEY="drone_shop_analytics",this.TRANSACTIONS_KEY="drone_shop_transactions",this.DAILY_USERS_KEY="drone_shop_daily_users",this.initializeAnalytics()}initializeAnalytics(){localStorage.getItem(this.ANALYTICS_KEY)||localStorage.setItem(this.ANALYTICS_KEY,JSON.stringify([])),localStorage.getItem(this.TRANSACTIONS_KEY)||localStorage.setItem(this.TRANSACTIONS_KEY,JSON.stringify([])),this.trackPageView()}trackActiveUser(e){const o=(new Date).toISOString().split("T")[0],r=localStorage.getItem(this.DAILY_USERS_KEY),i=r?JSON.parse(r):{};i[o]||(i[o]=[]),i[o].includes(e)||(i[o].push(e),localStorage.setItem(this.DAILY_USERS_KEY,JSON.stringify(i)))}trackPageView(){const e=this.getAnalytics(),o=(new Date).toISOString().split("T")[0],r=e.find(i=>i.date===o);r?r.pageViews++:e.push({date:o,activeUsers:0,transactions:0,pageViews:1}),localStorage.setItem(this.ANALYTICS_KEY,JSON.stringify(e))}trackTransaction(e){const o=this.getTransactions(),r={...e,id:Date.now().toString(),timestamp:(new Date).toISOString()};o.push(r),localStorage.setItem(this.TRANSACTIONS_KEY,JSON.stringify(o));const i=this.getAnalytics(),s=(new Date).toISOString().split("T")[0],l=i.find(u=>u.date===s);l?l.transactions++:i.push({date:s,activeUsers:0,transactions:1,pageViews:0}),localStorage.setItem(this.ANALYTICS_KEY,JSON.stringify(i))}getAnalytics(){const e=localStorage.getItem(this.ANALYTICS_KEY);return e?JSON.parse(e):[]}getTransactions(){const e=localStorage.getItem(this.TRANSACTIONS_KEY);return e?JSON.parse(e):[]}getDailyActiveUsers(e){const o=e||(new Date).toISOString().split("T")[0],r=localStorage.getItem(this.DAILY_USERS_KEY);return(r?JSON.parse(r):{})[o]?.length||0}getTotalTransactions(){return this.getTransactions().length}getTodayTransactions(){const e=(new Date).toISOString().split("T")[0];return this.getTransactions().filter(o=>o.timestamp.startsWith(e))}getTransactionsByDateRange(e,o){return this.getTransactions().filter(r=>{const i=r.timestamp.split("T")[0];return i>=e&&i<=o})}getAnalyticsSummary(){(new Date).toISOString().split("T");const o=this.getAnalytics(),r=this.getTransactions();return{todayActiveUsers:this.getDailyActiveUsers(),todayTransactions:this.getTodayTransactions().length,totalTransactions:r.length,totalPageViews:o.reduce((s,l)=>s+l.pageViews,0),last7DaysUsers:this.getLast7DaysUsers(),last7DaysTransactions:this.getLast7DaysTransactions()}}getLast7DaysUsers(){const e=localStorage.getItem(this.DAILY_USERS_KEY),o=e?JSON.parse(e):{},r=this.getLast7Days(),i=new Set;return r.forEach(s=>{o[s]&&o[s].forEach(l=>i.add(l))}),i.size}getLast7DaysTransactions(){const e=new Date,o=new Date(e);return o.setDate(o.getDate()-7),this.getTransactionsByDateRange(o.toISOString().split("T")[0],e.toISOString().split("T")[0]).length}getLast7Days(){const e=[];for(let o=0;o<7;o++){const r=new Date;r.setDate(r.getDate()-o),e.push(r.toISOString().split("T")[0])}return e}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const ot_apiUrl="https://vsp-electronics-backend.vercel.app/api",ot_googleClientId="YOUR_GOOGLE_CLIENT_ID.apps.googleusercontent.com";let Qe=(()=>{class t{constructor(){this.AUTH_TOKEN_KEY="authToken",this.CURRENT_USER_KEY="currentUser",this.API_URL=ot_apiUrl,this.http=w(kt),this.analyticsService=w(gr),this.currentUserSubject=new st(this.getUserFromStorage()),this.currentUser$=this.currentUserSubject.asObservable(),this.isAuthenticatedSubject=new st(this.hasValidToken()),this.isAuthenticated$=this.isAuthenticatedSubject.asObservable(),this.currentUser=Mt(this.getUserFromStorage()),this.isLoggedIn=Mt(this.hasValidToken()),this.sessionExpired=Mt(!1),this.loadCurrentUser(),this.startActivityTracking(),this.setupCrossTabSync()}getUserFromStorage(){try{const e=localStorage.getItem(this.CURRENT_USER_KEY);return e?JSON.parse(e):null}catch{return null}}hasValidToken(){return!!localStorage.getItem(this.AUTH_TOKEN_KEY)}loadCurrentUser(){const e=this.getUserFromStorage();e&&this.hasValidToken()&&(this.currentUser.set(e),this.currentUserSubject.next(e),this.isLoggedIn.set(!0),this.isAuthenticatedSubject.next(!0),this.analyticsService.trackActiveUser(e.id||e.userId||""))}getToken(){return localStorage.getItem(this.AUTH_TOKEN_KEY)}setToken(e){localStorage.setItem(this.AUTH_TOKEN_KEY,e)}clearToken(){localStorage.removeItem(this.AUTH_TOKEN_KEY)}saveCurrentUser(e){localStorage.setItem(this.CURRENT_USER_KEY,JSON.stringify(e)),this.currentUser.set(e),this.currentUserSubject.next(e)}clearCurrentUser(){localStorage.removeItem(this.CURRENT_USER_KEY),this.currentUser.set(null),this.currentUserSubject.next(null)}startActivityTracking(){["mousedown","keydown","scroll","touchstart","click"].forEach(e=>{document.addEventListener(e,()=>{},{passive:!0})})}setupCrossTabSync(){this.storageListener=e=>{if(e.key===this.CURRENT_USER_KEY)if(e.newValue)try{const o=JSON.parse(e.newValue);this.currentUser.set(o),this.currentUserSubject.next(o),this.isLoggedIn.set(!0),this.isAuthenticatedSubject.next(!0),this.analyticsService.trackActiveUser(o.id||o.userId||"")}catch(o){console.error("Error parsing user data:",o)}else this.currentUser.set(null),this.currentUserSubject.next(null),this.isLoggedIn.set(!1),this.isAuthenticatedSubject.next(!1);else e.key===this.AUTH_TOKEN_KEY&&(e.newValue||(this.clearCurrentUser(),this.isLoggedIn.set(!1),this.isAuthenticatedSubject.next(!1)))},window.addEventListener("storage",this.storageListener)}ngOnDestroy(){this.activityTimer&&clearInterval(this.activityTimer),this.storageListener&&window.removeEventListener("storage",this.storageListener)}register(e){return this.http.post(`${this.API_URL}/auth/register`,{email:e.email,password:e.password,firstName:e.firstName,lastName:e.lastName||"",phone:e.phone||""}).pipe(Fe(r=>{r.success&&console.log("Registration successful. Please check your email to verify your account.")}),Ce(r=>this.handleError(r)))}login(e){return this.http.post(`${this.API_URL}/auth/login`,e).pipe(Fe(o=>{if(o.token||o.accessToken){this.setToken(o.token||o.accessToken);const i=o.user||{email:e.email};this.saveCurrentUser(i),this.isLoggedIn.set(!0),this.isAuthenticatedSubject.next(!0),this.analyticsService.trackActiveUser(i.id||i.userId||"")}}),Ce(o=>this.handleError(o)))}verifyEmail(e){return this.http.post(`${this.API_URL}/auth/verify-email`,{token:e}).pipe(Fe(o=>{if(o.token||o.accessToken){this.setToken(o.token||o.accessToken);const i=o.user||{email:""};this.saveCurrentUser(i),this.isLoggedIn.set(!0),this.isAuthenticatedSubject.next(!0),this.analyticsService.trackActiveUser(i.id||i.userId||"")}}),Ce(o=>this.handleError(o)))}resendVerification(e){return this.http.post(`${this.API_URL}/auth/resend-verification`,{email:e}).pipe(Ce(o=>this.handleError(o)))}forgotPassword(e){return this.http.post(`${this.API_URL}/auth/forgot-password`,{email:e}).pipe(Ce(o=>this.handleError(o)))}resetPassword(e,o,r){return this.http.post(`${this.API_URL}/auth/reset-password`,{resetToken:e,password:o,email:r}).pipe(Ce(i=>this.handleError(i)))}logout(){this.clearToken(),this.clearCurrentUser(),this.isLoggedIn.set(!1),this.isAuthenticatedSubject.next(!1)}getProfile(){return this.http.get(`${this.API_URL}/users/profile`).pipe(Fe(e=>{this.saveCurrentUser(e.user)}),Ce(e=>this.handleError(e)))}updateProfile(e){return this.http.put(`${this.API_URL}/users/profile`,e).pipe(Fe(o=>{this.saveCurrentUser(o.user)}),Ce(o=>this.handleError(o)))}getUserById(e){return this.http.get(`${this.API_URL}/users/${e}`).pipe(Ce(o=>this.handleError(o)))}signup(e){return{success:!0,message:"Please use the register() method with proper async handling"}}isAuthenticated(){return this.hasValidToken()&&!!this.currentUser()}isAdmin(){return"admin"===this.currentUser()?.role||!1}requireLogin(){return!this.isAuthenticated()}getAllUsers(){return[]}getUserByEmail(e){return this.http.post(`${this.API_URL}/users/by-email`,{email:e}).pipe(Ce(o=>this.handleError(o)))}deleteUser(e){return this.http.delete(`${this.API_URL}/users/${e}`).pipe(Ce(o=>this.handleError(o)))}handleError(e){let o="An error occurred";return e instanceof Hr&&(o=e.error instanceof ErrorEvent?e.error.message||"Network error":e.error?.message||e.error?.error||e.statusText||o),console.error("Auth error:",o),ir(()=>new Error(o))}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),fr=(()=>{class t{constructor(){this.http=w(kt),this.analyticsService=w(gr),this.authService=w(Qe),this.apiUrl=`${ot_apiUrl}/cart`,this.cartItems=Mt([]),this.cartCount=Ao(()=>this.cartItems().reduce((e,o)=>e+o.quantity,0)),this.cartTotal=Ao(()=>this.cartItems().reduce((e,o)=>e+(o.product?.price||0)*o.quantity,0)),Ra(()=>{this.authService.currentUser()?this.loadCart():this.cartItems.set([])},{allowSignalWrites:!0})}getCartItems(){return this.cartItems()}loadCart(){this.http.get(this.apiUrl).subscribe({next:e=>{if(e.success&&e.data&&e.data.items){const o=e.data.items.map(r=>({product:{id:r.product_id,name:r.name,image:r.image,price:parseFloat(r.current_price||r.price),category:r.category,description:"",inStock:r.in_stock,brand:r.brand},quantity:r.quantity}));this.cartItems.set(o)}},error:e=>console.error("Error loading cart",e)})}addToCart(e,o=1){const r=this.cartItems();r.find(s=>s.product.id===e.id)?this.cartItems.set(r.map(s=>s.product.id===e.id?{...s,quantity:s.quantity+o}:s)):this.cartItems.set([...r,{product:e,quantity:o}]),this.http.post(`${this.apiUrl}/add`,{productId:e.id,quantity:o}).subscribe({next:s=>{s.success&&(this.loadCart(),this.trackCartActivity("cart"))},error:s=>{console.error("Add to cart failed",s),this.loadCart()}})}removeFromCart(e){this.cartItems.set(this.cartItems().filter(o=>o.product.id!==e)),this.http.delete(`${this.apiUrl}/remove/${e}`).subscribe({next:()=>this.loadCart(),error:o=>{console.error("Remove failed",o),this.loadCart()}})}updateQuantity(e,o){o<=0?this.removeFromCart(e):(this.cartItems.set(this.cartItems().map(r=>r.product.id===e?{...r,quantity:o}:r)),this.http.put(`${this.apiUrl}/update/${e}`,{quantity:o}).subscribe({next:()=>this.loadCart(),error:r=>{console.error("Update failed",r),this.loadCart()}}))}clearCart(){this.cartItems.set([]),this.http.delete(`${this.apiUrl}/clear`).subscribe()}checkout(){this.trackCartActivity("order"),this.clearCart()}trackCartActivity(e){const o=this.authService.currentUser();o&&this.analyticsService.trackTransaction({userId:o.id||"",userName:o.firstName||o.name||"",type:e,items:this.cartCount(),amount:this.cartTotal()})}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),fs=(()=>{class t{constructor(){this.http=w(kt),this.apiUrl=`${ot_apiUrl}/quotes`,this.quoteItems=Mt([]),this.sidebarOpen=Mt(!1),this.analyticsService=w(gr),this.authService=w(Qe),this.quoteCount=Ao(()=>this.quoteItems().reduce((o,r)=>o+r.quantity,0)),Ra(()=>{const o=this.quoteItems();localStorage.setItem("quoteItems",JSON.stringify(o))});const e=localStorage.getItem("quoteItems");if(e)try{this.quoteItems.set(JSON.parse(e))}catch(o){console.error("Error parsing quote items",o)}}getQuoteItems(){return this.quoteItems()}addToQuote(e,o=1){const r=this.quoteItems(),i=r.find(l=>l.product.id===e.id);i?this.updateQuantity(e.id,i.quantity+o):this.quoteItems.set([...r,{product:e,quantity:o}]);const s=this.authService.currentUser();if(s){const l=this.quoteItems().reduce((u,g)=>u+g.product.price*g.quantity,0);this.analyticsService.trackTransaction({userId:s?.id||"",userName:s?.firstName||s?.name||"",type:"quote",items:this.quoteCount(),amount:l})}this.openSidebar()}openSidebar(){this.sidebarOpen.set(!0)}closeSidebar(){this.sidebarOpen.set(!1)}removeFromQuote(e){this.quoteItems.set(this.quoteItems().filter(o=>o.product.id!==e))}updateQuantity(e,o){o<=0?this.removeFromQuote(e):this.quoteItems.set(this.quoteItems().map(r=>r.product.id===e?{...r,quantity:o}:r))}clearQuote(){this.quoteItems.set([])}submitQuote(e){const o=this.quoteItems().map(r=>({productId:r.product.id,quantity:r.quantity,notes:""}));return this.http.post(`${this.apiUrl}/create`,{items:o,contactInfo:e})}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),mc=(()=>{class t{constructor(){this.http=w(kt),this.authService=w(Qe),this.apiUrl=`${ot_apiUrl}/wishlist`,this.wishlistItems=Mt([]),Ra(()=>{this.authService.currentUser()?this.loadWishlist():this.wishlistItems.set([])},{allowSignalWrites:!0})}getWishlistItems(){return this.wishlistItems()}loadWishlist(){this.http.get(this.apiUrl).subscribe({next:e=>{if(e.success&&Array.isArray(e.data.items)){const o=e.data.items.map(r=>({id:r.product_id,name:r.name,image:r.image,price:parseFloat(r.price),category:r.category,brand:r.brand,inStock:r.in_stock,description:r.description}));this.wishlistItems.set(o)}},error:e=>console.error("Error loading wishlist",e)})}addToWishlist(e){const o=this.wishlistItems();o.find(r=>r.id===e.id)||(this.wishlistItems.set([...o,e]),this.http.post(`${this.apiUrl}/add`,{productId:e.id}).subscribe({next:r=>{r.success||this.loadWishlist()},error:r=>{console.error("Add to wishlist failed",r),this.loadWishlist()}}))}removeFromWishlist(e){this.wishlistItems.set(this.wishlistItems().filter(o=>o.id!==e)),this.http.delete(`${this.apiUrl}/${e}`).subscribe({error:o=>{console.error("Remove wishlist failed",o),this.loadWishlist()}})}isInWishlist(e){return this.wishlistItems().some(o=>o.id===e)}getWishlistCount(){return this.wishlistItems().length}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function $2(t,n){const e="object"==typeof n;return new Promise((o,r)=>{const i=new Gr({next:s=>{o(s),i.unsubscribe()},error:r,complete:()=>{e?o(n.defaultValue):r(new $a)}});t.subscribe(i)})}let _U=(()=>{class t{constructor(e){this.http=e,this.apiBaseUrl="/api"}sendWhatsAppMessage(e){var o=this;return xe(function*(){try{const r=new At({"Content-Type":"application/json"});return yield $2(o.http.post(`${o.apiBaseUrl}/whatsapp/send`,e,{headers:r}))}catch(r){return console.error("Failed to send WhatsApp message:",r),{success:!1,error:r.message,message:"Failed to send WhatsApp message via API"}}})()}sendOrderConfirmation(e,o,r,i,s){var l=this;return xe(function*(){return l.sendWhatsAppMessage({phoneNumber:e,message:o,imageUrl:s,orderId:r,customerName:i,messageType:"order_confirmation"})})()}sendMessageWithImage(e,o,r){var i=this;return xe(function*(s,l,u,g="image"){return i.sendWhatsAppMessage({phoneNumber:s,message:l,imageUrl:u,mediaType:g,messageType:"general"})}).apply(this,arguments)}sendOrderConfirmationWithInvoice(e,o,r,i,s){var l=this;return xe(function*(){return l.sendWhatsAppMessage({phoneNumber:e,message:o,imageUrl:r,mediaType:"document",orderId:i,customerName:s,messageType:"order_confirmation"})})()}sendOrderUpdate(e,o,r){var i=this;return xe(function*(){return i.sendWhatsAppMessage({phoneNumber:e,message:o,orderId:r,messageType:"order_update"})})()}sendInquiryResponse(e,o){var r=this;return xe(function*(){return r.sendWhatsAppMessage({phoneNumber:e,message:o,messageType:"inquiry_response"})})()}sendGeneralMessage(e,o){var r=this;return xe(function*(){return r.sendWhatsAppMessage({phoneNumber:e,message:o,messageType:"general"})})()}getMessageStatus(e){var o=this;return xe(function*(){try{return yield $2(o.http.get(`${o.apiBaseUrl}/whatsapp/status/${e}`))}catch(r){return console.error("Failed to get message status:",r),null}})()}validatePhoneNumber(e){return/^91\d{10}$/.test(e)}formatPhoneNumber(e){const o=e.replace(/\D/g,"");return o.startsWith("91")?o:10===o.length?"91"+o:(12===o.length&&o.startsWith("91"),o)}static{this.\u0275fac=function(o){return new(o||t)(W(kt))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),bU=(()=>{class t{getOrderConfirmationTemplate(e){const o=e.items.map(i=>`  \u2713 ${i.productName}\n    Qty: ${i.quantity} \xd7 \u20b9${i.price.toLocaleString("en-IN")}`).join("\n\n");return{messageText:`\u2705 *Order Confirmed Successfully!*\n\n${this.getOrderDivider()}\n\n\u{1f4cb} *Order Details*\nOrder ID: *${e.orderId}*\nDate: ${new Date(e.orderedAt).toLocaleDateString("en-IN",{weekday:"short",year:"numeric",month:"short",day:"numeric"})}\n\n${this.getOrderDivider()}\n\n\u{1f4e6} *Your Items*\n${o}\n\n${this.getOrderDivider()}\n\n\u{1f4b0} *Price Breakdown*\nSubtotal ............. \u20b9${e.pricing.subtotal.toLocaleString("en-IN")}\nShipping ............. ${0===e.pricing.shipping?"FREE \u{1f381}":"\u20b9"+e.pricing.shipping.toLocaleString("en-IN")}\nTax (18% GST) ......... \u20b9${e.pricing.tax.toLocaleString("en-IN")}\n${"\u2501".repeat(35)}\n*Total Amount* ........ *\u20b9${e.pricing.total.toLocaleString("en-IN")}*\n\n${this.getOrderDivider()}\n\n\u{1f3e0} *Delivery Address*\n${e.customer.firstName} ${e.customer.lastName}\n${e.deliveryAddress.street}\n${e.deliveryAddress.city}, ${e.deliveryAddress.state}\n\u{1f4cd} PIN: ${e.deliveryAddress.pincode}\n\n${this.getOrderDivider()}\n\n\u23f1\ufe0f  *Estimated Delivery*\n3-5 Business Days\n\n${this.getOrderDivider()}\n\n\u{1f4de} *Need Help?*\n\u{1f4e7} Email: support@vspelectronics.com\n\u{1f4ac} WhatsApp: https://wa.me/919951130198\n\n*Thank you for shopping with VSP Electronics!* \u{1f64f}`,imageUrl:this.getOrderConfirmationBanner()}}getCompactOrderTemplate(e){return{messageText:`\u2705 *Order Placed Successfully!*\n\n*Order ID:* ${e.orderId}\n*Amount:* \u20b9${e.pricing.total.toLocaleString("en-IN")}\n*Delivery:* 3-5 Days\n\n${e.deliveryAddress.city}, ${e.deliveryAddress.state} ${e.deliveryAddress.pincode}\n\nTrack your order & get updates.\nTap the link below:\nhttps://vspelectronics.com/order/${e.orderId}`,imageUrl:this.getOrderConfirmationBanner()}}getPremiumOrderTemplate(e){const o=e.items.map(i=>{const s=(i.quantity*i.price).toLocaleString("en-IN");return`${i.productName}\n      Quantity: ${i.quantity}\n      Price: \u20b9${i.price.toLocaleString("en-IN")} \xd7 ${i.quantity}\n      Subtotal: \u20b9${s}`}).join("\n\n");return{messageText:`\u{1f389} *Your Order is Confirmed!*\n\n${this.getPremiumDivider()}\nORDER DETAILS\n${this.getPremiumDivider()}\n\n*Order Number:* ${e.orderId}\n*Order Date:* ${new Date(e.orderedAt).toLocaleDateString("en-IN")}\n*Payment Method:* ${this.getPaymentMethodLabel(e.paymentMethod)}\n*Order Status:* \u{1f7e2} Confirmed & Processing\n\n${this.getPremiumDivider()}\nITEMS ORDERED (${e.items.length})\n${this.getPremiumDivider()}\n\n${o}\n\n${this.getPremiumDivider()}\nORDER SUMMARY\n${this.getPremiumDivider()}\n\nSubtotal ................. \u20b9${e.pricing.subtotal.toLocaleString("en-IN")}\nShipping Cost ............ ${0===e.pricing.shipping?"\u{1f193} FREE":"\u20b9"+e.pricing.shipping.toLocaleString("en-IN")}\nGST & Taxes .............. \u20b9${e.pricing.tax.toLocaleString("en-IN")}\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n*TOTAL AMOUNT* ........... *\u20b9${e.pricing.total.toLocaleString("en-IN")}*\n\n${this.getPremiumDivider()}\nDELIVERY DETAILS\n${this.getPremiumDivider()}\n\n*Recipient:* ${e.customer.firstName} ${e.customer.lastName}\n*Phone:* ${e.customer.phone}\n\n*Delivery Address:*\n${e.deliveryAddress.street}\n${e.deliveryAddress.city}, ${e.deliveryAddress.state}\nPincode: ${e.deliveryAddress.pincode}\n\n${this.getPremiumDivider()}\nWHAT'S NEXT?\n${this.getPremiumDivider()}\n\n\u{1f4cd} *Step 1:* Your order is being processed\n\u{1f4e6} *Step 2:* We'll pack your items with care\n\u{1f69a} *Step 3:* Delivery within 3-5 business days\n\u2705 *Step 4:* Order delivered & verified\n\n${this.getPremiumDivider()}\n\n\u{1f4de} *Questions?*\n\u{1f4e7} Email us: support@vspelectronics.com\n\u{1f4ac} Chat with us: https://wa.me/919951130198?text=I%20have%20question%20about%20my%20order\n\n*Thank you for choosing VSP Electronics!*\nWe appreciate your business! \u{1f64f}`,imageUrl:this.getOrderConfirmationBanner()}}getMinimalOrderTemplate(e){return{messageText:`\u2705 Order Confirmed!\n\nOrder ID: ${e.orderId}\nAmount: \u20b9${e.pricing.total.toLocaleString("en-IN")}\nDelivery: ${e.deliveryAddress.city}\nEstimated Delivery: 3-5 days\n\nThank you for shopping with us!`,imageUrl:this.getOrderConfirmationBanner()}}getOrderDeliveryTemplate(e){return{messageText:`\u{1f389} *Your Order is On The Way!*\n\n*Order ID:* ${e.orderId}\n\n\u{1f4e6} *Items:*\n${e.items.map(r=>`\u2713 ${r.productName}`).join("\n")}\n\n\u{1f69a} *Status:* Out for Delivery\n\n\u{1f4cd} *Delivery To:*\n${e.deliveryAddress.street}\n${e.deliveryAddress.city}, ${e.deliveryAddress.state} ${e.deliveryAddress.pincode}\n\n\u23f0 *Expected Delivery:* Today\n\nThanks for choosing VSP Electronics! \u{1f64f}`}}getOrderDeliveredTemplate(e){return{messageText:`\u2705 *Order Delivered Successfully!*\n\n*Order ID:* ${e.orderId}\n*Delivered To:* ${e.deliveryAddress.city}\n\nThank you for shopping with VSP Electronics!\nYour satisfaction is our priority.\n\nHave any feedback? We'd love to hear from you! \u{1f60a}\n\n\u{1f4e7} support@vspelectronics.com`}}getPreDeliveryTemplate(e){return{messageText:`\u{1f4e6} *Your Package is Coming Tomorrow!*\n\n*Order ID:* ${e.orderId}\n\nWe're excited to deliver your order tomorrow!\n\n\u{1f4cd} *Delivery Location:*\n${e.deliveryAddress.city}, ${e.deliveryAddress.state}\n\n\u23f0 *Delivery Window:* 9 AM - 5 PM\n\nPlease ensure someone is available to receive the package.\n\nQuestions? Contact us: https://wa.me/919951130198`}}getDetailedOrderTemplate(e){return{messageText:`\u{1f6cd}\ufe0f *Your Order Confirmed!*\n\n${this.getOrderDivider()}\n\n*Order ID:* ${e.orderId}\n*Order Date:* ${new Date(e.orderedAt).toLocaleDateString("en-IN")}\n*Status:* \u2705 Confirmed\n\n${this.getOrderDivider()}\n\n\u{1f4e6} *Items Ordered (${e.items.length})*\n\n${e.items.map((r,i)=>`\n${i+1}. ${r.productName}\n   SKU: ${r.productId||"N/A"}\n   Qty: ${r.quantity}\n   Price: \u20b9${r.price.toLocaleString("en-IN")}\n   Subtotal: \u20b9${(r.quantity*r.price).toLocaleString("en-IN")}\n`).join("\n")}\n\n${this.getOrderDivider()}\n\n\u{1f4b3} *Bill Summary*\n\nSubtotal ............... \u20b9${e.pricing.subtotal.toLocaleString("en-IN")}\nShipping ............... ${0===e.pricing.shipping?"FREE":"\u20b9"+e.pricing.shipping.toLocaleString("en-IN")}\nTax (18%) .............. \u20b9${e.pricing.tax.toLocaleString("en-IN")}\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n*Total Amount* ......... *\u20b9${e.pricing.total.toLocaleString("en-IN")}*\n\n${this.getOrderDivider()}\n\n\u{1f69a} *Shipping & Delivery*\n\nFrom: VSP Electronics\nTo: ${e.customer.firstName} ${e.customer.lastName}\nAddress: ${e.deliveryAddress.street}, ${e.deliveryAddress.city}\nPincode: ${e.deliveryAddress.pincode}\n\nEstimated Delivery: 3-5 Business Days\n\n${this.getOrderDivider()}\n\n\u2728 *What's Next?*\n\n1. Your order is being packed\n2. We'll send tracking details soon\n3. Package will arrive in 3-5 days\n4. You'll receive SMS/WhatsApp updates\n\n${this.getOrderDivider()}\n\n\u{1f4ac} *Get Support*\n\u{1f4e7} Email: support@vspelectronics.com\n\u260e\ufe0f WhatsApp: https://wa.me/919951130198\n\u{1f310} Website: https://vspelectronics.com\n\nThank you for shopping with VSP Electronics! \u{1f381}`,imageUrl:this.getOrderConfirmationBanner()}}getOrderConfirmationBanner(){return"https://via.placeholder.com/500x250/8B6F47/FFFFFF?text=Order+Confirmed"}getOrderDivider(){return"\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501"}getPremiumDivider(){return"\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557"}getPaymentMethodLabel(e){return{cod:"Cash on Delivery",upi:"UPI Payment",debit:"Debit Card",credit:"Credit Card",netbanking:"Net Banking",wallet:"Digital Wallet"}[e]||e.toUpperCase()}generateInvoiceImage(e){return Promise.resolve(new Blob)}getTemplateByName(e,o){return{professional:i=>this.getOrderConfirmationTemplate(i),compact:i=>this.getCompactOrderTemplate(i),premium:i=>this.getPremiumOrderTemplate(i),minimal:i=>this.getMinimalOrderTemplate(i),detailed:i=>this.getDetailedOrderTemplate(i),delivery:i=>this.getOrderDeliveryTemplate(i),delivered:i=>this.getOrderDeliveredTemplate(i),"pre-delivery":i=>this.getPreDeliveryTemplate(i)}[e]?.(o)||this.getOrderConfirmationTemplate(o)}getAllTemplateNames(){return["professional","compact","premium","minimal","detailed","delivery","delivered","pre-delivery"]}formatCurrency(e){return"\u20b9"+e.toLocaleString("en-IN",{minimumFractionDigits:0,maximumFractionDigits:2})}formatDateForWhatsApp(e){return("string"==typeof e?new Date(e):e).toLocaleDateString("en-IN",{weekday:"short",year:"numeric",month:"short",day:"numeric"})}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),du=(()=>{class t{constructor(){this.whatsappApiService=w(_U),this.templateService=w(bU)}sendPasswordResetEmail(e,o,r){var i=this;return xe(function*(){try{if(typeof Email>"u")return console.error("SMTP.js not loaded"),{success:!1,message:"Email service not available. Please ensure SMTP.js is loaded."};const s=yield Email.send({SecureToken:"YOUR_SMTP_TOKEN",To:e,From:"noreply@vspelectronics.com",Subject:"Password Reset Code - VSP Electronics",Body:i.getEmailTemplate(o,r)});return"OK"===s?{success:!0,message:"Password reset code sent to your email"}:(console.error("Email send failed:",s),{success:!1,message:"Failed to send email. Please try again."})}catch(s){return console.error("Email error:",s),{success:!1,message:"Failed to send email. Please try again."}}})()}getEmailTemplate(e,o){return`\n      <!DOCTYPE html>\n      <html>\n      <head>\n        <style>\n          body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }\n          .container { max-width: 600px; margin: 0 auto; padding: 20px; }\n          .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px; text-align: center; border-radius: 10px 10px 0 0; }\n          .content { background: #f9f9f9; padding: 30px; border-radius: 0 0 10px 10px; }\n          .code-box { background: white; border: 2px dashed #667eea; padding: 20px; margin: 20px 0; text-align: center; border-radius: 5px; }\n          .code { font-size: 32px; font-weight: bold; color: #667eea; letter-spacing: 5px; }\n          .warning { background: #fff3cd; border-left: 4px solid #ffc107; padding: 12px; margin: 20px 0; }\n          .footer { text-align: center; color: #777; font-size: 12px; margin-top: 20px; }\n        </style>\n      </head>\n      <body>\n        <div class="container">\n          <div class="header">\n            <h1>\u{1f510} Password Reset Request</h1>\n          </div>\n          <div class="content">\n            <p>Hello ${o},</p>\n            <p>We received a request to reset your password for your VSP Electronics account.</p>\n            \n            <div class="code-box">\n              <p style="margin: 0 0 10px 0; color: #666;">Your password reset code is:</p>\n              <div class="code">${e}</div>\n            </div>\n\n            <div class="warning">\n              <strong>\u26a0\ufe0f Important:</strong>\n              <ul style="margin: 10px 0; padding-left: 20px;">\n                <li>This code will expire in <strong>30 minutes</strong></li>\n                <li>Do not share this code with anyone</li>\n                <li>If you didn't request this, please ignore this email</li>\n              </ul>\n            </div>\n\n            <p>Enter this code on the password reset page to create a new password.</p>\n            \n            <p style="margin-top: 30px;">Best regards,<br><strong>VSP Electronics Team</strong></p>\n          </div>\n          <div class="footer">\n            <p>This is an automated message, please do not reply to this email.</p>\n            <p>&copy; 2025 VSP Electronics. All rights reserved.</p>\n          </div>\n        </div>\n      </body>\n      </html>\n    `}sendPasswordResetEmailTest(e,o,r){return console.log("=".repeat(60)),console.log("\u{1f4e7} PASSWORD RESET EMAIL"),console.log("=".repeat(60)),console.log(`To: ${e}`),console.log(`Name: ${r}`),console.log(`Reset Code: ${o}`),console.log("Expires: 30 minutes from now"),console.log("=".repeat(60)),{success:!0,message:"Reset code sent! Check console for code (Testing mode)"}}sendQuoteRequest(e){var o=this;return xe(function*(){try{return console.log("=".repeat(80)),console.log("\u{1f4cb} QUOTE REQUEST SUBMISSION"),console.log("=".repeat(80)),console.log("Customer Information:"),console.log(`  Name: ${e.customer.firstName} ${e.customer.lastName}`),console.log(`  Email: ${e.customer.email}`),console.log(`  Phone: ${e.customer.phone}`),console.log(`  Company: ${e.customer.company||"N/A"}`),console.log(""),console.log("Billing Address:"),console.log(`  ${e.billingAddress.street}, ${e.billingAddress.city}`),console.log(`  ${e.billingAddress.state} - ${e.billingAddress.pincode}`),console.log(""),console.log("Items Requested:"),e.items.forEach((r,i)=>{console.log(`  ${i+1}. ${r.productName} - Qty: ${r.quantity}, Price: \u20b9${r.price}, Total: \u20b9${r.total}`)}),console.log(""),console.log(`Total Amount: \u20b9${e.totalAmount}`),console.log(`Submitted At: ${new Date(e.submittedAt).toLocaleString()}`),e.notes&&console.log(`Notes: ${e.notes}`),console.log("=".repeat(80)),typeof Email<"u"&&"OK"===(yield Email.send({SecureToken:"YOUR_SMTP_TOKEN",To:e.customer.email,From:"noreply@vspelectronics.com",Subject:`Quote Request Confirmation - ${e.items.length} Items`,Body:o.getQuoteRequestEmailTemplate(e)}))?{success:!0,message:"Quote request submitted successfully"}:{success:!0,message:"Quote request submitted successfully (Check console)"}}catch(r){return console.error("Quote request error:",r),{success:!1,message:"Failed to submit quote request. Please try again."}}})()}getQuoteRequestEmailTemplate(e){const o=e.items.map(r=>`\n      <tr>\n        <td>${r.productName}</td>\n        <td>${r.quantity}</td>\n        <td>\u20b9${r.price}</td>\n        <td>\u20b9${r.total}</td>\n      </tr>\n    `).join("");return`\n      <!DOCTYPE html>\n      <html>\n      <head>\n        <style>\n          body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }\n          .container { max-width: 600px; margin: 0 auto; padding: 20px; }\n          .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px; text-align: center; border-radius: 10px 10px 0 0; }\n          .content { background: #f9f9f9; padding: 30px; border-radius: 0 0 10px 10px; }\n          table { width: 100%; border-collapse: collapse; margin: 20px 0; }\n          th, td { padding: 12px; text-align: left; border-bottom: 1px solid #ddd; }\n          th { background: #667eea; color: white; }\n          .total-row { background: #e8f0fe; font-weight: bold; }\n          .footer { text-align: center; color: #777; font-size: 12px; margin-top: 20px; }\n        </style>\n      </head>\n      <body>\n        <div class="container">\n          <div class="header">\n            <h1>\u2705 Quote Request Received</h1>\n          </div>\n          <div class="content">\n            <p>Hello ${e.customer.firstName} ${e.customer.lastName},</p>\n            <p>Thank you for submitting your quote request to VSP Electronics. We have received your request and will review it shortly.</p>\n            \n            <h3>Quote Details:</h3>\n            <table>\n              <thead>\n                <tr>\n                  <th>Product Name</th>\n                  <th>Quantity</th>\n                  <th>Unit Price</th>\n                  <th>Total</th>\n                </tr>\n              </thead>\n              <tbody>\n                ${o}\n                <tr class="total-row">\n                  <td colspan="3">Total Amount:</td>\n                  <td>\u20b9${e.totalAmount}</td>\n                </tr>\n              </tbody>\n            </table>\n\n            <h3>Delivery Address:</h3>\n            <p>\n              ${e.deliveryAddress.street}<br>\n              ${e.deliveryAddress.city}, ${e.deliveryAddress.state} - ${e.deliveryAddress.pincode}<br>\n              ${e.deliveryAddress.country}\n            </p>\n\n            <p style="margin-top: 30px; padding-top: 20px; border-top: 1px solid #ddd;">\n              Our team will contact you within 24 hours with pricing details and availability information.<br><br>\n              Thank you for choosing VSP Electronics!<br><br>\n              <strong>VSP Electronics Team</strong>\n            </p>\n          </div>\n          <div class="footer">\n            <p>This is an automated message, please do not reply to this email.</p>\n            <p>&copy; 2025 VSP Electronics. All rights reserved.</p>\n          </div>\n        </div>\n      </body>\n      </html>\n    `}sendOrderConfirmation(e){var o=this;return xe(function*(){try{return console.log("=".repeat(80)),console.log("\u{1f4e6} ORDER CONFIRMATION"),console.log("=".repeat(80)),console.log(`Order ID: ${e.orderId}`),console.log(""),console.log("Customer Information:"),console.log(`  Name: ${e.customer.firstName} ${e.customer.lastName}`),console.log(`  Email: ${e.customer.email}`),console.log(`  Phone: ${e.customer.phone}`),console.log(""),console.log("Delivery Address:"),console.log(`  ${e.deliveryAddress.street}, ${e.deliveryAddress.city}`),console.log(`  ${e.deliveryAddress.state} - ${e.deliveryAddress.pincode}`),console.log(""),console.log("Items Ordered:"),e.items.forEach((r,i)=>{console.log(`  ${i+1}. ${r.productName} - Qty: ${r.quantity}, Price: \u20b9${r.price}, Total: \u20b9${r.total}`)}),console.log(""),console.log("Price Summary:"),console.log(`  Subtotal: \u20b9${e.pricing.subtotal}`),console.log(`  Shipping: \u20b9${e.pricing.shipping}`),console.log(`  Tax (18% GST): \u20b9${e.pricing.tax}`),console.log(`  Total: \u20b9${e.pricing.total}`),console.log(`  Payment Method: ${e.paymentMethod.toUpperCase()}`),console.log(`  Ordered At: ${new Date(e.orderedAt).toLocaleString()}`),e.notes&&console.log(`  Notes: ${e.notes}`),console.log("=".repeat(80)),typeof Email<"u"&&"OK"===(yield Email.send({SecureToken:"YOUR_SMTP_TOKEN",To:e.customer.email,From:"noreply@vspelectronics.com",Subject:`Order Confirmation - ${e.orderId}`,Body:o.getOrderConfirmationEmailTemplate(e)}))?{success:!0,message:"Order confirmation sent successfully"}:{success:!0,message:"Order confirmation sent successfully (Check console)"}}catch(r){return console.error("Order confirmation error:",r),{success:!1,message:"Failed to send order confirmation. Please contact support."}}})()}getOrderConfirmationEmailTemplate(e){const o=e.items.map(r=>`\n      <tr>\n        <td>${r.productName}</td>\n        <td>${r.quantity}</td>\n        <td>\u20b9${r.price}</td>\n        <td>\u20b9${r.total}</td>\n      </tr>\n    `).join("");return`\n      <!DOCTYPE html>\n      <html>\n      <head>\n        <style>\n          body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }\n          .container { max-width: 600px; margin: 0 auto; padding: 20px; }\n          .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px; text-align: center; border-radius: 10px 10px 0 0; }\n          .content { background: #f9f9f9; padding: 30px; border-radius: 0 0 10px 10px; }\n          table { width: 100%; border-collapse: collapse; margin: 20px 0; }\n          th, td { padding: 12px; text-align: left; border-bottom: 1px solid #ddd; }\n          th { background: #667eea; color: white; }\n          .total-row { background: #e8f0fe; font-weight: bold; }\n          .section { margin: 25px 0; padding: 15px; background: white; border-radius: 6px; }\n          .footer { text-align: center; color: #777; font-size: 12px; margin-top: 20px; }\n        </style>\n      </head>\n      <body>\n        <div class="container">\n          <div class="header">\n            <h1>\u2705 Order Confirmed</h1>\n            <p>Order ID: <strong>${e.orderId}</strong></p>\n          </div>\n          <div class="content">\n            <p>Hello ${e.customer.firstName} ${e.customer.lastName},</p>\n            <p>Thank you for your order! We've received it and will process it shortly. Here are your order details:</p>\n            \n            <h3>Order Items:</h3>\n            <table>\n              <thead>\n                <tr>\n                  <th>Product Name</th>\n                  <th>Quantity</th>\n                  <th>Unit Price</th>\n                  <th>Total</th>\n                </tr>\n              </thead>\n              <tbody>\n                ${o}\n                <tr class="total-row">\n                  <td colspan="2">Subtotal:</td>\n                  <td></td>\n                  <td>\u20b9${e.pricing.subtotal}</td>\n                </tr>\n                <tr>\n                  <td colspan="2">Shipping:</td>\n                  <td></td>\n                  <td>${0===e.pricing.shipping?"FREE":"\u20b9"+e.pricing.shipping}</td>\n                </tr>\n                <tr>\n                  <td colspan="2">Tax (18% GST):</td>\n                  <td></td>\n                  <td>\u20b9${e.pricing.tax}</td>\n                </tr>\n                <tr class="total-row">\n                  <td colspan="2">Order Total:</td>\n                  <td></td>\n                  <td>\u20b9${e.pricing.total}</td>\n                </tr>\n              </tbody>\n            </table>\n\n            <div class="section">\n              <h3>Delivery Address:</h3>\n              <p>\n                ${e.deliveryAddress.street}<br>\n                ${e.deliveryAddress.city}, ${e.deliveryAddress.state} - ${e.deliveryAddress.pincode}<br>\n                ${e.deliveryAddress.country}\n              </p>\n            </div>\n\n            <div class="section">\n              <h3>What's Next?</h3>\n              <ul>\n                <li>Your order will be processed and prepared for shipment</li>\n                <li>You'll receive a shipping notification with tracking number</li>\n                <li>Expected delivery: 3-5 business days</li>\n                <li>Track your order using the tracking number provided</li>\n              </ul>\n            </div>\n\n            <div class="section">\n              <h3>Payment Method:</h3>\n              <p><strong>${this.getPaymentMethodLabel(e.paymentMethod)}</strong></p>\n            </div>\n\n            <p style="margin-top: 30px; padding-top: 20px; border-top: 1px solid #ddd;">\n              If you have any questions about your order, please don't hesitate to contact our customer support team.<br><br>\n              Thank you for shopping with VSP Electronics!<br><br>\n              <strong>VSP Electronics Team</strong>\n            </p>\n          </div>\n          <div class="footer">\n            <p>This is an automated message, please do not reply to this email.</p>\n            <p>&copy; 2025 VSP Electronics. All rights reserved.</p>\n          </div>\n        </div>\n      </body>\n      </html>\n    `}getPaymentMethodLabel(e){return{cod:"Cash on Delivery",debit:"Debit Card",credit:"Credit Card",upi:"UPI Payment",netbanking:"Net Banking"}[e]||e.toUpperCase()}sendOrderConfirmationWhatsApp(e){var o=this;return xe(function*(r,i="premium"){try{console.log("=".repeat(80)),console.log("\u{1f4ac} WHATSAPP ORDER NOTIFICATION"),console.log("=".repeat(80)),console.log(`Order ID: ${r.orderId}`),console.log(`Customer Phone: +91${r.customer.phone}`),console.log(`Template: ${i}`),console.log("");const s=o.templateService.getTemplateByName(i,r);console.log("WhatsApp Message:"),console.log(s.messageText),s.imageUrl&&console.log(`Image URL: ${s.imageUrl}`),console.log(""),console.log("=".repeat(80));const l=o.whatsappApiService.formatPhoneNumber(r.customer.phone);if(!o.whatsappApiService.validatePhoneNumber(l))return console.warn(`Invalid phone number format: ${l}`),{success:!1,message:`Invalid phone number format: ${l}`};const u=s.imageUrl?yield o.whatsappApiService.sendOrderConfirmationWithInvoice(l,s.messageText,s.imageUrl,r.orderId,`${r.customer.firstName} ${r.customer.lastName}`):yield o.whatsappApiService.sendOrderConfirmation(l,s.messageText,r.orderId,`${r.customer.firstName} ${r.customer.lastName}`,s.imageUrl);return u.success?(console.log(`\u2705 WhatsApp message sent to: +${l}`),{success:!0,message:`Order confirmation sent via WhatsApp to +91${r.customer.phone}`}):(console.warn(`\u26a0\ufe0f WhatsApp send failed: ${u.error}`),{success:!1,message:u.message||"Failed to send WhatsApp notification"})}catch(s){return console.error("WhatsApp notification error:",s),{success:!1,message:"Failed to send WhatsApp notification. Please contact support."}}}).apply(this,arguments)}getAvailableWhatsAppTemplates(){return this.templateService.getAllTemplateNames()}getWhatsAppOrderMessage(e){const o=e.items.map(r=>`\u2022 ${r.productName} (Qty: ${r.quantity}) - \u20b9${r.total}`).join("\n");return`\u{1f389} *Order Confirmed!*\n\nOrder ID: ${e.orderId}\nOrder Date: ${new Date(e.orderedAt).toLocaleDateString("en-IN")}\n\n\u{1f4e6} *Items Ordered:*\n${o}\n\n\u{1f4b0} *Price Breakdown:*\nSubtotal: \u20b9${e.pricing.subtotal}\nShipping: ${0===e.pricing.shipping?"FREE":"\u20b9"+e.pricing.shipping}\nTax (18% GST): \u20b9${e.pricing.tax}\n*Total Amount: \u20b9${e.pricing.total}*\n\n\u{1f3e0} *Delivery Address:*\n${e.customer.firstName} ${e.customer.lastName}\n${e.deliveryAddress.street}\n${e.deliveryAddress.city}, ${e.deliveryAddress.state} - ${e.deliveryAddress.pincode}\n\n\u{1f4de} *Customer Support:*\nFor queries, contact us at support@vspelectronics.com\nPhone: +91-XXX-XXX-XXXX\n\n\u23f1\ufe0f *Expected Delivery:* 3-5 business days\n\nThank you for shopping with VSP Electronics! \u{1f64f}`}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),yU=(()=>{class t{isGmailConfigured(){return!1}sendVerificationEmail(e,o,r,i){var s=this;return xe(function*(){try{if(typeof Email>"u")return console.warn("SMTP.js not loaded, falling back to console"),s.logEmailToConsole(e,o,r,i);if(!s.isGmailConfigured())return console.warn("Gmail app password not configured, using console for testing"),s.logEmailToConsole(e,o,r,i);const l=s.getEmailTemplate(o,r,i),u=s.getEmailSubject(r),g=yield Email.send({SecureToken:"your-app-password-here",To:e,From:"your-email@gmail.com",FromName:"VSP Electronics",Subject:u,Body:l,Host:"smtp.gmail.com",Port:587,SecureConnection:!1});return"OK"===g?(console.log(`\u2705 Verification email sent to ${e}`),{success:!0,message:`Verification email sent to ${e}`}):(console.error("Gmail send failed:",g),{success:!1,message:"Failed to send verification email. Please try again."})}catch(l){return console.error("Gmail verification error:",l),s.logEmailToConsole(e,o,r,i)}})()}logEmailToConsole(e,o,r,i){return console.log(""),console.log("\u2550".repeat(70)),console.log("\u{1f4e7} VERIFICATION EMAIL (Test Mode)"),console.log("\u2550".repeat(70)),console.log(`Purpose: ${r.toUpperCase().replace("-"," ")}`),console.log(`To: ${e}`),i&&console.log(`Name: ${i}`),console.log(`Verification Code: ${o}`),console.log("Expires: 24 hours from now"),console.log("\u2550".repeat(70)),console.log(""),{success:!0,message:"Verification email sent! (Check console for code in test mode)"}}getEmailSubject(e){return{signup:"\u{1f389} Verify Your Email - VSP Electronics","email-change":"\u{1f512} Confirm Email Change - VSP Electronics","password-reset":"\u{1f510} Reset Your Password - VSP Electronics"}[e]}getEmailTemplate(e,o,r){return`\n<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="UTF-8">\n  <meta name="viewport" content="width=device-width, initial-scale=1.0">\n  <style>\n    * {\n      margin: 0;\n      padding: 0;\n      box-sizing: border-box;\n    }\n    \n    body {\n      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n      line-height: 1.6;\n      color: #333;\n      background-color: #f5f5f5;\n    }\n    \n    .container {\n      max-width: 600px;\n      margin: 20px auto;\n      background: white;\n      border-radius: 12px;\n      overflow: hidden;\n      box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n    }\n    \n    .header {\n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n      color: white;\n      padding: 40px 20px;\n      text-align: center;\n    }\n    \n    .header h1 {\n      font-size: 28px;\n      margin-bottom: 5px;\n      font-weight: 600;\n    }\n    \n    .header p {\n      font-size: 14px;\n      opacity: 0.9;\n    }\n    \n    .content {\n      padding: 40px 30px;\n    }\n    \n    .greeting {\n      margin-bottom: 20px;\n      font-size: 16px;\n    }\n    \n    .greeting strong {\n      color: #667eea;\n    }\n    \n    .message {\n      margin: 20px 0;\n      color: #555;\n      line-height: 1.8;\n      font-size: 15px;\n    }\n    \n    .code-section {\n      margin: 35px 0;\n      text-align: center;\n    }\n    \n    .code-label {\n      color: #777;\n      font-size: 13px;\n      margin-bottom: 12px;\n      text-transform: uppercase;\n      letter-spacing: 1px;\n    }\n    \n    .code-box {\n      background: linear-gradient(135deg, #f5f7fa 0%, #eff2f8 100%);\n      border: 2px dashed #667eea;\n      border-radius: 8px;\n      padding: 25px;\n      margin: 15px 0;\n    }\n    \n    .code {\n      font-size: 36px;\n      font-weight: bold;\n      color: #667eea;\n      letter-spacing: 4px;\n      font-family: 'Courier New', monospace;\n      word-break: break-all;\n    }\n    \n    .warning {\n      background: #fff8e1;\n      border-left: 4px solid #ffc107;\n      padding: 15px;\n      margin: 25px 0;\n      border-radius: 4px;\n      font-size: 14px;\n    }\n    \n    .warning strong {\n      color: #ff9800;\n    }\n    \n    .warning ul {\n      margin: 10px 0 0 20px;\n      padding-left: 0;\n    }\n    \n    .warning li {\n      margin: 5px 0;\n      color: #666;\n    }\n    \n    .instructions {\n      background: #f0f4ff;\n      padding: 15px;\n      border-radius: 6px;\n      margin: 20px 0;\n      font-size: 14px;\n      color: #555;\n      line-height: 1.8;\n    }\n    \n    .button-container {\n      text-align: center;\n      margin: 30px 0;\n    }\n    \n    .cta-button {\n      display: inline-block;\n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n      color: white;\n      padding: 12px 30px;\n      border-radius: 6px;\n      text-decoration: none;\n      font-weight: 600;\n      font-size: 15px;\n      transition: transform 0.2s;\n    }\n    \n    .cta-button:hover {\n      transform: translateY(-2px);\n    }\n    \n    .footer {\n      background: #f9f9f9;\n      padding: 20px;\n      text-align: center;\n      border-top: 1px solid #eee;\n      font-size: 12px;\n      color: #999;\n    }\n    \n    .footer p {\n      margin: 5px 0;\n    }\n    \n    .footer a {\n      color: #667eea;\n      text-decoration: none;\n    }\n    \n    .divider {\n      height: 1px;\n      background: #eee;\n      margin: 30px 0;\n    }\n    \n    .security-note {\n      background: #e8f5e9;\n      border-left: 4px solid #4caf50;\n      padding: 12px;\n      margin: 15px 0;\n      font-size: 13px;\n      color: #2e7d32;\n      border-radius: 4px;\n    }\n  </style>\n</head>\n<body>\n  <div class="container">\n    \x3c!-- Header --\x3e\n    <div class="header">\n      <h1>${{signup:"Email Verification","email-change":"Confirm Email Change","password-reset":"Password Reset"}[o]}</h1>\n      <p>VSP Electronics</p>\n    </div>\n    \n    \x3c!-- Content --\x3e\n    <div class="content">\n      ${r?`<div class="greeting">Hello <strong>${r}</strong>,</div>`:""}\n      \n      <div class="message">\n        ${{signup:"Welcome! Please verify your email address to activate your account.","email-change":"We received a request to change your email address. Please verify by entering this code.","password-reset":"We received a request to reset your password. Please verify by entering this code."}[o]}\n      </div>\n      \n      \x3c!-- Verification Code --\x3e\n      <div class="code-section">\n        <div class="code-label">Your Verification Code</div>\n        <div class="code-box">\n          <div class="code">${e}</div>\n        </div>\n        <p style="color: #777; font-size: 13px;">\n          This code will expire in <strong>24 hours</strong>\n        </p>\n      </div>\n      \n      \x3c!-- Instructions --\x3e\n      <div class="instructions">\n        <strong>How to use this code:</strong><br>\n        1. Go to the verification page<br>\n        2. Enter the code above<br>\n        3. Your account will be verified\n      </div>\n      \n      \x3c!-- Warning --\x3e\n      <div class="warning">\n        <strong>\u26a0\ufe0f Security Notice:</strong>\n        <ul>\n          <li>Never share this code with anyone</li>\n          <li>VSP Electronics staff will never ask for your code</li>\n          <li>If you didn't request this, please ignore</li>\n        </ul>\n      </div>\n      \n      \x3c!-- Security Note --\x3e\n      <div class="security-note">\n        \u{1f512} <strong>Account Security:</strong> This is an automated security email. Do not reply to this message.\n      </div>\n      \n      <div class="divider"></div>\n      \n      <p style="color: #555; font-size: 14px; text-align: center; margin: 20px 0;">\n        If you have any questions, please contact our support team at <br>\n        <a href="mailto:support@vspelectronics.com" style="color: #667eea;">support@vspelectronics.com</a>\n      </p>\n    </div>\n    \n    \x3c!-- Footer --\x3e\n    <div class="footer">\n      <p>&copy; 2025 VSP Electronics. All rights reserved.</p>\n      <p><a href="https://vspelectronics.com">Visit our website</a></p>\n      <p>This is an automated message from VSP Electronics</p>\n    </div>\n  </div>\n</body>\n</html>\n    `}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),H2=(()=>{class t{constructor(){this.EMAIL_TOKENS_KEY="drone_shop_email_verification_tokens",this.TOKEN_EXPIRY_HOURS=24,this.emailService=w(du),this.gmailService=w(yU)}sendVerificationEmail(e,o,r="email_verification",i){try{const s=this.generateToken(),l=Date.now()+60*this.TOKEN_EXPIRY_HOURS*60*1e3,u=this.getTokens();u[s]={token:s,email:e,newEmail:i,expiresAt:l,used:!1,createdAt:Date.now(),purpose:r},localStorage.setItem(this.EMAIL_TOKENS_KEY,JSON.stringify(u));const g=this.sendVerificationEmailNotification(e,s,o,r,i);return{success:g.success,message:g.message||"Verification email sent",token:s}}catch(s){return console.error("Email verification error:",s),{success:!1,message:"Failed to send verification email"}}}verifyEmail(e){try{const o=this.getTokens(),r=o[e];return r?r.used?{success:!1,message:"This link has already been used"}:Date.now()>r.expiresAt?(delete o[e],localStorage.setItem(this.EMAIL_TOKENS_KEY,JSON.stringify(o)),{success:!1,message:"Verification link expired. Request a new one"}):(r.used=!0,o[e]=r,localStorage.setItem(this.EMAIL_TOKENS_KEY,JSON.stringify(o)),console.log("\u2705 Email verified:",r.email),{success:!0,message:"Email verified successfully",email:r.newEmail||r.email}):{success:!1,message:"Invalid verification link"}}catch(o){return console.error("Email verification error:",o),{success:!1,message:"Failed to verify email"}}}verifyEmailWithCode(e,o){try{const r=this.getTokens();let i=null,s=null;for(const[l,u]of Object.entries(r))if(u.email===e&&!u.used&&u.token.endsWith(o)&&Date.now()<=u.expiresAt){i=u,s=l;break}return i&&s?(i.used=!0,r[s]=i,localStorage.setItem(this.EMAIL_TOKENS_KEY,JSON.stringify(r)),console.log("\u2705 Email verified with code:",e),{success:!0,message:"Email verified successfully"}):{success:!1,message:"Invalid verification code"}}catch(r){return console.error("Code verification error:",r),{success:!1,message:"Failed to verify code"}}}isEmailVerified(e){const o=this.getTokens();for(const r of Object.values(o))if((r.email===e||r.newEmail===e)&&r.used&&"email_verification"===r.purpose)return!0;return!1}getVerificationStatus(e){const o=this.getTokens();for(const r of Object.values(o))if(r.email===e&&!r.used)return{status:"pending",expiresIn:Math.max(0,Math.ceil((r.expiresAt-Date.now())/1e3)),purpose:r.purpose};return null}resendVerificationEmail(e,o){const r=this.getTokens();for(const[i,s]of Object.entries(r))s.email===e&&!s.used&&delete r[i];return localStorage.setItem(this.EMAIL_TOKENS_KEY,JSON.stringify(r)),this.sendVerificationEmail(e,o,"email_verification")}cleanupExpiredTokens(){const e=this.getTokens(),o=Date.now();for(const[r,i]of Object.entries(e))o>i.expiresAt&&delete e[r];localStorage.setItem(this.EMAIL_TOKENS_KEY,JSON.stringify(e))}generateToken(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}sendVerificationEmailNotification(e,o,r,i,s){try{const l=o.slice(-6);return window,this.gmailService.sendVerificationEmail(e,l,"email_verification"===i?"signup":"email_change"===i?"email-change":"password-reset",r).then(m=>{console.log("Gmail verification email result:",m)}).catch(m=>{console.error("Gmail verification email error:",m)}),{success:!0,message:"Verification email sent successfully"}}catch(l){return console.error("Email sending error:",l),{success:!1,message:"Failed to send email"}}}getEmailVerificationTemplate(e,o,r){return`\n      <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; background: #f9f9f9;">\n        <div style="background: white; padding: 30px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">\n          <h1 style="color: #667eea; margin: 0 0 20px 0;">Welcome to VSP Electronics! \u{1f389}</h1>\n          \n          <p style="color: #333; font-size: 16px; line-height: 1.6;">\n            Hi ${e},\n          </p>\n          \n          <p style="color: #333; font-size: 16px; line-height: 1.6;">\n            Thank you for creating an account. Please verify your email address to activate your account.\n          </p>\n\n          <div style="margin: 30px 0;">\n            <a href="${r}" style="display: inline-block; background: #667eea; color: white; padding: 12px 30px; text-decoration: none; border-radius: 4px; font-weight: bold;">\n              Verify Email\n            </a>\n          </div>\n\n          <p style="color: #666; font-size: 14px;">Or use this code:</p>\n          <div style="background: #f0f0f0; padding: 15px; border-radius: 4px; text-align: center; margin: 15px 0;">\n            <code style="font-size: 24px; letter-spacing: 3px; color: #667eea; font-weight: bold;">${o}</code>\n          </div>\n\n          <div style="background: #e3f2fd; border-left: 4px solid #2196f3; padding: 15px; margin: 20px 0; border-radius: 4px;">\n            <strong>This link expires in 24 hours</strong>\n            <p style="margin: 10px 0 0 0; color: #666; font-size: 14px;">\n              If you didn't create this account, please ignore this email.\n            </p>\n          </div>\n\n          <p style="color: #999; font-size: 12px; text-align: center; margin-top: 30px; border-top: 1px solid #eee; padding-top: 20px;">\n            \xa9 2025 VSP Electronics. All rights reserved.\n          </p>\n        </div>\n      </div>\n    `}getEmailChangeTemplate(e,o,r,i){return`\n      <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; background: #f9f9f9;">\n        <div style="background: white; padding: 30px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">\n          <h1 style="color: #667eea; margin: 0 0 20px 0;">Email Change Request \u{1f510}</h1>\n          \n          <p style="color: #333; font-size: 16px; line-height: 1.6;">\n            Hi ${e},\n          </p>\n          \n          <p style="color: #333; font-size: 16px; line-height: 1.6;">\n            You recently requested to change the email address associated with your account.\n          </p>\n\n          <div style="background: #f0f0f0; padding: 15px; border-radius: 4px; margin: 20px 0;">\n            <p style="margin: 0; color: #666;">New Email Address:</p>\n            <p style="margin: 5px 0 0 0; color: #333; font-weight: bold;">${i}</p>\n          </div>\n\n          <p style="color: #333; font-size: 16px; line-height: 1.6;">\n            Please verify this new email address by clicking the button below:\n          </p>\n\n          <div style="margin: 30px 0;">\n            <a href="${r}" style="display: inline-block; background: #667eea; color: white; padding: 12px 30px; text-decoration: none; border-radius: 4px; font-weight: bold;">\n              Verify New Email\n            </a>\n          </div>\n\n          <p style="color: #666; font-size: 14px;">Or use this code:</p>\n          <div style="background: #f0f0f0; padding: 15px; border-radius: 4px; text-align: center; margin: 15px 0;">\n            <code style="font-size: 24px; letter-spacing: 3px; color: #667eea; font-weight: bold;">${o}</code>\n          </div>\n\n          <div style="background: #fff3cd; border-left: 4px solid #ffc107; padding: 15px; margin: 20px 0; border-radius: 4px;">\n            <strong>\u26a0\ufe0f Important:</strong>\n            <ul style="margin: 10px 0 0 0; padding-left: 20px; color: #666; font-size: 14px;">\n              <li>This link expires in 24 hours</li>\n              <li>Your account email will be updated once verified</li>\n              <li>If you didn't make this request, you can safely ignore this email</li>\n            </ul>\n          </div>\n\n          <p style="color: #999; font-size: 12px; text-align: center; margin-top: 30px; border-top: 1px solid #eee; padding-top: 20px;">\n            \xa9 2025 VSP Electronics. All rights reserved.\n          </p>\n        </div>\n      </div>\n    `}getPasswordResetTemplate(e,o,r){return`\n      <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; background: #f9f9f9;">\n        <div style="background: white; padding: 30px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">\n          <h1 style="color: #667eea; margin: 0 0 20px 0;">Password Reset Request \u{1f510}</h1>\n          \n          <p style="color: #333; font-size: 16px; line-height: 1.6;">\n            Hi ${e},\n          </p>\n          \n          <p style="color: #333; font-size: 16px; line-height: 1.6;">\n            We received a request to reset your password. Please verify your email first by clicking the button below:\n          </p>\n\n          <div style="margin: 30px 0;">\n            <a href="${r}" style="display: inline-block; background: #667eea; color: white; padding: 12px 30px; text-decoration: none; border-radius: 4px; font-weight: bold;">\n              Verify & Reset Password\n            </a>\n          </div>\n\n          <p style="color: #666; font-size: 14px;">Or use this code:</p>\n          <div style="background: #f0f0f0; padding: 15px; border-radius: 4px; text-align: center; margin: 15px 0;">\n            <code style="font-size: 24px; letter-spacing: 3px; color: #667eea; font-weight: bold;">${o}</code>\n          </div>\n\n          <div style="background: #fff3cd; border-left: 4px solid #ffc107; padding: 15px; margin: 20px 0; border-radius: 4px;">\n            <strong>\u26a0\ufe0f Security Notice:</strong>\n            <ul style="margin: 10px 0 0 0; padding-left: 20px; color: #666; font-size: 14px;">\n              <li>This verification link expires in 24 hours</li>\n              <li>You can only use this link once</li>\n              <li>If you didn't request a password reset, contact support immediately</li>\n            </ul>\n          </div>\n\n          <p style="color: #999; font-size: 12px; text-align: center; margin-top: 30px; border-top: 1px solid #eee; padding-top: 20px;">\n            \xa9 2025 VSP Electronics. All rights reserved.\n          </p>\n        </div>\n      </div>\n    `}getTokens(){const e=localStorage.getItem(this.EMAIL_TOKENS_KEY);return e?JSON.parse(e):{}}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function vU(t,n){if(1&t&&(a(0,"div",16),b(1,"i",17),d(2),c()),2&t){const e=f();p(2),D(" ",e.message," ")}}function CU(t,n){if(1&t&&(a(0,"div",18),b(1,"i",19),d(2),c()),2&t){const e=f();p(2),D(" ",e.errorMessage," ")}}function xU(t,n){if(1&t&&(a(0,"div",20),b(1,"i",21),d(2),c()),2&t){const e=f();p(2),D(" ",e.successMessage," ")}}function MU(t,n){if(1&t){const e=R();a(0,"div",22)(1,"form",23,0),C("ngSubmit",function(){return y(e),v(f().onLogin())}),a(3,"div",24)(4,"label",25),d(5," Username or email address "),a(6,"span",26),d(7,"*"),c()(),a(8,"input",27),A("ngModelChange",function(r){y(e);const i=f();return F(i.loginData.email,r)||(i.loginData.email=r),v(r)}),c(),a(9,"small",28),d(10,"Email address only (phone numbers not accepted)"),c()(),a(11,"div",24)(12,"label",29),d(13," Password "),a(14,"span",26),d(15,"*"),c()(),a(16,"div",30)(17,"input",31),A("ngModelChange",function(r){y(e);const i=f();return F(i.loginData.password,r)||(i.loginData.password=r),v(r)}),c(),a(18,"button",32),C("click",function(){return y(e),v(f().togglePasswordVisibility())}),b(19,"i"),c()()(),a(20,"button",33),d(21," LOG IN "),c(),a(22,"div",34)(23,"label",35)(24,"input",36),A("ngModelChange",function(r){y(e);const i=f();return F(i.rememberMe,r)||(i.rememberMe=r),v(r)}),c(),a(25,"span"),d(26,"Remember me"),c()(),a(27,"a",37),C("click",function(){return y(e),v(f().switchTab("forgot"))}),d(28,"Lost your password?"),c()(),a(29,"div",38)(30,"span"),d(31,"OR"),c()(),b(32,"div",39),a(33,"p",40),d(34," No account yet? "),a(35,"a",41),C("click",function(){return y(e),v(f().switchTab("signup"))}),d(36,"Create an account"),c()()()()}if(2&t){const e=f();p(8),E("ngModel",e.loginData.email),p(9),h("type",e.showPassword?"text":"password"),E("ngModel",e.loginData.password),p(2),io(e.showPassword?"fas fa-eye-slash":"fas fa-eye"),p(5),E("ngModel",e.rememberMe)}}function PU(t,n){if(1&t){const e=R();a(0,"div",22)(1,"form",23,1),C("ngSubmit",function(){return y(e),v(f().onSignup())}),a(3,"div",24)(4,"label",42),d(5," Full Name "),a(6,"span",26),d(7,"*"),c()(),a(8,"input",43),A("ngModelChange",function(r){y(e);const i=f();return F(i.signupData.firstName,r)||(i.signupData.firstName=r),v(r)}),c(),a(9,"small",28),d(10,"At least 2 characters, letters only"),c()(),a(11,"div",24)(12,"label",44),d(13," Email Address "),a(14,"span",26),d(15,"*"),c()(),a(16,"input",45),A("ngModelChange",function(r){y(e);const i=f();return F(i.signupData.email,r)||(i.signupData.email=r),v(r)}),c(),a(17,"small",28),d(18,"Valid email only (no phone numbers)"),c()(),a(19,"div",24)(20,"label",46),d(21," Phone Number "),a(22,"span",26),d(23,"*"),c()(),a(24,"input",47),A("ngModelChange",function(r){y(e);const i=f();return F(i.signupData.phone,r)||(i.signupData.phone=r),v(r)}),c(),a(25,"small",28),d(26,"10 digits starting with 6, 7, 8, or 9"),c()(),a(27,"div",24)(28,"label",48),d(29," Password "),a(30,"span",26),d(31,"*"),c()(),a(32,"div",30)(33,"input",49),A("ngModelChange",function(r){y(e);const i=f();return F(i.signupData.password,r)||(i.signupData.password=r),v(r)}),c(),a(34,"button",32),C("click",function(){return y(e),v(f().togglePasswordVisibility())}),b(35,"i"),c()(),a(36,"small",28),d(37,"Min 8 characters: uppercase, lowercase, number & special character"),c()(),a(38,"div",24)(39,"label",50),d(40," Confirm Password "),a(41,"span",26),d(42,"*"),c()(),a(43,"input",51),A("ngModelChange",function(r){y(e);const i=f();return F(i.confirmPassword,r)||(i.confirmPassword=r),v(r)}),c()(),a(44,"button",33),d(45," CREATE ACCOUNT "),c(),a(46,"div",38)(47,"span"),d(48,"OR"),c()(),b(49,"div",52),a(50,"p",40),d(51," Already have an account? "),a(52,"a",41),C("click",function(){return y(e),v(f().switchTab("login"))}),d(53,"Sign in here"),c()()()()}if(2&t){const e=f();p(8),E("ngModel",e.signupData.firstName),p(8),E("ngModel",e.signupData.email),p(8),E("ngModel",e.signupData.phone),p(9),h("type",e.showPassword?"text":"password"),E("ngModel",e.signupData.password),p(2),io(e.showPassword?"fas fa-eye-slash":"fas fa-eye"),p(8),E("ngModel",e.confirmPassword)}}function wU(t,n){if(1&t){const e=R();a(0,"div",22)(1,"div",53)(2,"h3"),d(3,"\u{1f4e7} Verify Your Email"),c(),a(4,"p"),d(5,"We've sent a verification code to:"),c(),a(6,"p",54)(7,"strong"),d(8),c()()(),a(9,"form",23),C("ngSubmit",function(){return y(e),v(f().onVerifyEmail())}),a(10,"div",24)(11,"label",55),d(12," Verification Code "),a(13,"span",26),d(14,"*"),c()(),a(15,"input",56),A("ngModelChange",function(r){y(e);const i=f();return F(i.emailVerificationCode,r)||(i.emailVerificationCode=r),v(r)}),c(),a(16,"small",28),d(17,"Enter the 6-digit code from your email"),c()(),a(18,"button",33),d(19," VERIFY EMAIL "),c(),a(20,"div",57)(21,"p",58),d(22,"Didn't receive the code?"),c(),a(23,"button",59),C("click",function(){return y(e),v(f().onResendVerificationEmail())}),b(24,"i",60),d(25," Resend Code "),c(),a(26,"button",61),C("click",function(){return y(e),v(f().onBackToSignupForm())}),b(27,"i",62),d(28," Back to Signup "),c()()()()}if(2&t){const e=f();p(8),S(null==e.pendingSignupData?null:e.pendingSignupData.email),p(7),E("ngModel",e.emailVerificationCode)}}function OU(t,n){if(1&t){const e=R();a(0,"form",23,2),C("ngSubmit",function(){return y(e),v(f(2).onRequestResetCode())}),a(2,"div",64),b(3,"i",17),a(4,"p"),d(5,"Enter your email address and we'll send you a code to reset your password."),c()(),a(6,"div",24)(7,"label",65),d(8," Email Address "),a(9,"span",26),d(10,"*"),c()(),a(11,"input",66),A("ngModelChange",function(r){y(e);const i=f(2);return F(i.forgotPasswordData.email,r)||(i.forgotPasswordData.email=r),v(r)}),c()(),a(12,"button",33),d(13," SEND RESET CODE "),c(),a(14,"p",40),d(15," Remember your password? "),a(16,"a",41),C("click",function(){return y(e),v(f(2).switchTab("login"))}),d(17,"Sign in here"),c()()()}if(2&t){const e=f(2);p(11),E("ngModel",e.forgotPasswordData.email)}}function kU(t,n){if(1&t){const e=R();a(0,"form",23,3),C("ngSubmit",function(){return y(e),v(f(2).onVerifyResetCode())}),a(2,"div",64),b(3,"i",67),a(4,"p"),d(5,"We've sent a 6-digit code to "),a(6,"strong"),d(7),c()()(),a(8,"div",24)(9,"label",68),d(10," Reset Code "),a(11,"span",26),d(12,"*"),c()(),a(13,"input",69),A("ngModelChange",function(r){y(e);const i=f(2);return F(i.forgotPasswordData.code,r)||(i.forgotPasswordData.code=r),v(r)}),c(),a(14,"small",28),d(15,"Check your email for the reset code"),c()(),a(16,"button",33),d(17," VERIFY CODE "),c(),a(18,"p",40),d(19," Didn't receive the code? "),a(20,"a",70),C("click",function(){return y(e),v(f(2).onRequestResetCode())}),d(21,"Resend"),c()()()}if(2&t){const e=f(2);p(7),S(e.forgotPasswordData.email),p(6),E("ngModel",e.forgotPasswordData.code)}}function DU(t,n){if(1&t){const e=R();a(0,"form",23,4),C("ngSubmit",function(){return y(e),v(f(2).onResetPassword())}),a(2,"div",71),b(3,"i",21),a(4,"p"),d(5,"Code verified! Now create your new password."),c()(),a(6,"div",24)(7,"label",72),d(8," New Password "),a(9,"span",26),d(10,"*"),c()(),a(11,"div",30)(12,"input",73),A("ngModelChange",function(r){y(e);const i=f(2);return F(i.forgotPasswordData.newPassword,r)||(i.forgotPasswordData.newPassword=r),v(r)}),c(),a(13,"button",32),C("click",function(){return y(e),v(f(2).togglePasswordVisibility())}),b(14,"i"),c()(),a(15,"small",28),d(16,"Min 8 characters: uppercase, lowercase, number & special character"),c()(),a(17,"div",24)(18,"label",74),d(19," Confirm New Password "),a(20,"span",26),d(21,"*"),c()(),a(22,"input",75),A("ngModelChange",function(r){y(e);const i=f(2);return F(i.forgotPasswordData.confirmPassword,r)||(i.forgotPasswordData.confirmPassword=r),v(r)}),c()(),a(23,"button",33),d(24," RESET PASSWORD "),c()()}if(2&t){const e=f(2);p(12),h("type",e.showPassword?"text":"password"),E("ngModel",e.forgotPasswordData.newPassword),p(2),io(e.showPassword?"fas fa-eye-slash":"fas fa-eye"),p(8),E("ngModel",e.forgotPasswordData.confirmPassword)}}function SU(t,n){if(1&t&&(a(0,"div",22),P(1,OU,18,1,"form",63)(2,kU,22,2,"form",63)(3,DU,25,5,"form",63),c()),2&t){const e=f();p(),h("ngIf",1===e.forgotPasswordStep),p(),h("ngIf",2===e.forgotPasswordStep),p(),h("ngIf",3===e.forgotPasswordStep)}}let Lm=(()=>{class t{constructor(){this.close=new Ee,this.message="Please login to continue",this.initialTab="login",this.authService=w(Qe),this.emailService=w(du),this.emailVerificationService=w(H2),this.router=w(me),this.activeTab="login",this.showPassword=!1,this.rememberMe=!1,this.emailVerificationStep="signup-form",this.emailVerificationCode="",this.emailVerificationToken="",this.pendingSignupData=null,this.forgotPasswordStep=1,this.forgotPasswordData={email:"",code:"",newPassword:"",confirmPassword:"",resetToken:""},this.loginData={email:"",password:""},this.signupData={firstName:"",email:"",phone:"",password:""},this.confirmPassword="",this.errorMessage="",this.successMessage=""}ngOnInit(){this.activeTab=this.initialTab}ngAfterViewInit(){setTimeout(()=>{this.initializeGoogleSignIn()},200)}initializeGoogleSignIn(){if(typeof google>"u")return console.warn("Google SDK not loaded yet, retrying..."),void setTimeout(()=>this.initializeGoogleSignIn(),500);if(!google.accounts)return console.warn("Google accounts not available, retrying..."),void setTimeout(()=>this.initializeGoogleSignIn(),500);try{google.accounts.id.initialize({client_id:ot_googleClientId,callback:this.handleGoogleSignIn.bind(this),auto_select:!1,itp_support:!0,use_fedcm_for_prompt:!0});const e="login"===this.activeTab?"google-signin-login":"google-signin-signup",o=document.getElementById(e);o?(o.innerHTML="",google.accounts.id.renderButton(o,{theme:"outline",size:"large",width:"100%",text:"signin_with",locale:"en_US"}),console.log("Google Sign-In button rendered for:",e)):console.warn("Button element not found:",e)}catch(e){console.error("Google Sign-In initialization failed:",e)}}handleGoogleSignIn(e){console.log("Google Sign-In response received:",!!e.credential);try{if(!e.credential)return console.error("No credential in response"),void(this.errorMessage="Google Sign-In failed: No credential received");console.log("Decoding JWT token...");const o=e.credential.split(".");if(3!==o.length)throw new Error("Invalid JWT format");const i=o[1].replace(/-/g,"+").replace(/_/g,"/");let s=atob(i);const l=decodeURIComponent(s.split("").map(_=>"%"+("00"+_.charCodeAt(0).toString(16)).slice(-2)).join("")),u=JSON.parse(l);console.log("Decoded payload:",{email:u.email,name:u.name});const g={firstName:u.name||"",email:u.email||"",phone:"",password:"google_"+u.sub};if(!g.email)return console.error("No email in payload"),void(this.errorMessage="Unable to retrieve email from Google Sign-In");console.log("Attempting login with Google email:",g.email),this.authService.login({email:g.email,password:g.password}),this.authService.login({email:g.email,password:g.password}).subscribe({next:_=>{console.log("Google login successful"),this.successMessage="Signed in successfully with Google!",localStorage.setItem("google_user_"+g.email,JSON.stringify(u)),setTimeout(()=>this.closeModal(),1500)},error:_=>{console.log("Login failed, attempting signup..."),this.authService.register(g).subscribe({next:x=>{console.log("Google signup successful"),this.successMessage="Account created and signed in successfully with Google!",localStorage.setItem("google_user_"+g.email,JSON.stringify(u)),setTimeout(()=>this.closeModal(),1500)},error:x=>{console.error("Signup failed:",x.message),this.errorMessage=x.message||"Failed to create account. Please try again."}})}})}catch(o){console.error("Google Sign-In error:",o),this.errorMessage="Google Sign-In failed: "+(o instanceof Error?o.message:"Unknown error")}}switchTab(e){this.activeTab=e,this.errorMessage="",this.successMessage="",this.resetForms(),"forgot"===e&&(this.forgotPasswordStep=1),("login"===e||"signup"===e)&&setTimeout(()=>{this.initializeGoogleSignIn()},200)}resetForms(){this.loginData={email:"",password:""},this.signupData={firstName:"",email:"",phone:"",password:""},this.confirmPassword="",this.showPassword=!1,this.forgotPasswordData={email:"",code:"",newPassword:"",confirmPassword:"",resetToken:""}}togglePasswordVisibility(){this.showPassword=!this.showPassword}onLogin(){this.errorMessage="",this.successMessage="",this.loginData.email=this.loginData.email.trim(),this.loginData.email&&this.loginData.password?/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(this.loginData.email)?/^[0-9]{10,}$/.test(this.loginData.email.replace(/[@._-]/g,""))?this.errorMessage="Please use email address for login, not phone number":this.authService.login(this.loginData).subscribe({next:r=>{this.successMessage=r.message||"Login successful!",setTimeout(()=>{this.closeModal()},500)},error:r=>{this.errorMessage=r.message||"Login failed. Please check your credentials."}}):this.errorMessage="Please enter a valid email address (phone numbers not accepted)":this.errorMessage="Please fill in all fields"}onSignup(){this.errorMessage="",this.successMessage="",this.signupData.firstName=this.signupData.firstName.trim(),this.signupData.email=this.signupData.email.trim(),this.signupData.phone&&(this.signupData.phone=this.signupData.phone.trim()),this.signupData.firstName&&this.signupData.email&&this.signupData.password?this.signupData.firstName.length<2?this.errorMessage="First name must be at least 2 characters long":/^[a-zA-Z\s]+$/.test(this.signupData.firstName)?/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(this.signupData.email)?/^[0-9]{10,}$/.test(this.signupData.email.replace(/[@._-]/g,""))?this.errorMessage="Email cannot be a phone number":!this.signupData.phone||/^[6-9]\d{9}$/.test(this.signupData.phone)?this.signupData.password===this.confirmPassword?this.signupData.password.length<8?this.errorMessage="Password must be at least 8 characters long":/[A-Z]/.test(this.signupData.password)?/[a-z]/.test(this.signupData.password)?/[0-9]/.test(this.signupData.password)?/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(this.signupData.password)?this.authService.register(this.signupData).subscribe({next:s=>{const l=this.emailVerificationService.sendVerificationEmail(this.signupData.email,this.signupData.firstName,"email_verification");l.success&&(this.pendingSignupData={...this.signupData},this.emailVerificationToken=l.token||"",this.emailVerificationStep="verify-email",this.emailVerificationCode="",this.successMessage="Verification email sent! Please check your inbox.")},error:s=>{this.errorMessage=s.message||"Registration failed. Please try again."}}):this.errorMessage="Password must contain at least one special character (!@#$%^&*...)":this.errorMessage="Password must contain at least one number":this.errorMessage="Password must contain at least one lowercase letter":this.errorMessage="Password must contain at least one uppercase letter":this.errorMessage="Passwords do not match":this.errorMessage="Phone number must be 10 digits starting with 6, 7, 8, or 9":this.errorMessage="Please enter a valid email address":this.errorMessage="First name should contain only letters and spaces":this.errorMessage="Please fill in all fields"}closeModal(){this.close.emit()}onVerifyEmail(){if(this.errorMessage="",this.successMessage="",!this.emailVerificationCode||6!==this.emailVerificationCode.length)return void(this.errorMessage="Please enter a valid 6-digit verification code");const e=this.emailVerificationService.verifyEmailWithCode(this.pendingSignupData?.email||"",this.emailVerificationCode);e.success?(this.successMessage="\u2705 Email verified successfully! Account activated.",setTimeout(()=>{this.emailVerificationStep="signup-form",this.emailVerificationCode="",this.pendingSignupData=null,this.signupData={firstName:"",email:"",phone:"",password:""},this.confirmPassword="",this.closeModal(),this.router.navigate(["/"])},1e3)):this.errorMessage=e.message||"Invalid verification code. Please try again."}onResendVerificationEmail(){this.pendingSignupData?this.emailVerificationService.resendVerificationEmail(this.pendingSignupData.email,this.pendingSignupData.firstName).success?(this.successMessage="\u2705 Verification email resent! Check your inbox.",this.emailVerificationCode=""):this.errorMessage="Failed to resend email. Please try again.":this.errorMessage="No pending signup found"}onBackToSignupForm(){this.emailVerificationStep="signup-form",this.emailVerificationCode="",this.errorMessage="",this.successMessage=""}onRequestResetCode(){this.errorMessage="",this.successMessage="",this.forgotPasswordData.email?/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(this.forgotPasswordData.email)?this.authService.getUserByEmail(this.forgotPasswordData.email).subscribe({next:o=>{const r=o.user;if(!r)return void(this.errorMessage="No account found with this email address. Please create an account first.");const i=this.emailVerificationService.sendVerificationEmail(this.forgotPasswordData.email,r.firstName||r.name||"User","password_reset");i.success?(this.forgotPasswordData.resetToken=i.token||"",this.successMessage="\u2705 Reset code sent! Check your inbox for the verification code.",this.forgotPasswordStep=2):this.errorMessage=i.message},error:o=>{this.errorMessage="No account found with this email address. Please create an account first."}}):this.errorMessage="Please enter a valid email address":this.errorMessage="Please enter your email address"}onVerifyResetCode(){if(this.errorMessage="",this.successMessage="",!this.forgotPasswordData.code)return void(this.errorMessage="Please enter the reset code");if(6!==this.forgotPasswordData.code.length)return void(this.errorMessage="Reset code must be 6 digits");const e=this.emailVerificationService.verifyEmailWithCode(this.forgotPasswordData.email,this.forgotPasswordData.code);e.success?(this.successMessage="\u2705 Code verified! Please set your new password.",this.forgotPasswordStep=3):this.errorMessage=e.message}onResetPassword(){this.errorMessage="",this.successMessage="",this.forgotPasswordData.newPassword&&this.forgotPasswordData.confirmPassword?this.forgotPasswordData.newPassword===this.forgotPasswordData.confirmPassword?this.forgotPasswordData.newPassword.length<8?this.errorMessage="Password must be at least 8 characters long":/[A-Z]/.test(this.forgotPasswordData.newPassword)?/[a-z]/.test(this.forgotPasswordData.newPassword)?/[0-9]/.test(this.forgotPasswordData.newPassword)?/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(this.forgotPasswordData.newPassword)?this.authService.resetPassword(this.forgotPasswordData.resetToken,this.forgotPasswordData.newPassword).subscribe({next:e=>{this.successMessage=(e.message||"Password reset successful!")+" - Redirecting to login...",setTimeout(()=>{this.switchTab("login"),this.successMessage="Password reset successful! Please login with your new password."},2e3)},error:e=>{this.errorMessage=e.message||"Password reset failed. Please try again."}}):this.errorMessage="Password must contain at least one special character":this.errorMessage="Password must contain at least one number":this.errorMessage="Password must contain at least one lowercase letter":this.errorMessage="Password must contain at least one uppercase letter":this.errorMessage="Passwords do not match":this.errorMessage="Please fill in all fields"}onBackdropClick(e){e.target===e.currentTarget&&this.closeModal()}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=se({type:t,selectors:[["app-auth-modal"]],inputs:{message:"message",initialTab:"initialTab"},outputs:{close:"close"},standalone:!0,features:[ae],decls:16,vars:8,consts:[["loginForm","ngForm"],["signupForm","ngForm"],["forgotForm","ngForm"],["verifyForm","ngForm"],["resetForm","ngForm"],[1,"modal-backdrop",3,"click"],[1,"modal-content"],[1,"modal-header"],["aria-label","Close",1,"close-button",3,"click"],[1,"fas","fa-times"],["class","alert alert-info",4,"ngIf"],["class","alert alert-error",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["class","auth-form",4,"ngIf"],["href","https://wa.me/919876543210","target","_blank","aria-label","Contact us on WhatsApp",1,"whatsapp-float"],[1,"fab","fa-whatsapp"],[1,"alert","alert-info"],[1,"fas","fa-info-circle"],[1,"alert","alert-error"],[1,"fas","fa-exclamation-circle"],[1,"alert","alert-success"],[1,"fas","fa-check-circle"],[1,"auth-form"],["novalidate","",3,"ngSubmit"],[1,"form-group"],["for","login-email"],[1,"required"],["type","text","id","login-email","name","email","placeholder","example@email.com","autocomplete","email",3,"ngModelChange","ngModel"],[1,"field-hint"],["for","login-password"],[1,"password-input"],["id","login-password","name","password","placeholder","Enter your password","autocomplete","current-password",3,"ngModelChange","type","ngModel"],["type","button","aria-label","Toggle password visibility",1,"toggle-password",3,"click"],["type","submit",1,"btn","btn-primary","btn-block"],[1,"form-options"],[1,"remember-me"],["type","checkbox","name","remember",3,"ngModelChange","ngModel"],[1,"forgot-password",2,"cursor","pointer",3,"click"],[1,"divider"],["id","google-signin-login",1,"google-signin"],[1,"form-footer"],[1,"link",3,"click"],["for","signup-name"],["type","text","id","signup-name","name","firstName","placeholder","Enter your first name","autocomplete","given-name",3,"ngModelChange","ngModel"],["for","signup-email"],["type","text","id","signup-email","name","email","placeholder","example@email.com","autocomplete","email",3,"ngModelChange","ngModel"],["for","signup-phone"],["type","tel","id","signup-phone","name","phone","placeholder","9876543210","maxlength","10","autocomplete","tel",3,"ngModelChange","ngModel"],["for","signup-password"],["id","signup-password","name","password","placeholder","Create a strong password","autocomplete","new-password",3,"ngModelChange","type","ngModel"],["for","signup-confirm-password"],["type","password","id","signup-confirm-password","name","confirmPassword","placeholder","Re-enter password","autocomplete","new-password",3,"ngModelChange","ngModel"],["id","google-signin-signup",1,"google-signin"],[1,"verification-header"],[1,"email-display"],["for","email-code"],["type","text","id","email-code","name","code","placeholder","000000","maxlength","6","inputmode","numeric","autocomplete","off",3,"ngModelChange","ngModel"],[1,"verification-options"],[1,"resend-text"],["type","button",1,"btn","btn-secondary","btn-block",3,"click"],[1,"fas","fa-redo"],["type","button",1,"btn","btn-tertiary","btn-block",3,"click"],[1,"fas","fa-arrow-left"],["novalidate","",3,"ngSubmit",4,"ngIf"],[1,"info-box"],["for","forgot-email"],["type","email","id","forgot-email","name","email","placeholder","example@email.com","autocomplete","email",3,"ngModelChange","ngModel"],[1,"fas","fa-envelope"],["for","reset-code"],["type","text","id","reset-code","name","code","placeholder","Enter 6-digit code","maxlength","6","autocomplete","off",3,"ngModelChange","ngModel"],[1,"link",2,"cursor","pointer",3,"click"],[1,"info-box","success"],["for","new-password"],["id","new-password","name","password","placeholder","Create a strong password","autocomplete","new-password",3,"ngModelChange","type","ngModel"],["for","confirm-new-password"],["type","password","id","confirm-new-password","name","confirmPassword","placeholder","Re-enter new password","autocomplete","new-password",3,"ngModelChange","ngModel"]],template:function(o,r){1&o&&(a(0,"div",5),C("click",function(s){return r.onBackdropClick(s)}),a(1,"div",6)(2,"div",7)(3,"h2"),d(4),c(),a(5,"button",8),C("click",function(){return r.closeModal()}),b(6,"i",9),c()(),P(7,vU,3,1,"div",10)(8,CU,3,1,"div",11)(9,xU,3,1,"div",12)(10,MU,37,6,"div",13)(11,PU,54,8,"div",13)(12,wU,29,2,"div",13)(13,SU,4,3,"div",13),c(),a(14,"a",14),b(15,"i",15),c()()),2&o&&(p(4),S("login"===r.activeTab?"Sign in":"signup"===r.activeTab?"Sign up":"Reset Password"),p(3),h("ngIf",r.message),p(),h("ngIf",r.errorMessage),p(),h("ngIf",r.successMessage),p(),h("ngIf","login"===r.activeTab),p(),h("ngIf","signup"===r.activeTab&&"signup-form"===r.emailVerificationStep),p(),h("ngIf","signup"===r.activeTab&&"verify-email"===r.emailVerificationStep),p(),h("ngIf","forgot"===r.activeTab))},dependencies:[pe,ve,nt,bo,et,yn,rt,mo,ps,tt,_o],styles:['.modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0009;display:flex;align-items:center;justify-content:center;z-index:10000;padding:20px;overflow-y:auto}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;max-width:480px;width:100%;max-height:90vh;overflow-y:auto;position:relative;box-shadow:0 4px 20px #0003;animation:_ngcontent-%COMP%_slideDown .3s ease}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-30px)}to{opacity:1;transform:translateY(0)}}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:25px 30px;border-bottom:1px solid #e0e0e0}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;color:#333;margin:0}.close-button[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;color:#666;cursor:pointer;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:all .3s ease}.close-button[_ngcontent-%COMP%]:hover{background:#f5f5f5;color:#333}.alert[_ngcontent-%COMP%]{padding:12px 16px;margin:20px 30px;border-radius:6px;display:flex;align-items:center;gap:10px;font-size:14px}.alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.alert-error[_ngcontent-%COMP%]{background:#fee;color:var(--red-accent);border:1px solid var(--red-accent)}.alert-success[_ngcontent-%COMP%]{background:#efe;color:var(--green-success);border:1px solid var(--green-success)}.alert-info[_ngcontent-%COMP%]{background:#e3f2fd;color:#1976d2;border:1px solid #1976d2}.auth-form[_ngcontent-%COMP%]{padding:30px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:500;color:#333;font-size:14px}.required[_ngcontent-%COMP%]{color:var(--red-accent)}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:12px 15px;border:1px solid #ddd;border-radius:4px;font-size:15px;transition:border-color .3s ease;background:#f5f5f5}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-brown);background:#fff}.field-hint[_ngcontent-%COMP%]{display:block;margin-top:5px;font-size:12px;color:#999;line-height:1.3}.password-input[_ngcontent-%COMP%]{position:relative}.toggle-password[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);background:none;border:none;color:#999;cursor:pointer;padding:8px;transition:color .3s ease}.toggle-password[_ngcontent-%COMP%]:hover{color:#666}.btn-block[_ngcontent-%COMP%]{width:100%;margin-top:10px;padding:14px;font-size:15px;font-weight:600;letter-spacing:.5px;background:var(--primary-brown);border:none;border-radius:4px;color:#fff;cursor:pointer;transition:background .3s ease}.btn-block[_ngcontent-%COMP%]:hover{background:var(--dark-brown)}.form-options[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:15px;font-size:14px}.remember-me[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;cursor:pointer;color:#666}.remember-me[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:auto;margin:0;cursor:pointer}.forgot-password[_ngcontent-%COMP%]{color:#06c;text-decoration:none;transition:color .3s ease}.forgot-password[_ngcontent-%COMP%]:hover{color:var(--dark-brown);text-decoration:underline}.divider[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center;margin:25px 0;color:#999;font-size:14px}.divider[_ngcontent-%COMP%]:before, .divider[_ngcontent-%COMP%]:after{content:"";flex:1;border-bottom:1px solid #e0e0e0}.divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 15px}.google-signin[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:20px 0}.form-footer[_ngcontent-%COMP%]{text-align:center;margin-top:25px;color:#666;font-size:14px}.form-footer[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{color:#06c;cursor:pointer;text-decoration:none;font-weight:600}.form-footer[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{text-decoration:underline}.whatsapp-float[_ngcontent-%COMP%]{position:fixed;bottom:30px;right:30px;width:60px;height:60px;background:#25d366;border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px #25d36666;z-index:10001;transition:all .3s ease;text-decoration:none}.whatsapp-float[_ngcontent-%COMP%]:hover{background:#128c7e;transform:scale(1.1);box-shadow:0 6px 16px #25d36680}.whatsapp-float[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:32px;color:#fff}@media (max-width: 768px){.modal-content[_ngcontent-%COMP%]{max-width:95%;max-height:95vh}.modal-header[_ngcontent-%COMP%], .auth-form[_ngcontent-%COMP%]{padding:20px}.alert[_ngcontent-%COMP%]{margin:15px 20px}.form-options[_ngcontent-%COMP%]{flex-direction:column;gap:10px;align-items:flex-start}.whatsapp-float[_ngcontent-%COMP%]{width:50px;height:50px;bottom:20px;right:20px}.whatsapp-float[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:26px}}.info-box[_ngcontent-%COMP%]{background:#e3f2fd;border-left:4px solid #2196f3;padding:15px;margin-bottom:20px;border-radius:4px;display:flex;align-items:flex-start;gap:12px}.info-box.success[_ngcontent-%COMP%]{background:#e8f5e9;border-left-color:#4caf50}.info-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#2196f3;font-size:20px;margin-top:2px}.info-box.success[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#4caf50}.info-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#333;line-height:1.5}.info-box[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1976d2}.verification-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px;padding:20px;background:linear-gradient(135deg,#f5f7fa,#eff2f8);border-radius:8px}.verification-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;color:#667eea;font-size:20px}.verification-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;color:#666;font-size:14px}.email-display[_ngcontent-%COMP%]{font-size:16px;color:#333;word-break:break-all;margin-top:10px!important}.verification-options[_ngcontent-%COMP%]{margin-top:20px;padding-top:20px;border-top:1px solid #e0e0e0}.resend-text[_ngcontent-%COMP%]{text-align:center;color:#666;font-size:14px;margin:0 0 15px}.btn-tertiary[_ngcontent-%COMP%]{background:#f5f5f5;color:#333;border:1px solid #ddd;margin-top:10px}.btn-tertiary[_ngcontent-%COMP%]:hover{background:#efefef;border-color:#bbb}.btn-tertiary[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}']})}}return t})();const IU=()=>({exact:!0});function TU(t,n){if(1&t){const e=R();a(0,"a",42),C("click",function(){return y(e),v(f().openAuthModal())}),d(1,"Login / Register"),c()}}function EU(t,n){if(1&t){const e=R();a(0,"button",43),C("click",function(){return y(e),v(f().resetTheme())}),d(1,"Reset"),c()}}function AU(t,n){if(1&t){const e=R();a(0,"li")(1,"a",58),C("click",function(){return y(e),v(f(3).showUserDropdown=!1)}),b(2,"i",59),d(3," Admin Dashboard "),c()()}}function NU(t,n){1&t&&b(0,"li",55)}function FU(t,n){if(1&t){const e=R();a(0,"div",48)(1,"ul"),P(2,AU,4,0,"li",49)(3,NU,1,0,"li",50),a(4,"li")(5,"a",51),C("click",function(){return y(e),v(f(2).showUserDropdown=!1)}),b(6,"i",52),d(7," My Account "),c()(),a(8,"li")(9,"a",53),C("click",function(){return y(e),v(f(2).showUserDropdown=!1)}),b(10,"i",34),d(11," Wishlist "),c()(),a(12,"li")(13,"a",54),C("click",function(){return y(e),v(f(2).showUserDropdown=!1)}),b(14,"i",41),d(15," Cart "),c()(),b(16,"li",55),a(17,"li")(18,"a",56),C("click",function(){return y(e),v(f(2).onLogout())}),b(19,"i",57),d(20," Logout "),c()()()()}if(2&t){const e=f(2);p(2),h("ngIf",e.authService.isAdmin()),p(),h("ngIf",e.authService.isAdmin())}}function RU(t,n){if(1&t){const e=R();a(0,"div",44)(1,"a",45),C("click",function(){return y(e),v(f().toggleUserDropdown())}),d(2),b(3,"i",46),c(),P(4,FU,21,2,"div",47),c()}if(2&t){const e=f();p(2),D(" Hi, ",(e.currentUser.firstName||e.currentUser.name||"").split(" ")[0]," "),p(),B("rotate",e.showUserDropdown),p(),h("ngIf",e.showUserDropdown)}}function LU(t,n){if(1&t){const e=R();a(0,"app-auth-modal",60),C("close",function(){return y(e),v(f().closeAuthModal())}),c()}if(2&t){const e=f();h("message",e.authModalMessage)("initialTab",e.authModalTab)}}function UU(t,n){if(1&t&&(a(0,"span",61),d(1),c()),2&t){const e=f();p(),S(e.wishlistService.getWishlistCount())}}function VU(t,n){if(1&t&&(a(0,"span",61),d(1),c()),2&t){const e=f();p(),S(e.quoteService.quoteCount())}}function BU(t,n){if(1&t&&(a(0,"span",61),d(1),c()),2&t){const e=f();p(),S(e.compareCount)}}function zU(t,n){if(1&t&&(a(0,"span",61),d(1),c()),2&t){const e=f();p(),S(e.cartService.cartCount())}}let jU=(()=>{class t{constructor(){this.cartService=w(fr),this.quoteService=w(fs),this.wishlistService=w(mc),this.authService=w(Qe),this.router=w(me),this.menuOpen=!1,this.searchOpen=!1,this.searchQuery="",this.compareCount=0,this.showAuthModal=!1,this.authModalMessage="",this.authModalTab="login",this.showUserDropdown=!1,this.currentTheme="default"}ngOnInit(){const e=localStorage.getItem("vsl-theme")||"default";this.applyTheme(e)}applyTheme(e){"blue"===e?(document.body.setAttribute("data-theme","blue"),this.currentTheme="blue",localStorage.setItem("vsl-theme","blue")):(document.body.removeAttribute("data-theme"),this.currentTheme="default",localStorage.setItem("vsl-theme","default"))}toggleTheme(){this.applyTheme("blue"===this.currentTheme?"default":"blue")}resetTheme(){localStorage.removeItem("vsl-theme"),this.applyTheme("default")}get currentUser(){return this.authService.currentUser()}get isLoggedIn(){return this.authService.isLoggedIn()}openAuthModal(e="",o="login"){this.authModalMessage=e,this.authModalTab=o,this.showAuthModal=!0}closeAuthModal(){this.showAuthModal=!1}toggleMenu(){this.menuOpen=!this.menuOpen}toggleSearch(){this.searchOpen=!this.searchOpen}onSearch(){this.searchQuery.trim()&&(this.router.navigate(["/shop"],{queryParams:{search:this.searchQuery.trim()}}),this.searchOpen=!1)}closeQuoteSidebar(){this.quoteService.closeSidebar()}toggleUserDropdown(){this.showUserDropdown=!this.showUserDropdown}onLogout(){this.authService.logout(),this.showUserDropdown=!1,this.router.navigate(["/"])}onDocumentClick(e){e.target.closest(".user-dropdown-container")||(this.showUserDropdown=!1)}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=se({type:t,selectors:[["app-header"]],hostBindings:function(o,r){1&o&&C("click",function(s){return r.onDocumentClick(s)},0,q1)},standalone:!0,features:[ae],decls:61,vars:13,consts:[[1,"header"],[1,"top-bar"],[1,"container"],[1,"top-bar-content"],[1,"working-hours"],[1,"hours-highlight"],[1,"user-actions"],[1,"fas","fa-user"],["style","cursor: pointer;",3,"click",4,"ngIf"],[1,"theme-toggle-btn",3,"click"],[1,"fas","fa-palette"],["class","theme-reset-btn","title","Reset theme to default",3,"click",4,"ngIf"],["class","user-dropdown-container",4,"ngIf"],[3,"message","initialTab","close",4,"ngIf"],[1,"main-header"],[1,"header-content"],[1,"logo"],["routerLink","/"],[1,"main-nav"],[1,"nav-wrapper"],[1,"nav-left"],["routerLink","/all-categories",1,"categories-btn"],[1,"fas","fa-th"],[1,"nav-menu"],["routerLink","/","routerLinkActive","active",3,"click","routerLinkActiveOptions"],["routerLink","/about-us","routerLinkActive","active",3,"click"],["routerLink","/contact-us","routerLinkActive","active",3,"click"],[1,"nav-right"],[1,"search-bar"],["type","text","placeholder","Search for products",3,"ngModelChange","keyup.enter","ngModel"],[1,"search-btn",3,"click"],[1,"fas","fa-search"],[1,"header-icons"],["routerLink","/wishlist",1,"icon-btn"],[1,"fas","fa-heart"],["class","badge",4,"ngIf"],["routerLink","/quote",1,"icon-btn"],[1,"fas","fa-file-invoice"],["routerLink","/compare",1,"icon-btn"],[1,"fas","fa-exchange-alt"],["routerLink","/cart",1,"icon-btn","cart-icon"],[1,"fas","fa-shopping-cart"],[2,"cursor","pointer",3,"click"],["title","Reset theme to default",1,"theme-reset-btn",3,"click"],[1,"user-dropdown-container"],[1,"user-name",2,"cursor","pointer",3,"click"],[1,"fas","fa-chevron-down"],["class","user-dropdown",4,"ngIf"],[1,"user-dropdown"],[4,"ngIf"],["class","divider",4,"ngIf"],["routerLink","/my-account",3,"click"],[1,"fas","fa-user-circle"],["routerLink","/wishlist",3,"click"],["routerLink","/cart",3,"click"],[1,"divider"],[1,"logout-btn",3,"click"],[1,"fas","fa-sign-out-alt"],["routerLink","/admin",1,"admin-link",3,"click"],[1,"fas","fa-shield-alt"],[3,"close","message","initialTab"],[1,"badge"]],template:function(o,r){1&o&&(a(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),d(5," Working Hours "),a(6,"span",5),d(7,"10AM - 7PM Monday - Saturday"),c()(),a(8,"div",6),b(9,"i",7),P(10,TU,2,0,"a",8),a(11,"button",9),C("click",function(){return r.toggleTheme()}),b(12,"i",10),d(13," Blue "),c(),P(14,EU,2,0,"button",11)(15,RU,5,4,"div",12),c()()()(),P(16,LU,1,2,"app-auth-modal",13),a(17,"div",14)(18,"div",2)(19,"div",15)(20,"div",16)(21,"a",17)(22,"h1"),d(23,"VSP "),a(24,"span"),d(25,"ELECTRONICS"),c()()()()()()(),a(26,"nav",18)(27,"div",2)(28,"div",19)(29,"div",20)(30,"a",21),b(31,"i",22),d(32," Product Categories | "),c(),a(33,"ul",23)(34,"li")(35,"a",24),C("click",function(){return r.closeQuoteSidebar()}),d(36,"Home"),c()(),a(37,"li")(38,"a",25),C("click",function(){return r.closeQuoteSidebar()}),d(39,"About Us"),c()(),a(40,"li")(41,"a",26),C("click",function(){return r.closeQuoteSidebar()}),d(42,"Contact Us"),c()()()(),a(43,"div",27)(44,"div",28)(45,"input",29),A("ngModelChange",function(s){return F(r.searchQuery,s)||(r.searchQuery=s),s}),C("keyup.enter",function(){return r.onSearch()}),c(),a(46,"button",30),C("click",function(){return r.onSearch()}),b(47,"i",31),c()(),a(48,"div",32)(49,"a",33),b(50,"i",34),P(51,UU,2,1,"span",35),c(),a(52,"a",36),b(53,"i",37),P(54,VU,2,1,"span",35),c(),a(55,"a",38),b(56,"i",39),P(57,BU,2,1,"span",35),c(),a(58,"a",40),b(59,"i",41),P(60,zU,2,1,"span",35),c()()()()()()()),2&o&&(p(10),h("ngIf",!r.isLoggedIn),p(),B("active","blue"===r.currentTheme),p(3),h("ngIf","default"!==r.currentTheme),p(),h("ngIf",r.isLoggedIn&&r.currentUser),p(),h("ngIf",r.showAuthModal),p(19),h("routerLinkActiveOptions",Xe(12,IU)),p(10),E("ngModel",r.searchQuery),p(6),h("ngIf",r.wishlistService.getWishlistCount()>0),p(3),h("ngIf",r.quoteService.quoteCount()>0),p(3),h("ngIf",r.compareCount>0),p(3),h("ngIf",r.cartService.cartCount()>0))},dependencies:[pe,ve,Ge,Ze,fw,nt,et,rt,tt,Lm],styles:[".header[_ngcontent-%COMP%]{background:#fff;box-shadow:0 2px 8px #00000014;position:sticky;top:0;z-index:1000;width:100%}.top-bar[_ngcontent-%COMP%]{background:#f5f3ef;border-bottom:1px solid #e0d9cf;padding:12px 0}.container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:1200px;margin:0 auto;padding:0 16px}.top-bar-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:20px;font-size:13px;color:#666;flex-wrap:wrap}.store-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#666}.store-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-brown)}.switch-store[_ngcontent-%COMP%]{border-bottom:1px dotted #666;cursor:pointer;transition:color .3s}.switch-store[_ngcontent-%COMP%]:hover{color:var(--primary-brown)}.working-hours[_ngcontent-%COMP%]{color:#666;text-align:center;white-space:nowrap}.hours-highlight[_ngcontent-%COMP%]{color:#06c;font-weight:600}.user-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;color:#333;margin-left:auto;flex-wrap:wrap}.user-actions[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{color:var(--primary-brown)}.user-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#333;font-weight:500;cursor:pointer;transition:color .3s}.user-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primary-brown)}.theme-toggle-btn[_ngcontent-%COMP%]{border:1px solid var(--primary-brown);color:var(--primary-brown);background:transparent;padding:6px 12px;border-radius:4px;font-size:12px;cursor:pointer;display:inline-flex;align-items:center;gap:6px;transition:all .2s}.theme-toggle-btn[_ngcontent-%COMP%]:hover, .theme-toggle-btn.active[_ngcontent-%COMP%]{background:var(--primary-brown);color:#fff}.theme-reset-btn[_ngcontent-%COMP%]{margin-left:8px;border:1px solid #ccc;background:#fff;color:#333;padding:6px 12px;border-radius:4px;cursor:pointer;transition:all .2s}.theme-reset-btn[_ngcontent-%COMP%]:hover{background:#f0f0f0}.user-dropdown-container[_ngcontent-%COMP%]{position:relative}.user-name[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;padding:8px 12px;border-radius:4px;transition:background .3s;cursor:pointer;font-weight:500;white-space:nowrap}.user-name[_ngcontent-%COMP%]:hover{background:#0000000a}.user-name[_ngcontent-%COMP%]   i.fa-chevron-down[_ngcontent-%COMP%]{font-size:10px;transition:transform .3s}.user-name[_ngcontent-%COMP%]   i.fa-chevron-down.rotate[_ngcontent-%COMP%]{transform:rotate(180deg)}.user-dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;right:0;margin-top:10px;background:#fff;border:1px solid #e0d9cf;border-radius:8px;box-shadow:0 10px 25px #00000026;min-width:220px;z-index:1001;animation:_ngcontent-%COMP%_slideDown .2s ease-out;overflow:hidden}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.user-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:8px 0}.user-dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0}.user-dropdown[_ngcontent-%COMP%]   li.divider[_ngcontent-%COMP%]{height:1px;background:#e0d9cf;margin:8px 0}.user-dropdown[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 20px;color:#333;font-weight:500;font-size:14px;transition:background .3s,color .3s;cursor:pointer}.user-dropdown[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:var(--bg-cream);color:var(--primary-brown)}.user-dropdown[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:16px;text-align:center;color:var(--primary-brown)}.user-dropdown[_ngcontent-%COMP%]   a.logout-btn[_ngcontent-%COMP%]{color:#d32f2f}.user-dropdown[_ngcontent-%COMP%]   a.logout-btn[_ngcontent-%COMP%]:hover{background:#ffebee;color:#c62828}.user-dropdown[_ngcontent-%COMP%]   a.logout-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#d32f2f}.user-dropdown[_ngcontent-%COMP%]   a.admin-link[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-brown) 0%,var(--light-brown) 100%);color:#fff;font-weight:600}.user-dropdown[_ngcontent-%COMP%]   a.admin-link[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,var(--dark-brown) 0%,var(--primary-brown) 100%);color:#fff}.user-dropdown[_ngcontent-%COMP%]   a.admin-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}.main-header[_ngcontent-%COMP%]{background:#fff;padding:16px 0;border-bottom:1px solid #e0d9cf}.logo[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center}.logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;font-weight:900;color:var(--primary-brown);margin:0;line-height:1.1;letter-spacing:1px}.logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:32px;display:inline;letter-spacing:3px;margin-left:8px}.main-nav[_ngcontent-%COMP%]{background:var(--primary-brown);border-top:3px solid var(--dark-brown);padding:0}.nav-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0;gap:20px}.nav-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:0;flex:1;min-width:0}.categories-btn[_ngcontent-%COMP%]{background:#ffffff1a;border:none;color:#fff;padding:15px 16px;font-size:14px;font-weight:500;cursor:pointer;display:flex;align-items:center;gap:10px;transition:background .3s;white-space:nowrap;border-radius:0;text-decoration:none}.categories-btn[_ngcontent-%COMP%]:hover{background:#ffffff26}.categories-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.nav-menu[_ngcontent-%COMP%]{display:flex;list-style:none;margin:0;padding:0;gap:0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:15px 20px;color:#fff;font-weight:500;font-size:14px;transition:background .3s;border-bottom:3px solid transparent;white-space:nowrap}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background:#ffffff1a;border-bottom-color:#fff}.nav-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;flex-shrink:0}.search-bar[_ngcontent-%COMP%]{display:flex;background:#fff;border-radius:4px;overflow:hidden;flex:1;min-width:200px;max-width:400px}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:10px 15px;border:none;font-size:14px;outline:none;background:#fff}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#999}.search-btn[_ngcontent-%COMP%]{background:#fff;border:none;padding:10px 15px;cursor:pointer;color:var(--primary-brown);font-size:16px;transition:background .3s}.search-btn[_ngcontent-%COMP%]:hover{background:#f0f0f0}.header-icons[_ngcontent-%COMP%]{display:flex;gap:12px;padding:0}.icon-btn[_ngcontent-%COMP%]{position:relative;color:#fff;font-size:20px;padding:8px;transition:opacity .3s;cursor:pointer;border:none;background:transparent;display:flex;align-items:center;justify-content:center}.icon-btn[_ngcontent-%COMP%]:hover{opacity:.8}.icon-btn[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-8px;background:#f44;color:#fff;font-size:10px;font-weight:700;padding:2px 6px;border-radius:10px;min-width:18px;text-align:center}.category-dropdown[_ngcontent-%COMP%]{display:none;position:absolute;top:100%;left:0;right:0;background:#fff;box-shadow:0 10px 25px #00000026;z-index:999;max-height:400px;overflow-y:auto}.category-dropdown.active[_ngcontent-%COMP%]{display:block}.category-list[_ngcontent-%COMP%]{list-style:none;margin:0;padding:16px 0;columns:4;column-gap:30px}.category-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{break-inside:avoid;padding:8px 16px}.category-list[_ngcontent-%COMP%]   li.divider[_ngcontent-%COMP%]{padding:0;margin:8px 0;border-bottom:1px solid #ddd;break-inside:avoid}.category-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#333;font-size:14px;transition:color .3s}.category-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.view-all-link[_ngcontent-%COMP%]{font-weight:700;color:var(--primary-brown);font-size:15px}.category-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.view-all-link[_ngcontent-%COMP%]:hover{color:#8b4513;text-decoration:underline}.category-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primary-brown);font-weight:600}@media (max-width: 1200px){.search-bar[_ngcontent-%COMP%]{max-width:300px}.category-list[_ngcontent-%COMP%]{columns:3;column-gap:20px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:15px 16px}}@media (max-width: 992px){.top-bar[_ngcontent-%COMP%]{padding:8px 0}.top-bar-content[_ngcontent-%COMP%]{flex-wrap:wrap;gap:12px}.working-hours[_ngcontent-%COMP%]{width:100%;text-align:center;order:2}.user-actions[_ngcontent-%COMP%]{width:100%;justify-content:center;gap:8px;order:3;margin-left:0}.nav-wrapper[_ngcontent-%COMP%]{flex-wrap:wrap;gap:12px}.nav-left[_ngcontent-%COMP%]{width:100%;order:1}.nav-right[_ngcontent-%COMP%]{width:100%;order:2;gap:12px}.search-bar[_ngcontent-%COMP%]{max-width:100%}.category-list[_ngcontent-%COMP%]{columns:2;column-gap:15px}.logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px}.logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 768px){.top-bar[_ngcontent-%COMP%]{display:none}.main-header[_ngcontent-%COMP%]{padding:12px 0}.logo[_ngcontent-%COMP%]{justify-content:flex-start}.logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.5px}.logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1px}.nav-menu[_ngcontent-%COMP%]{flex-direction:column;width:100%}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid rgba(255,255,255,.1)}.nav-left[_ngcontent-%COMP%]{flex-direction:column;width:100%}.categories-btn[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}.search-bar[_ngcontent-%COMP%]{max-width:100%;margin-bottom:8px}.category-list[_ngcontent-%COMP%]{columns:1;column-gap:0;padding:16px}.quick-category-list[_ngcontent-%COMP%]{flex-direction:column;gap:0}.quick-category-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:10px 16px;border-bottom:1px solid #eee}.header-icons[_ngcontent-%COMP%]{gap:8px}.theme-toggle-btn[_ngcontent-%COMP%], .theme-reset-btn[_ngcontent-%COMP%]{font-size:11px;padding:4px 8px}}@media (max-width: 480px){.logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}.logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;display:block;margin-left:0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:13px;padding:10px 12px}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:13px;padding:8px 10px}.categories-btn[_ngcontent-%COMP%]{font-size:12px;padding:12px 10px}.user-actions[_ngcontent-%COMP%]{font-size:12px}.header-icons[_ngcontent-%COMP%]{gap:6px}.icon-btn[_ngcontent-%COMP%]{font-size:18px;padding:6px}}"]})}}return t})();const $U=()=>({brand:"acebott"}),HU=()=>({brand:"amass"}),qU=()=>({brand:"arduino"}),WU=()=>({brand:"bonka"}),GU=()=>({brand:"eft"}),YU=()=>({brand:"eloon-india"}),KU=()=>({brand:"emax"}),QU=()=>({brand:"hobbywing"}),JU=()=>({brand:"jiyi"}),XU=()=>({brand:"mastech"}),ZU=()=>({brand:"raspberry-pi"}),eV=()=>({brand:"skydroid"}),tV=()=>({brand:"skyrc"}),nV=()=>({brand:"tattu"});function oV(t,n){1&t&&(a(0,"div",42)(1,"div",3)(2,"h2",43),d(3,"Featured Brands"),c(),a(4,"div",44)(5,"a",45),b(6,"img",46),c(),a(7,"a",47),b(8,"img",48),c(),a(9,"a",49),b(10,"img",50),c(),a(11,"a",51),b(12,"img",52),c(),a(13,"a",53),b(14,"img",54),c(),a(15,"a",55),b(16,"img",56),c(),a(17,"a",57),b(18,"img",58),c(),a(19,"a",59),b(20,"img",60),c(),a(21,"a",61)(22,"span",62),d(23,"JIYI"),c()(),a(24,"a",63),b(25,"img",64),c(),a(26,"a",65),b(27,"img",66),c(),a(28,"a",67),b(29,"img",68),c(),a(30,"a",69),b(31,"img",70),c(),a(32,"a",71),b(33,"img",72),c()()()()),2&t&&(p(5),h("queryParams",Xe(14,$U)),p(2),h("queryParams",Xe(15,HU)),p(2),h("queryParams",Xe(16,qU)),p(2),h("queryParams",Xe(17,WU)),p(2),h("queryParams",Xe(18,GU)),p(2),h("queryParams",Xe(19,YU)),p(2),h("queryParams",Xe(20,KU)),p(2),h("queryParams",Xe(21,QU)),p(2),h("queryParams",Xe(22,JU)),p(3),h("queryParams",Xe(23,XU)),p(2),h("queryParams",Xe(24,ZU)),p(2),h("queryParams",Xe(25,eV)),p(2),h("queryParams",Xe(26,tV)),p(2),h("queryParams",Xe(27,nV)))}let rV=(()=>{class t{constructor(e){this.router=e,this.currentYear=(new Date).getFullYear()}get isAdminRoute(){return this.router.url.includes("/admin")}static{this.\u0275fac=function(o){return new(o||t)(V(me))}}static{this.\u0275cmp=se({type:t,selectors:[["app-footer"]],standalone:!0,features:[ae],decls:101,vars:2,consts:[[1,"footer"],["class","featured-brands",4,"ngIf"],[1,"footer-main"],[1,"container"],[1,"footer-grid"],[1,"footer-column"],[1,"social-links"],["href","#","aria-label","Facebook"],[1,"fab","fa-facebook-f"],["href","#","aria-label","Twitter"],[1,"fab","fa-twitter"],["href","#","aria-label","Instagram"],[1,"fab","fa-instagram"],["href","#","aria-label","YouTube"],[1,"fab","fa-youtube"],["routerLink","/"],["routerLink","/shop"],["routerLink","/about-us"],["routerLink","/contact-us"],["routerLink","/whatsapp"],[1,"fab","fa-whatsapp"],["href","#"],["routerLink","/category/robotic-diy-kits"],["routerLink","/category/diy-kits"],["routerLink","/category/raspberry"],["routerLink","/category/bonka"],["routerLink","/category/mini-drone-kits"],["routerLink","/category/agriculture-drone-parts"],[1,"contact-info"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-phone"],[1,"fas","fa-envelope"],[1,"fas","fa-clock"],[1,"footer-bottom"],[1,"footer-bottom-content"],[1,"payment-methods"],[1,"fab","fa-cc-visa"],[1,"fab","fa-cc-mastercard"],[1,"fab","fa-cc-paypal"],[1,"fas","fa-wallet"],["href","#","aria-label","Scroll to top",1,"scroll-top"],[1,"fas","fa-arrow-up"],[1,"featured-brands"],[1,"brands-title"],[1,"brands-grid"],["routerLink","/shop","aria-label","ACEBOTT",1,"brand-item",3,"queryParams"],["src","/assets/images/brands/LOGO.png","alt","ACEBOTT","loading","lazy"],["routerLink","/shop","aria-label","Amass",1,"brand-item",3,"queryParams"],["src","/assets/images/brands/Amass-1.jpg","alt","Amass","loading","lazy"],["routerLink","/shop","aria-label","Arduino",1,"brand-item",3,"queryParams"],["src","/assets/images/brands/Arduino.png","alt","Arduino","loading","lazy"],["routerLink","/shop","aria-label","BONKA",1,"brand-item",3,"queryParams"],["src","/assets/images/brands/BONKA.png","alt","BONKA","loading","lazy"],["routerLink","/shop","aria-label","EFT",1,"brand-item",3,"queryParams"],["src","/assets/images/brands/EFT-1.jpg","alt","EFT","loading","lazy"],["routerLink","/shop","aria-label","Elcon",1,"brand-item",3,"queryParams"],["src","/assets/images/brands/Elcon-1-e1713075585301.jpg","alt","Elcon","loading","lazy"],["routerLink","/shop","aria-label","EMAX",1,"brand-item",3,"queryParams"],["src","/assets/images/brands/EMAX-LOGO.png","alt","EMAX","loading","lazy"],["routerLink","/shop","aria-label","Hobbywing",1,"brand-item",3,"queryParams"],["src","/assets/images/brands/Hobbywing.png","alt","Hobbywing","loading","lazy"],["routerLink","/shop","aria-label","JIYI",1,"brand-item",3,"queryParams"],[1,"brand-name-fallback"],["routerLink","/shop","aria-label","Mastech",1,"brand-item",3,"queryParams"],["src","/assets/images/brands/Mastech-1.png","alt","Mastech","loading","lazy"],["routerLink","/shop","aria-label","Raspberry Pi",1,"brand-item",3,"queryParams"],["src","/assets/images/brands/pi.jpg","alt","Raspberry Pi","loading","lazy"],["routerLink","/shop","aria-label","SKYDROID",1,"brand-item",3,"queryParams"],["src","/assets/images/brands/SKydroid.jpg","alt","SKYDROID","loading","lazy"],["routerLink","/shop","aria-label","SKYRC",1,"brand-item",3,"queryParams"],["src","/assets/images/brands/SKYRC.png","alt","SKYRC","loading","lazy"],["routerLink","/shop","aria-label","Tattu",1,"brand-item",3,"queryParams"],["src","/assets/images/brands/TATTU.jpg","alt","Tattu","loading","lazy"]],template:function(o,r){1&o&&(a(0,"footer",0),P(1,oV,34,28,"div",1),a(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h3"),d(7,"About VSP Electronics"),c(),a(8,"p"),d(9," We are India's leading supplier of drone parts, robotics components, DIY kits, and electronics for hobbyists, students, and professionals. "),c(),a(10,"div",6)(11,"a",7),b(12,"i",8),c(),a(13,"a",9),b(14,"i",10),c(),a(15,"a",11),b(16,"i",12),c(),a(17,"a",13),b(18,"i",14),c()()(),a(19,"div",5)(20,"h3"),d(21,"Quick Links"),c(),a(22,"ul")(23,"li")(24,"a",15),d(25,"Home"),c()(),a(26,"li")(27,"a",16),d(28,"Shop"),c()(),a(29,"li")(30,"a",17),d(31,"About Us"),c()(),a(32,"li")(33,"a",18),d(34,"Contact Us"),c()(),a(35,"li")(36,"a",19),b(37,"i",20),d(38," WhatsApp Support"),c()(),a(39,"li")(40,"a",21),d(41,"Privacy Policy"),c()(),a(42,"li")(43,"a",21),d(44,"Terms & Conditions"),c()()()(),a(45,"div",5)(46,"h3"),d(47,"Product Categories"),c(),a(48,"ul")(49,"li")(50,"a",22),d(51,"Robotic DIY Kits"),c()(),a(52,"li")(53,"a",23),d(54,"DIY Kits"),c()(),a(55,"li")(56,"a",24),d(57,"Raspberry Pi"),c()(),a(58,"li")(59,"a",25),d(60,"Bonka Batteries"),c()(),a(61,"li")(62,"a",26),d(63,"Mini Drone Kits"),c()(),a(64,"li")(65,"a",27),d(66,"Agriculture Drone"),c()()()(),a(67,"div",5)(68,"h3"),d(69,"Contact Info"),c(),a(70,"ul",28)(71,"li"),b(72,"i",29),a(73,"span"),d(74,"Hyderabad, Telangana, India"),c()(),a(75,"li"),b(76,"i",30),a(77,"span"),d(78,"+91 9876543210"),c()(),a(79,"li"),b(80,"i",31),a(81,"span"),d(82,"vspelectronics@gmail.com"),c()(),a(83,"li"),b(84,"i",32),a(85,"span"),d(86,"Mon - Sat: 9:00 AM - 7:00 PM"),c()()()()()()(),a(87,"div",33)(88,"div",3)(89,"div",34)(90,"p"),d(91),c(),a(92,"div",35)(93,"span"),d(94,"We Accept:"),c(),b(95,"i",36)(96,"i",37)(97,"i",38)(98,"i",39),c()()()(),a(99,"a",40),b(100,"i",41),c()()),2&o&&(p(),h("ngIf",!r.isAdminRoute),p(90),D("\xa9 ",r.currentYear," VSP Electronics. All Rights Reserved."))},dependencies:[pe,ve,Ge,Ze],styles:[".footer[_ngcontent-%COMP%]{background:var(--primary-brown);color:#f5f3ef;margin-top:60px;position:relative;width:100%}.featured-brands[_ngcontent-%COMP%]{background:#f8f9fa;padding:48px 0;border-bottom:3px solid var(--primary-brown)}.featured-brands[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{width:100%;max-width:1200px;margin:0 auto;padding:0 16px}.brands-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#fff;background:#06c;padding:12px 24px;display:inline-block;margin-bottom:32px;border-radius:6px}.brands-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:24px;align-items:center;justify-items:center}.brand-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:16px;background:#fff;border-radius:8px;transition:all .3s ease;width:100%;height:90px;box-shadow:0 2px 8px #00000014;position:relative;text-decoration:none}.brand-item[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 20px #0000001f}.brand-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:60px;width:auto;height:auto;object-fit:contain;filter:grayscale(100%);opacity:.75;transition:all .3s ease;display:block}.brand-item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{filter:grayscale(0%);opacity:1;transform:scale(1.05)}.brand-name-fallback[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:#333;text-transform:uppercase;letter-spacing:.5px;transition:all .3s ease;text-align:center}.brand-item[_ngcontent-%COMP%]:hover   .brand-name-fallback[_ngcontent-%COMP%]{color:#06c}.footer-main[_ngcontent-%COMP%]{padding:48px 0 40px}.footer-main[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{width:100%;max-width:1200px;margin:0 auto;padding:0 16px}.footer-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:40px}.footer-column[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;margin-bottom:20px;color:#fff;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.8;color:#bdc3c7;margin-bottom:16px;font-size:14px}.footer-column[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none}.footer-column[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:12px}.footer-column[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#bdc3c7;transition:all .3s ease;display:inline-flex;align-items:center;gap:8px;font-size:14px}.footer-column[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;padding-left:4px;font-weight:500}.contact-info[_ngcontent-%COMP%]{list-style:none}.contact-info[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;color:#bdc3c7;margin-bottom:16px;font-size:14px}.contact-info[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ff6b6b;font-size:18px;margin-top:2px;flex-shrink:0}.social-links[_ngcontent-%COMP%]{display:flex;gap:12px;margin-top:20px}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:40px;height:40px;background:#ffffff1a;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;transition:all .3s ease;text-decoration:none}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#ff6b6b;transform:translateY(-4px);color:#fff}.footer-bottom[_ngcontent-%COMP%]{background:#1a252f;padding:20px 0;border-top:1px solid #34495e}.footer-bottom[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{width:100%;max-width:1200px;margin:0 auto;padding:0 16px}.footer-bottom-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:20px}.footer-bottom[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#bdc3c7;font-size:13px}.payment-methods[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;color:#bdc3c7;font-size:13px}.payment-methods[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:#bdc3c7}.scroll-top[_ngcontent-%COMP%]{position:fixed;bottom:40px;right:40px;width:45px;height:45px;background:#ff6b6b;color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px #0000004d;transition:all .3s ease;z-index:100;text-decoration:none;border:none;cursor:pointer}.scroll-top[_ngcontent-%COMP%]:hover{background:#ff5252;transform:translateY(-4px);color:#fff}@media (max-width: 1024px){.brands-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:20px}.brand-item[_ngcontent-%COMP%]{height:80px}.footer-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:32px}}@media (max-width: 768px){.featured-brands[_ngcontent-%COMP%]{padding:32px 0}.brands-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:16px}.brand-item[_ngcontent-%COMP%]{height:70px;padding:12px}.brands-title[_ngcontent-%COMP%]{font-size:20px;margin-bottom:24px}.footer-main[_ngcontent-%COMP%]{padding:32px 0 24px}.footer-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:24px}.footer-bottom-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.scroll-top[_ngcontent-%COMP%]{width:40px;height:40px;bottom:20px;right:20px;font-size:18px}}@media (max-width: 480px){.brands-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:12px}.brand-item[_ngcontent-%COMP%]{height:60px;padding:10px}.brands-title[_ngcontent-%COMP%]{font-size:18px;padding:10px 16px;margin-bottom:16px}.footer-column[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px;margin-bottom:16px}.footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;margin-bottom:12px}.footer-column[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.footer-column[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:13px}.contact-info[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:12px;font-size:13px}.contact-info[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.footer-bottom[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .payment-methods[_ngcontent-%COMP%]{font-size:12px}.scroll-top[_ngcontent-%COMP%]{width:36px;height:36px;font-size:16px;bottom:16px;right:16px}}"]})}}return t})();function iV(t,n){if(1&t){const e=R();a(0,"div",13)(1,"button",14),C("click",function(){const r=y(e).$implicit;return v(f().removeItem(r.product.id))}),b(2,"i",4),c(),a(3,"div",15),b(4,"img",16),c(),a(5,"div",17)(6,"h3"),d(7),c(),a(8,"p",18),d(9),c(),a(10,"div",19)(11,"button",20),C("click",function(){const r=y(e).$implicit;return v(f().updateQuantity(r.product.id,-1))}),d(12,"-"),c(),b(13,"input",21),a(14,"button",22),C("click",function(){const r=y(e).$implicit;return v(f().updateQuantity(r.product.id,1))}),d(15,"+"),c()()()()}if(2&t){const e=n.$implicit;p(4),h("src",e.product.image,ue)("alt",e.product.name),p(3),S(e.product.name),p(2),D("SKU: ",e.product.id,""),p(2),h("disabled",e.quantity<=1),p(2),h("value",e.quantity)}}let sV=(()=>{class t{constructor(){this.isOpen=!1,this.close=new Ee,this.quoteService=w(fs)}get quoteItems(){return this.quoteService.getQuoteItems()}get quoteCount(){return this.quoteService.quoteCount()}closeSidebar(){this.close.emit()}removeItem(e){this.quoteService.removeFromQuote(e)}updateQuantity(e,o){const r=this.quoteService.getQuoteItems().find(i=>i.product.id===e);r&&this.quoteService.updateQuantity(e,r.quantity+o)}submitQuoteRequest(){const e=this.quoteService.getQuoteItems();if(0===e.length)return void alert("Please add items to your quote before submitting.");const o=this.formatQuoteMessage(e),i=`https://wa.me/?text=${encodeURIComponent(o)}`;window.open(i,"_blank"),this.quoteService.clearQuote(),this.closeSidebar(),alert("Quote request sent! Thank you for your interest.")}formatQuoteMessage(e){return`*Quote Request* \u{1f4cb}\n\nI'm interested in the following items:\n\n${e.map(r=>`\u2022 ${r.product.name} - Qty: ${r.quantity} (\u20b9${r.product.price}/unit)`).join("\n")}\n\nPlease provide a quotation.\n\nThank you!`}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=se({type:t,selectors:[["app-quote-sidebar"]],inputs:{isOpen:"isOpen"},outputs:{close:"close"},standalone:!0,features:[ae],decls:21,vars:6,consts:[[1,"quote-sidebar-overlay",3,"click"],[1,"quote-sidebar"],[1,"sidebar-header"],[1,"close-btn",3,"click"],[1,"fas","fa-times"],[1,"sidebar-content"],[1,"quote-items"],["class","quote-item",4,"ngFor","ngForOf"],[1,"sidebar-footer"],[1,"footer-info"],[1,"count"],["routerLink","/quote",1,"btn","btn-view",3,"click"],[1,"btn","btn-submit",3,"click"],[1,"quote-item"],[1,"remove-btn",3,"click"],[1,"item-image"],["onerror","this.src='assets/images/placeholder.jpg'",3,"src","alt"],[1,"item-info"],[1,"item-sku"],[1,"quantity-control"],[3,"click","disabled"],["type","number","readonly","",3,"value"],[3,"click"]],template:function(o,r){1&o&&(a(0,"div",0),C("click",function(){return r.closeSidebar()}),c(),a(1,"div",1)(2,"div",2)(3,"h2"),d(4,"Quote Request"),c(),a(5,"button",3),C("click",function(){return r.closeSidebar()}),b(6,"i",4),d(7," Close "),c()(),a(8,"div",5)(9,"div",6),P(10,iV,16,6,"div",7),c()(),a(11,"div",8)(12,"div",9)(13,"span"),d(14,"Total Items:"),c(),a(15,"span",10),d(16),c()(),a(17,"a",11),C("click",function(){return r.closeSidebar()}),d(18," VIEW QUOTE "),c(),a(19,"button",12),C("click",function(){return r.submitQuoteRequest()}),d(20," SUBMIT REQUEST "),c()()()),2&o&&(B("active",r.isOpen),p(),B("active",r.isOpen),p(9),h("ngForOf",r.quoteService.getQuoteItems()),p(6),S(r.quoteService.quoteCount()))},dependencies:[pe,De,Ge,Ze],styles:[".quote-sidebar-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:998;opacity:0;visibility:hidden;pointer-events:none;transition:all .3s ease}.quote-sidebar-overlay.active[_ngcontent-%COMP%]{opacity:1;visibility:visible;pointer-events:auto}.quote-sidebar[_ngcontent-%COMP%]{position:fixed;top:180px;right:-100%;width:500px;max-width:100%;height:calc(100vh - 180px);background:#fff;z-index:999;display:flex;flex-direction:column;transition:right .3s ease;box-shadow:-2px 0 10px #0000001a;overflow:hidden}.quote-sidebar.active[_ngcontent-%COMP%]{right:0}.sidebar-header[_ngcontent-%COMP%]{padding:20px 25px;border-bottom:1px solid #eee;display:flex;justify-content:space-between;align-items:center;background:#f8f9fa;flex-shrink:0}.sidebar-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin:0;color:#333}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1rem;cursor:pointer;color:#666;display:flex;align-items:center;gap:8px;padding:8px 12px;border-radius:4px;transition:all .2s}.close-btn[_ngcontent-%COMP%]:hover{background:#e9ecef;color:#333}.sidebar-content[_ngcontent-%COMP%]{flex:1 1 auto;overflow-y:auto;padding:20px;background:#f9f9f9}.quote-items[_ngcontent-%COMP%]{display:block;padding-top:0;margin-top:0}.quote-item[_ngcontent-%COMP%]{display:flex;gap:15px;padding:15px;background:#fff;border:1px solid #ddd;border-radius:8px;margin-bottom:15px;position:relative}.remove-btn[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;width:20px!important;height:20px!important;border:1px solid #ccc!important;background:#f5f5f5!important;color:#333!important;border-radius:50%;cursor:pointer;display:flex!important;align-items:center;justify-content:center;font-size:.9rem!important;transition:all .2s;visibility:visible!important;opacity:1!important;z-index:10!important}.remove-btn[_ngcontent-%COMP%]:hover{background:#f44336;color:#fff}.item-image[_ngcontent-%COMP%]{flex-shrink:0;width:80px;height:80px}.item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:6px;background:#f5f5f5}.item-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:8px}.item-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px;line-height:1.4;margin:0;color:#333;font-weight:600}.item-sku[_ngcontent-%COMP%]{font-size:13px;color:#666;margin:0}.quantity-control[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-top:8px}.quantity-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:28px;height:28px;border:1px solid #ddd;background:#fff;border-radius:4px;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:14px;color:#333;transition:all .2s}.quantity-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:50px;text-align:center;border:1px solid #ddd;border-radius:4px;padding:4px;font-weight:600;font-size:13px}.quantity-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){background:#4caf50;border-color:#4caf50;color:#fff}.quantity-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:not-allowed}.quantity-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:45px;text-align:center;border:1px solid #ddd;border-radius:4px;padding:4px;font-weight:600;font-size:.9rem}.empty-message[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;color:#999;text-align:center}.empty-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:15px}.empty-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin:0}.sidebar-footer[_ngcontent-%COMP%]{padding:20px 25px;border-top:1px solid #eee;background:#fff;flex-shrink:0}.footer-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;font-size:1rem;font-weight:500}.footer-info[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{background:#4caf50;color:#fff;padding:4px 12px;border-radius:20px;font-weight:600;font-size:.95rem}.btn[_ngcontent-%COMP%]{width:100%;padding:14px;border:none;border-radius:6px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s;text-align:center;text-decoration:none;display:block}.btn-view[_ngcontent-%COMP%]{background:#28a745;color:#fff;margin-bottom:10px}.btn-view[_ngcontent-%COMP%]:hover{background:#218838}.btn-submit[_ngcontent-%COMP%]{background:#8b4513;color:#fff}.btn-submit[_ngcontent-%COMP%]:hover{background:#6d3410}@media (max-width: 576px){.quote-sidebar[_ngcontent-%COMP%]{width:100%}.item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px;height:70px}}"]})}}return t})(),aV=(()=>{class t{constructor(e,o){this.quoteService=e,this.router=o,this.title="VSP Electronics"}ngOnInit(){this.router.events.pipe(Bn(e=>e instanceof zn)).subscribe(()=>{window.scrollTo(0,0)})}static{this.\u0275fac=function(o){return new(o||t)(V(fs),V(me))}}static{this.\u0275cmp=se({type:t,selectors:[["app-root"]],standalone:!0,features:[ae],decls:7,vars:1,consts:[[3,"close","isOpen"],["href","https://wa.me/919951130198?text=Welcome%20to%20VSP%20Electronics!%20How%20can%20we%20help%20you%20today?","target","_blank","title","Chat with us on WhatsApp",1,"whatsapp-float"],[1,"fab","fa-whatsapp"]],template:function(o,r){1&o&&(b(0,"app-header"),a(1,"main"),b(2,"router-outlet"),c(),b(3,"app-footer"),a(4,"app-quote-sidebar",0),C("close",function(){return r.quoteService.closeSidebar()}),c(),a(5,"a",1),b(6,"i",2),c()),2&o&&(p(4),h("isOpen",r.quoteService.sidebarOpen()))},dependencies:[nm,jU,rV,sV],styles:["main[_ngcontent-%COMP%]{min-height:calc(100vh - 400px)}"]})}}return t})(),Vo=(()=>{class t{constructor(e){this.http=e,this.apiUrl=`${ot_apiUrl}/products`,console.log("BackendProductService initialized with API URL:",this.apiUrl)}mapProduct(e){const o=e.metadata||{};return{id:String(e.id),name:e.name,price:parseFloat(e.price)||0,originalPrice:e.original_price?parseFloat(e.original_price):void 0,image:e.image,category:e.category,subcategory:e.subcategory,brand:e.brand,rating:parseFloat(e.rating)||0,inStock:!0===e.in_stock||"true"===e.in_stock,stockCount:e.stock_count?parseInt(e.stock_count):0,isHot:!0===e.is_hot||"true"===e.is_hot,isNew:!0===e.is_new||"true"===e.is_new,isFeatured:!0===e.is_featured||"true"===e.is_featured,description:e.description,aboutProduct:e.about_product||o.about_product,sku:e.sku,productUrl:e.product_url,packageIncludes:o.package_includes,specifications:o.specifications,features:o.features,images:e.images||o.images||[]}}getProducts(e){let o=new Uo;return e&&(e.category&&(o=o.set("category",e.category)),e.subcategory&&(o=o.set("subcategory",e.subcategory)),e.brand&&(o=o.set("brand",e.brand)),e.search&&(o=o.set("search",e.search)),e.limit&&(o=o.set("limit",e.limit.toString())),e.offset&&(o=o.set("offset",e.offset.toString()))),console.log("Calling API:",this.apiUrl,"with params:",e),this.http.get(this.apiUrl,{params:o}).pipe(ie(r=>(r.data&&Array.isArray(r.data)&&(r.data=r.data.map(i=>this.mapProduct(i))),r)))}getProductById(e){return this.http.get(`${this.apiUrl}/${e}`).pipe(ie(o=>(o.data&&(o.data=this.mapProduct(o.data)),o)))}createProduct(e){return this.http.post(this.apiUrl,e)}updateProduct(e,o){return this.http.put(`${this.apiUrl}/${e}`,o)}deleteProduct(e){return this.http.delete(`${this.apiUrl}/${e}`)}bulkImportProducts(e){return this.http.post(`${this.apiUrl}/bulk/import`,{productsData:e})}clearAllProducts(){return this.http.delete(`${this.apiUrl}/admin/clear`)}getProductStats(){return this.http.get(`${this.apiUrl}/stats/summary`)}searchProducts(e){return this.getProducts({search:e})}filterByCategory(e){return this.getProducts({category:e})}filterByBrand(e){return this.getProducts({brand:e})}getCategoriesWithDetails(){return this.http.get(`${ot_apiUrl}/categories`,{params:{includeDetails:"true"}}).pipe(ie(o=>Array.isArray(o)?o.map(r=>({id:String(r.id),name:r.name,slug:r.slug,image:r.image_url||r.image||"assets/images/placeholder.jpg",productCount:r.product_count||0,description:r.description,subcategories:r.subcategories?r.subcategories.map(i=>({id:String(i.id),name:i.name,slug:i.slug,productCount:i.product_count||0,image:i.image_url||i.image})):[]})):o))}getCategoryBySlug(e){return this.http.get(`${ot_apiUrl}/categories/slug/${e}`).pipe(ie(r=>r&&r.data?r.data:r))}static{this.\u0275fac=function(o){return new(o||t)(W(kt))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),hs=(()=>{class t{constructor(e){this.backend=e,this.defaultProducts=[],this.products=Mt([]),this.categories=Mt([{id:"1",name:"3D printers parts",slug:"3d-printers-parts",image:"assets/images/categories/3d-printers.jpg",productCount:46},{id:"2",name:"AC MOTOR",slug:"ac-motor",image:"assets/images/categories/ac-motor.jpg",productCount:2},{id:"3",name:"Accessories",slug:"accessories",image:"assets/images/categories/accessories.jpg",productCount:169,subcategories:[{id:"3-1",name:"Connectors",slug:"connectors",productCount:18,image:"/assets/images/products/amass-xt90-male-female-connector.jpg"},{id:"3-2",name:"DIP Converters",slug:"dip-converters",productCount:3,image:"/assets/images/products/type-c-to-dip-converter.jpg"},{id:"3-3",name:"IOT",slug:"iot",productCount:2,image:"/assets/images/products/arduino-uno-kit-akx00037.jpg"},{id:"3-4",name:"Keypad",slug:"keypad",productCount:6,image:"/assets/images/products/4x4-matrix-membrane-keypad.jpg"},{id:"3-5",name:"Silicone Wires",slug:"silicone-wires",productCount:18,image:"/assets/images/products/16-awg-silicone-wire-red.jpg"},{id:"3-6",name:"Twezzers",slug:"twezzers",productCount:5,image:"/assets/images/products/anti-static-tweezers-6pcs-set.jpg"},{id:"3-7",name:"USB Cables",slug:"usb",productCount:1,image:"/assets/images/products/cable-for-arduino-uno-mega-usb-a-to-b.jpg"}]},{id:"4",name:"Agriculture Drone Parts",slug:"agriculture-drone-parts",image:"assets/images/categories/agriculture-drone-parts.jpg",productCount:31},{id:"5",name:"ANTENNA",slug:"antenna",image:"assets/images/categories/antenna.jpg",productCount:69},{id:"6",name:"Audio Jack",slug:"audio-jack",image:"assets/images/categories/audio-jack.jpg",productCount:24},{id:"7",name:"BATTERY",slug:"battery",image:"assets/images/categories/battery.jpg",productCount:41,subcategories:[{id:"7-1",name:"Battery Holders",slug:"battery-holders",productCount:5,image:"/assets/images/products/placeholder.jpg"},{id:"7-2",name:"Battery Chargers",slug:"battery-chargers",productCount:8,image:"/assets/images/products/placeholder.jpg"},{id:"7-3",name:"LiPo Batteries",slug:"lipo-batteries",productCount:15,image:"/assets/images/products/placeholder.jpg"},{id:"7-4",name:"Battery Connectors",slug:"battery-connectors",productCount:5,image:"/assets/images/products/placeholder.jpg"}]},{id:"8",name:"ROBOTIC DIY KITS",slug:"robotic-diy-kits",image:"assets/images/categories/robotic-kits.jpg",productCount:14},{id:"9",name:"READY RUNNING PROJECTS",slug:"ready-running-projects",image:"assets/images/categories/ready-running-projects.jpg",productCount:19},{id:"10",name:"Raspberry Pi Boards",slug:"raspberry",image:"assets/images/categories/raspberry.jpg",productCount:12,subcategories:[{id:"10-1",name:"RPI Accessories",slug:"raspberry/rpi-accessories",productCount:50,image:"/assets/images/products/placeholder.jpg"}]},{id:"11",name:"MINI DRONE KITS ( BELOW 20CMS )",slug:"mini-drone-kits",image:"assets/images/categories/mini-drone-kits.jpg",productCount:3},{id:"12",name:"DRONE TRANSMITER AND RECEIVER",slug:"drone-transmiter-receiver",image:"assets/images/categories/drone-transmiter.jpg",productCount:16},{id:"13",name:"DIY KITS",slug:"diy-kits",image:"assets/images/categories/diy-kits.jpg",productCount:105,subcategories:[{id:"13-1",name:"ACEBOTT",slug:"acebott-kits",productCount:14,image:"/assets/images/products/3in1-acebott-esp32-smart-home-lv1.jpg"},{id:"13-2",name:"AM ROBOTICS",slug:"am-robotics-kits",productCount:26,image:"/assets/images/products/placeholder.jpg"},{id:"13-3",name:"dbolo Kits",slug:"dbolo-kits",productCount:4,image:"/assets/images/products/placeholder.jpg"},{id:"13-4",name:"JSB DIY KITS",slug:"jsb-diy-kits",productCount:15,image:"/assets/images/products/placeholder.jpg"},{id:"13-5",name:"ROBOTIC DIY KITS",slug:"robotic-diy-kits",productCount:14,image:"assets/images/categories/robotic-kits.jpg"},{id:"13-6",name:"MINI DRONE KITS ( BELOW 20CMS )",slug:"mini-drone-kits",productCount:3,image:"assets/images/categories/mini-drone-kits.jpg"}]},{id:"14",name:"Bonka Batteries",slug:"bonka",image:"assets/images/categories/bonka.jpg",productCount:31},{id:"15",name:"BMS",slug:"bms",image:"assets/images/categories/battery.jpg",productCount:25},{id:"16",name:"Shield Accessories",slug:"shield-accessories",image:"assets/images/categories/accessories.jpg",productCount:33},{id:"17",name:"Wheels",slug:"wheels",image:"/assets/images/categories/robotic-kits.jpg",productCount:30},{id:"18",name:"Wireless Modules",slug:"wireless-modules",image:"assets/images/categories/antenna.jpg",productCount:35}]),this.brands=Mt([{id:"1",name:"ACEBOTT",slug:"acebott",image:"assets/images/brands/LOGO.png"},{id:"2",name:"Amass",slug:"amass",image:"assets/images/brands/Amass-1.jpg"},{id:"3",name:"Arduino",slug:"arduino",image:"assets/images/brands/Arduino.png"},{id:"4",name:"BONKA",slug:"bonka",image:"assets/images/brands/BONKA.png"},{id:"5",name:"EFT",slug:"eft",image:"assets/images/brands/EFT-1.jpg"},{id:"6",name:"Elcon",slug:"elcon",image:"assets/images/brands/Elcon-1-e1713075585301.jpg"},{id:"7",name:"EMAX",slug:"emax",image:"assets/images/brands/EMAX-LOGO.png"},{id:"8",name:"Hobbywing",slug:"hobbywing",image:"assets/images/brands/Hobbywing.png"},{id:"9",name:"JIYI",slug:"jiyi",image:"assets/images/brands/LOGO.png"},{id:"10",name:"Mastech",slug:"mastech",image:"assets/images/brands/Mastech-1.png"},{id:"11",name:"Raspberry Pi",slug:"raspberry-pi",image:"assets/images/brands/pi.jpg"},{id:"12",name:"SKYDROID",slug:"skydroid",image:"assets/images/brands/SKydroid.jpg"},{id:"13",name:"SKYRC",slug:"skyrc",image:"assets/images/brands/SKYRC.png"},{id:"14",name:"TATTU",slug:"tattu",image:"assets/images/brands/TATTU.jpg"}]),localStorage.removeItem("drone_shop_products"),localStorage.removeItem("drone_shop_categories");const o=localStorage.getItem("drone_shop_products");if(o)try{const r=JSON.parse(o);this.products.set(r)}catch(r){console.error("Error loading products from localStorage:",r)}this.backend.getProducts({limit:1e3}).subscribe({next:r=>{const i=r.data||r;Array.isArray(i)&&i.length>0?(this.products.set(i),localStorage.setItem("drone_shop_products",JSON.stringify(i)),console.log(`\u2705 Loaded ${i.length} products from backend into ProductService`)):this.products.set(this.defaultProducts)},error:r=>{console.warn("Could not load products from backend:",r?.message||r),this.products.set(this.defaultProducts)}})}getProducts(){return this.products()}getProductById(e){return this.products().find(o=>o.id===e)}getProductsByCategory(e){if(e.includes("/")){const r=e.split("/"),i=r[0],s=r.slice(1).join("/"),l=i.toLowerCase().replace(/-/g," "),u=s.toLowerCase().replace(/-/g," ");let g=u;return g.endsWith(" kits")&&(g=g.replace(/ kits$/,"")),this.products().filter(m=>{const _=m.category.toLowerCase().replace(/-/g," "),x=(m.subcategory||"").toLowerCase().replace(/-/g," "),M=m.brand.toLowerCase().replace(/-/g," ");return!(_!==g&&_!==u&&!_.includes(g)&&!_.includes(u))||!!_.includes(l)&&(M===u||M===g||M.includes(g)||x===u||x.includes(u))})}const o=e.toLowerCase().replace(/-/g," ");return this.products().filter(r=>r.category.toLowerCase().replace(/-/g," ").includes(o))}getCategories(){return this.categories()}getCategoryBySlug(e){if(e.includes("/")){const r=e.split("/"),i=r[0],s=r.slice(1).join("/"),l=this.categories().find(u=>u.slug===i);if(l&&l.subcategories){const u=l.subcategories.find(g=>g.slug===s||g.slug===e||`${i}/${g.slug}`===e);if(u)return{id:u.id,name:u.name,slug:`${i}/${u.slug}`,image:u.image||l.image,productCount:u.productCount,description:""}}}const o=this.categories().find(r=>r.slug===e);if(o)return o;for(const r of this.categories())if(r.subcategories){const i=r.subcategories.find(s=>s.slug===e||`${r.slug}/${s.slug}`===e);if(i)return{id:i.id,name:i.name,slug:`${r.slug}/${i.slug}`,image:i.image||r.image,productCount:i.productCount,description:""}}}getBrands(){return this.brands()}getFeaturedProducts(){return this.products().filter(e=>e.isFeatured).slice(0,10)}getNewProducts(){return this.products().filter(e=>e.isNew).slice(0,10)}getTopSellerProducts(){return this.products().filter(e=>e.rating&&e.rating>0).sort((e,o)=>(o.rating||0)-(e.rating||0)).slice(0,10)}getAllProducts(){return this.products()}getAllCategories(){return this.categories()}setProducts(e){try{this.products.set(e),localStorage.setItem("drone_shop_products",JSON.stringify(e))}catch(o){throw console.error("Error saving products:",o),o}}addProduct(e){return this.backend.createProduct(e)}resetToDefaultProducts(){try{return localStorage.removeItem("drone_shop_products"),this.products.set(this.defaultProducts),localStorage.setItem("drone_shop_products",JSON.stringify(this.defaultProducts)),!0}catch(e){return console.error("Error resetting products:",e),!1}}static{this.\u0275fac=function(o){return new(o||t)(W(Vo))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const cV=t=>["/product",t],lV=()=>[1,2,3,4,5];function dV(t,n){1&t&&(a(0,"span",22),d(1,"HOT"),c())}function uV(t,n){1&t&&(a(0,"span",23),d(1,"NEW"),c())}function pV(t,n){if(1&t&&(a(0,"span",24),d(1),c()),2&t){const e=f();p(),D("-",e.getDiscountPercentage(),"%")}}function gV(t,n){if(1&t&&(a(0,"div",25)(1,"span",26),d(2,"Brand:"),c(),d(3),c()),2&t){const e=f();p(3),D(" ",e.product.brand," ")}}function fV(t,n){1&t&&b(0,"i",27),2&t&&B("filled",n.$implicit<=f().product.rating)}function hV(t,n){if(1&t&&(a(0,"span",28),d(1),c()),2&t){const e=f();p(),D("\u20b9",e.product.originalPrice,"")}}let Um=(()=>{class t{constructor(){this.loginRequired=new Ee,this.imageLoaded=!1,this.cartService=w(fr),this.wishlistService=w(mc),this.authService=w(Qe)}onImageLoad(){this.imageLoaded=!0}onImageError(e){e.target.src="/assets/images/placeholder.jpg"}addToCart(e){e.preventDefault(),e.stopPropagation(),this.authService.requireLogin()?this.loginRequired.emit("Please login to add items to cart"):this.cartService.addToCart(this.product)}toggleWishlist(e){e.preventDefault(),e.stopPropagation(),this.authService.requireLogin()?this.loginRequired.emit("Please login to add items to wishlist"):this.wishlistService.isInWishlist(this.product.id)?this.wishlistService.removeFromWishlist(this.product.id):this.wishlistService.addToWishlist(this.product)}isInWishlist(){return this.wishlistService.isInWishlist(this.product.id)}getDiscountPercentage(){return this.product.originalPrice&&this.product.originalPrice>this.product.price?Math.round((this.product.originalPrice-this.product.price)/this.product.originalPrice*100):null}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=se({type:t,selectors:[["app-product-card"]],inputs:{product:"product"},outputs:{loginRequired:"loginRequired"},standalone:!0,features:[ae],decls:26,vars:23,consts:[[1,"product-card"],[1,"product-link",3,"routerLink"],[1,"product-badges"],["class","badge badge-hot",4,"ngIf"],["class","badge badge-new",4,"ngIf"],["class","badge badge-discount",4,"ngIf"],[1,"product-image"],[3,"load","error","src","alt"],[1,"product-info"],[1,"product-name"],["class","product-brand",4,"ngIf"],[1,"product-rating"],["class","fas fa-star",3,"filled",4,"ngFor","ngForOf"],[1,"product-price"],[1,"current-price"],["class","original-price",4,"ngIf"],[1,"product-stock"],[1,"product-actions"],[1,"btn-icon","wishlist-btn",3,"click"],[1,"fas","fa-heart"],[1,"btn","btn-primary","add-to-cart",3,"click","disabled"],[1,"fas","fa-shopping-cart"],[1,"badge","badge-hot"],[1,"badge","badge-new"],[1,"badge","badge-discount"],[1,"product-brand"],[1,"brand-label"],[1,"fas","fa-star"],[1,"original-price"]],template:function(o,r){1&o&&(a(0,"div",0)(1,"a",1)(2,"div",2),P(3,dV,2,0,"span",3)(4,uV,2,0,"span",4)(5,pV,2,1,"span",5),c(),a(6,"div",6)(7,"img",7),C("load",function(){return r.onImageLoad()})("error",function(s){return r.onImageError(s)}),c()(),a(8,"div",8)(9,"h3",9),d(10),c(),P(11,gV,4,1,"div",10),a(12,"div",11),P(13,fV,1,2,"i",12),c(),a(14,"div",13)(15,"span",14),d(16),c(),P(17,hV,2,1,"span",15),c(),a(18,"div",16),d(19),c()()(),a(20,"div",17)(21,"button",18),C("click",function(s){return r.toggleWishlist(s)}),b(22,"i",19),c(),a(23,"button",20),C("click",function(s){return r.addToCart(s)}),b(24,"i",21),d(25," Add to Cart "),c()()()),2&o&&(p(),h("routerLink",Et(20,cV,r.product.id)),p(2),h("ngIf",r.product.isHot),p(),h("ngIf",r.product.isNew),p(),h("ngIf",r.getDiscountPercentage()),p(2),B("loaded",r.imageLoaded),h("src",r.product.image||"assets/images/placeholder.jpg",ue)("alt",r.product.name),p(3),S(r.product.name),p(),h("ngIf",r.product.brand),p(2),h("ngForOf",Xe(22,lV)),p(3),D("\u20b9",r.product.price,""),p(),h("ngIf",r.product.originalPrice),p(),B("out-of-stock",!r.product.inStock),p(),D(" ",r.product.inStock?"In Stock":"Out of Stock"," "),p(2),B("active",r.isInWishlist()),xn("aria-label",r.isInWishlist()?"Remove from wishlist":"Add to wishlist"),p(2),h("disabled",!r.product.inStock))},dependencies:[pe,De,ve,Ge,Ze],styles:[".product-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;overflow:hidden;box-shadow:0 2px 8px #00000014;transition:all .3s ease;position:relative;border:1px solid var(--border-light);will-change:transform;contain:layout style paint;display:flex;flex-direction:column;height:100%}.product-card[_ngcontent-%COMP%]:hover{transform:translateY(-6px);box-shadow:0 12px 24px #0066cc2e;border-color:var(--primary-brown)}.product-card[_ngcontent-%COMP%]:active{transform:translateY(-2px)}.product-card[_ngcontent-%COMP%]   .product-link[_ngcontent-%COMP%]{display:block;color:inherit;text-decoration:none;flex:1}.product-badges[_ngcontent-%COMP%]{position:absolute;top:8px;left:8px;z-index:10;display:flex;flex-direction:column;gap:6px}.badge[_ngcontent-%COMP%]{padding:4px 10px;font-size:10px;font-weight:700;border-radius:4px;color:#fff;text-transform:uppercase;letter-spacing:.5px}.badge-hot[_ngcontent-%COMP%]{background:var(--red-accent)}.badge-new[_ngcontent-%COMP%]{background:var(--blue-link)}.badge-discount[_ngcontent-%COMP%]{background:var(--green-success);font-size:11px;font-weight:800}.product-image[_ngcontent-%COMP%]{height:200px;overflow:hidden;background:linear-gradient(135deg,#f5f5f5,#fff);display:flex;align-items:center;justify-content:center;position:relative;contain:strict}.product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block;transform:translateZ(0);backface-visibility:hidden;-webkit-backface-visibility:hidden;-webkit-font-smoothing:antialiased;pointer-events:none;opacity:0;transition:opacity .3s ease,transform .3s ease}.product-image[_ngcontent-%COMP%]   img.loaded[_ngcontent-%COMP%]{opacity:1}.product-card[_ngcontent-%COMP%]:hover   .product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.06)}.product-info[_ngcontent-%COMP%]{padding:14px;flex-grow:1;display:flex;flex-direction:column;gap:8px;justify-content:space-between}.product-name[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:#222;line-height:1.4;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;height:36px;letter-spacing:.3px;margin:0}.product-brand[_ngcontent-%COMP%]{font-size:11px;color:#06c;margin:0;padding:2px 6px;background:transparent;border-radius:3px;display:inline-block;font-weight:600}.product-brand[_ngcontent-%COMP%]   .brand-label[_ngcontent-%COMP%]{font-weight:700;color:#06c}.product-rating[_ngcontent-%COMP%]{margin:0;display:flex;align-items:center;gap:4px;font-size:11px}.product-rating[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:11px;color:#ddd;width:12px}.product-rating[_ngcontent-%COMP%]   i.filled[_ngcontent-%COMP%]{color:#ffc107}.product-price[_ngcontent-%COMP%]{margin:0;display:flex;align-items:baseline;gap:8px;flex-wrap:wrap}.current-price[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#06c;letter-spacing:-.5px}.original-price[_ngcontent-%COMP%]{font-size:12px;color:#999;text-decoration:line-through;font-weight:500}.product-stock[_ngcontent-%COMP%]{font-size:11px;color:var(--green-success);font-weight:700;margin:0;text-transform:uppercase;letter-spacing:.5px}.product-stock.out-of-stock[_ngcontent-%COMP%]{color:var(--red-accent)}.product-actions[_ngcontent-%COMP%]{display:flex;gap:8px;padding:0 12px 12px}.btn-icon[_ngcontent-%COMP%]{width:36px;height:36px;min-width:36px;border:2px solid #ddd;border-radius:5px;background:#fff;color:#666;display:flex;align-items:center;justify-content:center;transition:all .3s ease;cursor:pointer;font-size:14px;padding:0}.btn-icon[_ngcontent-%COMP%]:hover{border-color:var(--primary-brown);color:var(--primary-brown);background:#fff}.btn-icon.active[_ngcontent-%COMP%]{background:#e74c3c;border-color:#e74c3c;color:#fff}.btn-icon.active[_ngcontent-%COMP%]:hover{background:#c0392b;border-color:#c0392b}.add-to-cart[_ngcontent-%COMP%]{flex:1;padding:8px 12px;font-size:12px;display:flex;align-items:center;justify-content:center;gap:6px;font-weight:600;min-height:36px}.add-to-cart[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed;color:#666}.add-to-cart[_ngcontent-%COMP%]:disabled:hover{background:#ccc;transform:none}@media (max-width: 1024px){.product-image[_ngcontent-%COMP%]{height:180px}.product-info[_ngcontent-%COMP%]{padding:12px;gap:6px}.product-name[_ngcontent-%COMP%]{font-size:12px;height:33px}.current-price[_ngcontent-%COMP%]{font-size:15px}}@media (max-width: 768px){.product-image[_ngcontent-%COMP%]{height:160px}.product-info[_ngcontent-%COMP%]{padding:10px;gap:6px}.product-name[_ngcontent-%COMP%]{font-size:12px;height:30px;-webkit-line-clamp:2}.product-brand[_ngcontent-%COMP%], .product-rating[_ngcontent-%COMP%]{font-size:10px}.current-price[_ngcontent-%COMP%]{font-size:14px}.original-price[_ngcontent-%COMP%]{font-size:11px}.product-stock[_ngcontent-%COMP%]{font-size:10px}.product-actions[_ngcontent-%COMP%]{gap:6px;padding:0 10px 10px}.btn-icon[_ngcontent-%COMP%]{width:32px;height:32px;min-width:32px;font-size:12px}.add-to-cart[_ngcontent-%COMP%]{font-size:11px;padding:6px 10px;min-height:32px;gap:4px}}@media (max-width: 480px){.product-image[_ngcontent-%COMP%]{height:140px}.product-info[_ngcontent-%COMP%]{padding:8px;gap:5px}.product-name[_ngcontent-%COMP%]{font-size:11px;height:27px;-webkit-line-clamp:2}.product-brand[_ngcontent-%COMP%], .product-rating[_ngcontent-%COMP%]{font-size:9px}.current-price[_ngcontent-%COMP%]{font-size:13px}.original-price[_ngcontent-%COMP%]{font-size:10px}.product-stock[_ngcontent-%COMP%]{font-size:9px}.product-actions[_ngcontent-%COMP%]{gap:4px;padding:0 8px 8px}.btn-icon[_ngcontent-%COMP%]{width:28px;height:28px;min-width:28px;font-size:11px;border-width:1px}.add-to-cart[_ngcontent-%COMP%]{font-size:10px;padding:5px 8px;min-height:28px;gap:3px}}"]})}}return t})();const mV=["*"];function _V(t,n){if(1&t){const e=R();a(0,"button",9),C("click",function(){const r=y(e).index;return v(f().goToSlide(r))}),c()}if(2&t){const e=n.index;B("active",f().currentIndex===e),xn("aria-label","Go to image "+(e+1))}}let bV=(()=>{class t{constructor(){this.droneImages=[{id:1,src:"assets/images/drones/Agri.png",alt:"Drone Agriculture Photography"},{id:2,src:"assets/images/drones/Building.png",alt:"Drone Building Photography"},{id:3,src:"assets/images/drones/forest.jpg",alt:"Drone Forest Photography"},{id:4,src:"assets/images/drones/Golconda.png",alt:"Golconda Drone Photography"},{id:5,src:"assets/images/drones/HussianSagar.png",alt:"Hussian Sagar Drone Photography"},{id:6,src:"assets/images/drones/Sea Bridge.png",alt:"Sea Bridge Drone Photography"}],this.currentIndex=0}ngOnInit(){this.startAutoScroll()}ngOnDestroy(){this.autoScrollInterval&&clearInterval(this.autoScrollInterval)}startAutoScroll(){this.autoScrollInterval=setInterval(()=>{this.nextSlide()},4e3)}nextSlide(){this.currentIndex=(this.currentIndex+1)%this.droneImages.length}prevSlide(){this.currentIndex=(this.currentIndex-1+this.droneImages.length)%this.droneImages.length}goToSlide(e){this.currentIndex=e}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=se({type:t,selectors:[["app-drone-carousel"]],standalone:!0,features:[ae],ngContentSelectors:mV,decls:15,vars:5,consts:[[1,"drone-carousel"],[1,"carousel-main"],["loading","lazy","decoding","async",1,"carousel-image",3,"src","alt"],[1,"carousel-overlay"],["aria-label","Previous image",1,"carousel-arrow","prev",3,"click"],["aria-label","Next image",1,"carousel-arrow","next",3,"click"],[1,"image-counter"],[1,"carousel-dots"],["class","dot",3,"active","click",4,"ngFor","ngForOf"],[1,"dot",3,"click"]],template:function(o,r){1&o&&(function lC(t){const n=L()[Je][Ft];if(!n.projection){const o=n.projection=function Rc(t,n){const e=[];for(let o=0;o<t;o++)e.push(n);return e}(t?t.length:1,null),r=o.slice();let i=n.child;for(;null!==i;){const s=t?CA(i,t):0;null!==s&&(r[s]?r[s].projectionNext=i:o[s]=i,r[s]=i),i=i.next}}}(),a(0,"div",0)(1,"div",1),b(2,"img",2),a(3,"div",3),function dC(t,n=0,e){const o=L(),r=he(),i=Mi(r,oe+t,16,null,e||null);null===i.projection&&(i.projection=n),Op(),(!o[dn]||ui())&&32&~i.flags&&function kS(t,n,e){cb(n[Z],0,n,e,yg(t,e,n),nb(e.parent||n[Ft],e,n))}(r,o,i)}(4),c(),a(5,"button",4),C("click",function(){return r.prevSlide()}),a(6,"span"),d(7,"\u276e"),c()(),a(8,"button",5),C("click",function(){return r.nextSlide()}),a(9,"span"),d(10,"\u276f"),c()(),a(11,"div",6),d(12),c()(),a(13,"div",7),P(14,_V,1,3,"button",8),c()()),2&o&&(p(2),h("src",r.droneImages[r.currentIndex].src,ue)("alt",r.droneImages[r.currentIndex].alt),p(10),rn(" ",r.currentIndex+1," / ",r.droneImages.length," "),p(2),h("ngForOf",r.droneImages))},dependencies:[pe,De],styles:[".drone-carousel[_ngcontent-%COMP%]{position:relative;width:100%;background:#f5f5f5;border-radius:0;overflow:hidden;margin:0}.carousel-main[_ngcontent-%COMP%]{position:relative;width:100%;height:600px;overflow:hidden;background:linear-gradient(135deg,#e0e0e0,#f5f5f5)}.carousel-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;object-position:center;display:block;animation:_ngcontent-%COMP%_fadeIn .6s ease-in-out;background-color:#1a1a1a;background-size:cover}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.carousel-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(135deg,#00000059 0% 100%);display:flex;align-items:center;justify-content:center;z-index:5;color:#fff;text-align:center}.carousel-arrow[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background:#00000080;color:#fff;border:none;width:50px;height:50px;border-radius:50%;font-size:24px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s ease;z-index:10}.carousel-arrow[_ngcontent-%COMP%]:hover{background:#000c;transform:translateY(-50%) scale(1.1)}.carousel-arrow.prev[_ngcontent-%COMP%]{left:20px}.carousel-arrow.next[_ngcontent-%COMP%]{right:20px}.image-counter[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:20px;background:#0009;color:#fff;padding:8px 16px;border-radius:20px;font-size:14px;font-weight:600;z-index:10}.carousel-dots[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:12px;padding:20px;background:#fff}.dot[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;background:#ddd;border:2px solid #999;cursor:pointer;transition:all .3s ease;padding:0}.dot[_ngcontent-%COMP%]:hover{background:#bbb;transform:scale(1.2)}.dot.active[_ngcontent-%COMP%]{background:#06c;border-color:#06c;width:14px;height:14px}@media (max-width: 768px){.carousel-main[_ngcontent-%COMP%]{height:300px}.carousel-arrow[_ngcontent-%COMP%]{width:40px;height:40px;font-size:18px}.carousel-arrow.prev[_ngcontent-%COMP%]{left:10px}.carousel-arrow.next[_ngcontent-%COMP%]{right:10px}.image-counter[_ngcontent-%COMP%]{font-size:12px;padding:6px 12px;bottom:15px;right:15px}.dot[_ngcontent-%COMP%]{width:10px;height:10px;gap:8px}}@media (max-width: 480px){.carousel-main[_ngcontent-%COMP%]{height:200px}.carousel-arrow[_ngcontent-%COMP%]{width:35px;height:35px;font-size:16px}.carousel-dots[_ngcontent-%COMP%]{gap:8px;padding:15px}}"]})}}return t})(),q2=(()=>{class t{constructor(e){this.http=e,this.apiUrl=`${ot_apiUrl}/recently-viewed`,this.recentlyViewedSubject=new st([]),this.recentlyViewed$=this.recentlyViewedSubject.asObservable(),this.userId=this.getUserId(),this.loadRecentlyViewed()}getUserId(){let e=localStorage.getItem("vsp_user_id");return e||(e="user_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),localStorage.setItem("vsp_user_id",e)),e}addToRecentlyViewed(e){return this.http.post(this.apiUrl,{userId:this.userId,productId:e}).pipe(Fe(()=>this.loadRecentlyViewed()))}loadRecentlyViewed(e=10){this.http.get(`${this.apiUrl}/${this.userId}?limit=${e}`).subscribe(o=>{this.recentlyViewedSubject.next(o.data||[])},o=>{console.error("Error loading recently viewed products:",o)})}getRecentlyViewed(e=10){return this.http.get(`${this.apiUrl}/${this.userId}?limit=${e}`).pipe(Fe(o=>{this.recentlyViewedSubject.next(o.data||[])}))}removeFromRecentlyViewed(e){return this.http.delete(`${this.apiUrl}/${this.userId}/${e}`).pipe(Fe(()=>this.loadRecentlyViewed()))}clearRecentlyViewed(){return this.http.delete(`${this.apiUrl}/${this.userId}`).pipe(Fe(()=>this.recentlyViewedSubject.next([])))}getRecentlyViewedAsObservable(){return this.recentlyViewed$}static{this.\u0275fac=function(o){return new(o||t)(W(kt))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const W2=t=>["/product",t];function yV(t,n){if(1&t&&b(0,"i",36),2&t){const e=n.$implicit,o=f().$implicit;B("filled",e<=o.rating)("empty",e>o.rating)}}function vV(t,n){if(1&t&&(a(0,"span",37),d(1),Q(2,"number"),c()),2&t){const e=f().$implicit;p(),D(" \u20b9",pt(2,1,e.originalPrice,"0.0-0")," ")}}function CV(t,n){if(1&t&&(a(0,"div",19)(1,"a",20)(2,"div",21),b(3,"img",22),a(4,"div",23)(5,"span",24),d(6,"View Product"),c()()(),a(7,"div",25)(8,"h3",26),d(9),Q(10,"slice"),c(),a(11,"div",27)(12,"div",28),P(13,yV,1,4,"i",29),c(),a(14,"span",30),d(15),c()(),a(16,"div",31)(17,"span",32),d(18),Q(19,"number"),c(),P(20,vV,3,4,"span",33),c(),a(21,"div",34),b(22,"i",35),d(23),c()()()()),2&t){const e=n.$implicit,o=f(3);p(),h("routerLink",Et(25,W2,e.id)),p(2),h("src",e.image,ue)("alt",e.name),p(6),rn("",ka(10,18,e.name,0,40),"",e.name.length>40?"...":"",""),p(4),h("ngForOf",o.getRatingArray(e.rating)),p(2),S(e.rating),p(3),D("\u20b9",pt(19,22,e.price,"0.0-0"),""),p(2),h("ngIf",e.originalPrice),p(),B("in-stock",e.inStock)("out-of-stock",!e.inStock),p(),B("fa-check-circle",e.inStock)("fa-times-circle",!e.inStock),p(),D(" ",e.inStock?"In Stock":"Out of Stock"," ")}}function xV(t,n){if(1&t){const e=R();a(0,"div",12)(1,"button",13),C("click",function(){return y(e),v(f(2).scrollCarousel("left"))}),b(2,"i",14),c(),a(3,"div",15),P(4,CV,24,27,"div",16),c(),a(5,"button",17),C("click",function(){return y(e),v(f(2).scrollCarousel("right"))}),b(6,"i",18),c()()}if(2&t){const e=f(2);p(4),h("ngForOf",e.recentlyViewedProducts)}}function MV(t,n){1&t&&b(0,"i",36),2&t&&B("filled",n.$implicit<=f().$implicit.rating)}function PV(t,n){if(1&t&&(a(0,"div",40)(1,"a",20)(2,"div",21),b(3,"img",22),a(4,"div",23)(5,"span",24),d(6,"View"),c()()(),a(7,"div",25)(8,"h3",26),d(9),Q(10,"slice"),c(),a(11,"div",27)(12,"div",28),P(13,MV,1,2,"i",41),c(),a(14,"span",30),d(15),c()(),a(16,"span",32),d(17),Q(18,"number"),c()()()()),2&t){const e=n.$implicit,o=f(3);p(),h("routerLink",Et(14,W2,e.id)),p(2),h("src",e.image,ue)("alt",e.name),p(6),S(ka(10,7,e.name,0,40)),p(4),h("ngForOf",o.getRatingArray(e.rating)),p(2),S(e.rating),p(2),D("\u20b9",pt(18,11,e.price,"0.0-0"),"")}}function wV(t,n){if(1&t&&(a(0,"div",38),P(1,PV,19,16,"div",39),c()),2&t){const e=f(2);p(),h("ngForOf",e.recentlyViewedProducts)}}function OV(t,n){if(1&t){const e=R();a(0,"section",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h2",5),b(5,"i",6),d(6," Recently Viewed "),c(),a(7,"p",7),d(8,"Products you've been looking at"),c()(),a(9,"button",8),C("click",function(){return y(e),v(f().clearHistory())}),b(10,"i",9),c()(),P(11,xV,7,1,"div",10)(12,wV,2,1,"div",11),c()()}if(2&t){const e=f();p(11),h("ngIf","carousel"===e.variant),p(),h("ngIf","grid"===e.variant)}}let G2=(()=>{class t{constructor(){this.limit=6,this.variant="carousel",this.recentlyViewedService=w(q2),this.recentlyViewedProducts=[],this.loading=!1,this.error="",this.scrollPosition=0}ngOnInit(){this.loadRecentlyViewed()}loadRecentlyViewed(){this.loading=!0,this.error="",this.recentlyViewedService.getRecentlyViewed(this.limit).subscribe({next:e=>{this.recentlyViewedProducts=e.data||[],this.loading=!1},error:e=>{console.error("Error loading recently viewed:",e),this.error="",this.loading=!1}})}getRatingArray(e){return Array.from({length:5},(o,r)=>r+1)}clearHistory(){confirm("Clear recently viewed history?")&&this.recentlyViewedService.clearRecentlyViewed().subscribe({next:()=>{this.recentlyViewedProducts=[]},error:e=>{console.error("Error clearing history:",e)}})}scrollCarousel(e){const o=document.querySelector(".carousel-items");o&&("left"===e?o.scrollLeft-=320:o.scrollLeft+=320)}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=se({type:t,selectors:[["app-recently-viewed-carousel"]],inputs:{limit:"limit",variant:"variant"},standalone:!0,features:[ae],decls:1,vars:1,consts:[["class","recently-viewed-section",4,"ngIf"],[1,"recently-viewed-section"],[1,"container"],[1,"section-header"],[1,"title-wrapper"],[1,"section-title"],[1,"fas","fa-history"],[1,"subtitle"],["title","Clear history",1,"clear-btn",3,"click"],[1,"fas","fa-trash-alt"],["class","carousel-wrapper",4,"ngIf"],["class","grid-wrapper",4,"ngIf"],[1,"carousel-wrapper"],["aria-label","Previous",1,"carousel-nav","carousel-nav-prev",3,"click"],[1,"fas","fa-chevron-left"],[1,"carousel-items"],["class","carousel-item",4,"ngFor","ngForOf"],["aria-label","Next",1,"carousel-nav","carousel-nav-next",3,"click"],[1,"fas","fa-chevron-right"],[1,"carousel-item"],[1,"product-card",3,"routerLink"],[1,"product-image-wrapper"],["onerror","this.src='assets/images/placeholder.jpg'",1,"product-image",3,"src","alt"],[1,"product-overlay"],[1,"view-btn"],[1,"product-info"],[1,"product-name"],[1,"rating-section"],[1,"stars"],["class","fas fa-star",3,"filled","empty",4,"ngFor","ngForOf"],[1,"rating-value"],[1,"price-section"],[1,"price"],["class","original-price",4,"ngIf"],[1,"stock-badge"],[1,"fas"],[1,"fas","fa-star"],[1,"original-price"],[1,"grid-wrapper"],["class","grid-item",4,"ngFor","ngForOf"],[1,"grid-item"],["class","fas fa-star",3,"filled",4,"ngFor","ngForOf"]],template:function(o,r){1&o&&P(0,OV,13,2,"section",0),2&o&&h("ngIf",!r.loading&&r.recentlyViewedProducts.length>0)},dependencies:[pe,De,ve,Dd,co,Ge,Ze],styles:[".recently-viewed-section[_ngcontent-%COMP%]{padding:40px 0;background:linear-gradient(135deg,#f5f7fa,#f9fafb);margin:30px 0;border-top:1px solid #e5e7eb;border-bottom:1px solid #e5e7eb;animation:_ngcontent-%COMP%_slideDown .3s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:25px;padding:0 20px}.title-wrapper[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:28px;font-weight:700;color:#1a202c;display:flex;align-items:center;gap:12px}.title-wrapper[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#3b82f6;font-size:26px}.subtitle[_ngcontent-%COMP%]{margin:8px 0 0 30px;color:#6b7280;font-size:14px;font-weight:500}.clear-btn[_ngcontent-%COMP%]{background:#fee2e2;color:#dc2626;border:none;padding:10px 15px;border-radius:8px;cursor:pointer;font-size:14px;font-weight:600;transition:all .3s ease;display:flex;align-items:center;gap:6px}.clear-btn[_ngcontent-%COMP%]:hover{background:#fca5a5;transform:scale(1.05)}.carousel-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;gap:15px;padding:0 20px}.carousel-items[_ngcontent-%COMP%]{display:flex;gap:20px;overflow-x:auto;scroll-behavior:smooth;padding:10px 0;scroll-padding:20px;flex:1;scrollbar-width:none;-ms-overflow-style:none}.carousel-items[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.carousel-nav[_ngcontent-%COMP%]{position:absolute;width:44px;height:44px;border-radius:50%;background:#fff;border:2px solid #e5e7eb;cursor:pointer;display:flex;align-items:center;justify-content:center;color:#374151;font-size:16px;z-index:10;transition:all .3s ease;flex-shrink:0;box-shadow:0 2px 8px #0000001a}.carousel-nav[_ngcontent-%COMP%]:hover{background:#3b82f6;color:#fff;border-color:#3b82f6;transform:scale(1.1)}.carousel-nav[_ngcontent-%COMP%]:active{transform:scale(.95)}.carousel-nav-prev[_ngcontent-%COMP%]{left:0}.carousel-nav-next[_ngcontent-%COMP%]{right:0}.product-card[_ngcontent-%COMP%]{display:block;text-decoration:none;color:inherit;border-radius:12px;overflow:hidden;background:#fff;box-shadow:0 2px 8px #00000014;transition:all .3s ease;flex-shrink:0;width:200px}.product-card[_ngcontent-%COMP%]:hover{box-shadow:0 12px 24px #00000026;transform:translateY(-8px)}.product-image-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;padding-bottom:100%;overflow:hidden;background:#f3f4f6}.product-image[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;transition:transform .3s ease}.product-card[_ngcontent-%COMP%]:hover   .product-image[_ngcontent-%COMP%]{transform:scale(1.08)}.product-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0009;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .3s ease}.product-card[_ngcontent-%COMP%]:hover   .product-overlay[_ngcontent-%COMP%]{opacity:1}.view-btn[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;padding:8px 16px;border-radius:6px;font-size:13px;font-weight:600;letter-spacing:.5px}.product-info[_ngcontent-%COMP%]{padding:15px}.product-name[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#1a202c;margin:0 0 10px;line-height:1.3;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.rating-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;margin-bottom:10px}.stars[_ngcontent-%COMP%]{display:flex;gap:2px;font-size:12px}.stars[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fbbf24;transition:all .2s ease}.stars[_ngcontent-%COMP%]   i.empty[_ngcontent-%COMP%]{color:#d1d5db}.rating-value[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;font-weight:600;min-width:28px}.price-section[_ngcontent-%COMP%]{margin-bottom:8px}.price[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#3b82f6}.original-price[_ngcontent-%COMP%]{font-size:12px;color:#9ca3af;text-decoration:line-through;margin-left:6px}.stock-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;font-size:11px;font-weight:600;padding:4px 8px;border-radius:4px;text-transform:uppercase;letter-spacing:.3px}.stock-badge.in-stock[_ngcontent-%COMP%]{background:#dcfce7;color:#15803d}.stock-badge.out-of-stock[_ngcontent-%COMP%]{background:#fee2e2;color:#dc2626}.grid-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:20px;padding:0 20px}.grid-item[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto}@media (max-width: 768px){.recently-viewed-section[_ngcontent-%COMP%]{padding:30px 0;margin:20px 0}.section-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px;padding:0 15px;margin-bottom:20px}.title-wrapper[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px}.subtitle[_ngcontent-%COMP%]{margin-left:30px}.clear-btn[_ngcontent-%COMP%]{align-self:flex-end}.carousel-wrapper[_ngcontent-%COMP%]{padding:0 15px;gap:10px}.carousel-items[_ngcontent-%COMP%]{gap:15px}.carousel-nav[_ngcontent-%COMP%]{width:40px;height:40px;font-size:14px}.carousel-nav-prev[_ngcontent-%COMP%]{left:-5px}.carousel-nav-next[_ngcontent-%COMP%]{right:-5px}.product-card[_ngcontent-%COMP%]{width:160px}.grid-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:15px;padding:0 15px}}@media (max-width: 480px){.recently-viewed-section[_ngcontent-%COMP%]{padding:20px 0}.title-wrapper[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px}.title-wrapper[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:22px}.subtitle[_ngcontent-%COMP%]{margin-left:26px}.carousel-wrapper[_ngcontent-%COMP%]{padding:0 10px}.carousel-items[_ngcontent-%COMP%]{gap:12px}.carousel-nav[_ngcontent-%COMP%]{display:none}.product-card[_ngcontent-%COMP%]{width:140px}.product-name[_ngcontent-%COMP%]{font-size:13px}.price[_ngcontent-%COMP%]{font-size:14px}.grid-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:12px;padding:0 10px}}@media (prefers-reduced-motion: reduce){.recently-viewed-section[_ngcontent-%COMP%], .product-card[_ngcontent-%COMP%], .carousel-nav[_ngcontent-%COMP%], .view-btn[_ngcontent-%COMP%]{animation:none!important;transition:none!important}}"]})}}return t})();const kV=t=>["/category",t],DV=()=>["/shop"],SV=t=>({brand:t});function IV(t,n){if(1&t&&(a(0,"div",36),b(1,"i",37),d(2),c()),2&t){const e=f();p(2),D(" ",e.error," ")}}function TV(t,n){1&t&&(a(0,"div",38)(1,"p"),d(2,"Loading categories..."),c()())}function EV(t,n){if(1&t&&(a(0,"div",41)(1,"a",42)(2,"div",43),b(3,"img",44),c(),a(4,"div",45)(5,"h3"),d(6),c(),a(7,"p"),d(8),c()()()()),2&t){const e=n.$implicit;p(),h("routerLink",Et(5,kV,e.slug)),p(2),h("src",e.image,ue)("alt",e.name),p(3),S(e.name),p(2),D("",e.productCount," products")}}function AV(t,n){if(1&t&&(a(0,"div",39),P(1,EV,9,7,"div",40),c()),2&t){const e=f();p(),h("ngForOf",e.categories.slice(0,8))}}function NV(t,n){if(1&t&&(a(0,"a",48),b(1,"img",49),c()),2&t){const e=n.$implicit;h("routerLink",Xe(4,DV))("queryParams",Et(5,SV,e.slug)),p(),h("src",e.image,ue)("alt",e.name)}}function FV(t,n){if(1&t&&(a(0,"div",46),P(1,NV,2,7,"a",47),c()),2&t){const e=f();p(),h("ngForOf",e.featuredBrands)}}function RV(t,n){1&t&&(a(0,"div",38)(1,"p"),d(2,"Loading products..."),c()())}function LV(t,n){if(1&t){const e=R();a(0,"app-product-card",52),C("loginRequired",function(r){return y(e),v(f(2).onLoginRequired(r))}),c()}2&t&&h("product",n.$implicit)}function UV(t,n){if(1&t&&(a(0,"div",50),P(1,LV,1,1,"app-product-card",51),c()),2&t){const e=f();p(),h("ngForOf",e.displayedProducts)}}function VV(t,n){if(1&t){const e=R();a(0,"div",53)(1,"button",54),C("click",function(){return y(e),v(f().toggleShowAll())}),d(2),c()()}if(2&t){const e=f();p(2),D(" ",e.showAllProducts?"Show Less":"View All Products"," ")}}function BV(t,n){1&t&&(a(0,"div",53)(1,"p"),d(2,"No products available in this category."),c()())}function zV(t,n){if(1&t){const e=R();a(0,"app-auth-modal",55),C("close",function(){return y(e),v(f().closeAuthModal())}),c()}if(2&t){const e=f();h("message",e.authModalMessage)("initialTab",e.authModalTab)}}let jV=(()=>{class t{constructor(){this.productService=w(hs),this.cartService=w(fr),this.wishlistService=w(mc),this.http=w(kt),this.showAuthModal=!1,this.authModalMessage="",this.authModalTab="login",this.featuredProducts=[],this.newProducts=[],this.topSellerProducts=[],this.categories=[],this.brands=[],this.featuredBrands=[],this.activeProductTab="featured",this.displayedProducts=[],this.showAllProducts=!1,this.productsPerPage=10,this.loading=!1,this.error="",this.brandsLoading=!1}ngOnInit(){this.loadLocalData(),this.loadData()}onLoginRequired(e){this.authModalMessage=e,this.authModalTab="login",this.showAuthModal=!0}closeAuthModal(){this.showAuthModal=!1,this.authModalMessage=""}loadData(){this.loading=!0,this.error="",this.http.get(`${ot_apiUrl}/home/all`).subscribe({next:e=>{e.categories&&Array.isArray(e.categories)&&(this.categories=e.categories.map(o=>({id:o.id,name:o.name,slug:o.slug,image:o.image_url,productCount:o.product_count,displayOrder:o.display_order}))),e.brands&&Array.isArray(e.brands)&&(this.featuredBrands=e.brands.map(o=>({id:o.id,name:o.name,slug:o.slug,image:o.logo_url,website:o.website_url,productCount:o.product_count}))),e.featured&&Array.isArray(e.featured)&&(this.featuredProducts=e.featured),e.new&&Array.isArray(e.new)&&(this.newProducts=e.new),e.topSellers&&Array.isArray(e.topSellers)&&(this.topSellerProducts=e.topSellers),this.updateDisplayedProducts(),this.loading=!1},error:e=>{console.error("Error loading home data:",e),this.error="Failed to load home page data",this.loading=!1,0===this.featuredProducts.length&&0===this.categories.length&&this.loadLocalData()}})}loadLocalData(){this.featuredProducts=this.productService.getFeaturedProducts(),this.newProducts=this.productService.getNewProducts(),this.topSellerProducts=this.productService.getTopSellerProducts();const e=this.productService.getCategories(),o=["robotic-diy-kits","ready-running-projects","raspberry","mini-drone-kits","drone-transmiter-receiver","bonka","agriculture-drone-parts","diy-kits"];this.categories=e.filter(i=>o.includes(i.slug)).sort((i,s)=>o.indexOf(i.slug)-o.indexOf(s.slug)),this.brands=this.productService.getBrands();const r=["acebott","amass","arduino","bonka","eft","elcon","emax","hobbywing","jiyi","mastech","raspberry-pi","skydroid","skyrc","tattu"];this.featuredBrands=this.brands.filter(i=>r.includes(i.slug)),this.updateDisplayedProducts()}setProductTab(e){this.activeProductTab=e,this.showAllProducts=!1,this.updateDisplayedProducts()}updateDisplayedProducts(){let e=[];switch(this.activeProductTab){case"featured":e=this.featuredProducts;break;case"new":e=this.newProducts;break;case"topSellers":e=this.topSellerProducts}this.displayedProducts=this.showAllProducts?e:e.slice(0,this.productsPerPage)}toggleShowAll(){this.showAllProducts=!this.showAllProducts,this.updateDisplayedProducts()}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=se({type:t,selectors:[["app-home"]],standalone:!0,features:[ae],decls:108,vars:16,consts:[[1,"home"],["class","alert alert-warning","style","margin: 20px;",4,"ngIf"],[1,"hero-section"],[1,"hero-content"],["routerLink","/shop",1,"btn","btn-primary"],[1,"categories-section"],[1,"container"],[1,"section-title"],["class","loading-spinner",4,"ngIf"],["class","category-grid",4,"ngIf"],[1,"brands-section",2,"background-color","#f9f9f9","padding","50px 0"],["class","brands-grid","style","display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 20px;",4,"ngIf"],["variant","carousel",3,"limit"],[1,"products-section"],[1,"products-header"],[1,"products-title"],[1,"products-tabs"],[1,"tab-btn",3,"click"],["class","product-grid",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"features-section"],[1,"features-grid"],[1,"feature-item"],[1,"fas","fa-shipping-fast"],[1,"fas","fa-shield-alt"],[1,"fas","fa-headset"],[1,"fas","fa-undo"],[1,"reviews-section"],[1,"reviews-content"],[1,"review-card"],[1,"stars"],[1,"fas","fa-star"],[1,"fas","fa-star-half-alt"],[1,"text-center",2,"margin-top","30px"],["href","https://www.google.com/maps","target","_blank",1,"btn","btn-primary"],[3,"message","initialTab","close",4,"ngIf"],[1,"alert","alert-warning",2,"margin","20px"],[1,"fas","fa-exclamation-triangle"],[1,"loading-spinner"],[1,"category-grid"],["class","category-card",4,"ngFor","ngForOf"],[1,"category-card"],[3,"routerLink"],[1,"category-image"],["onerror","this.src='assets/images/placeholder.jpg'",3,"src","alt"],[1,"category-info"],[1,"brands-grid",2,"display","grid","grid-template-columns","repeat(auto-fit, minmax(150px, 1fr))","gap","20px"],["class","brand-card","style","display: flex; align-items: center; justify-content: center; padding: 20px; background: white; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); text-decoration: none; transition: transform 0.3s ease, box-shadow 0.3s ease; min-height: 120px; cursor: pointer;",3,"routerLink","queryParams",4,"ngFor","ngForOf"],[1,"brand-card",2,"display","flex","align-items","center","justify-content","center","padding","20px","background","white","border-radius","8px","box-shadow","0 2px 4px rgba(0,0,0,0.1)","text-decoration","none","transition","transform 0.3s ease, box-shadow 0.3s ease","min-height","120px","cursor","pointer",3,"routerLink","queryParams"],["onerror","this.src='assets/images/placeholder.jpg'",2,"max-width","100%","max-height","100px","object-fit","contain",3,"src","alt"],[1,"product-grid"],[3,"product","loginRequired",4,"ngFor","ngForOf"],[3,"loginRequired","product"],[1,"text-center"],[1,"btn","btn-secondary",3,"click"],[3,"close","message","initialTab"]],template:function(o,r){1&o&&(a(0,"div",0),P(1,IV,3,1,"div",1),a(2,"section",2)(3,"app-drone-carousel")(4,"div",3)(5,"h1"),d(6,"Welcome to VSP Electronics"),c(),a(7,"p"),d(8,"Your One-Stop Shop for Drone Parts, Robotics & DIY Electronics"),c(),a(9,"a",4),d(10,"Shop Now"),c()()()(),a(11,"section",5)(12,"div",6)(13,"h2",7),d(14,"Featured Categories"),c(),P(15,TV,3,0,"div",8)(16,AV,2,1,"div",9),c()(),a(17,"section",10)(18,"div",6)(19,"h2",7),d(20,"Featured Brands"),c(),P(21,FV,2,1,"div",11),c()(),b(22,"app-recently-viewed-carousel",12),a(23,"section",13)(24,"div",14)(25,"h2",15),d(26,"Products"),c(),a(27,"div",16)(28,"button",17),C("click",function(){return r.setProductTab("featured")}),d(29," FEATURED "),c(),a(30,"button",17),C("click",function(){return r.setProductTab("new")}),d(31," NEW "),c(),a(32,"button",17),C("click",function(){return r.setProductTab("topSellers")}),d(33," HOT PRODUCTS "),c()()(),a(34,"div",6),P(35,RV,3,0,"div",8)(36,UV,2,1,"div",18)(37,VV,3,1,"div",19)(38,BV,3,0,"div",19),c()(),a(39,"section",20)(40,"div",6)(41,"div",21)(42,"div",22),b(43,"i",23),a(44,"h3"),d(45,"Fast Shipping"),c(),a(46,"p"),d(47,"Quick delivery across India"),c()(),a(48,"div",22),b(49,"i",24),a(50,"h3"),d(51,"Secure Payment"),c(),a(52,"p"),d(53,"100% secure transactions"),c()(),a(54,"div",22),b(55,"i",25),a(56,"h3"),d(57,"24/7 Support"),c(),a(58,"p"),d(59,"Dedicated customer service"),c()(),a(60,"div",22),b(61,"i",26),a(62,"h3"),d(63,"Easy Returns"),c(),a(64,"p"),d(65,"Hassle-free return policy"),c()()()()(),a(66,"section",27)(67,"div",6)(68,"h2",7),d(69,"What Our Customers Say"),c(),a(70,"div",28)(71,"div",29)(72,"div",30),b(73,"i",31)(74,"i",31)(75,"i",31)(76,"i",31)(77,"i",31),c(),a(78,"p"),d(79,'"Excellent service and quality products. Best place for drone and robotics parts!"'),c(),a(80,"h4"),d(81,"- Rajesh Kumar"),c()(),a(82,"div",29)(83,"div",30),b(84,"i",31)(85,"i",31)(86,"i",31)(87,"i",31)(88,"i",31),c(),a(89,"p"),d(90,'"Great collection of DIY kits. Fast delivery and responsive support team."'),c(),a(91,"h4"),d(92,"- Priya Sharma"),c()(),a(93,"div",29)(94,"div",30),b(95,"i",31)(96,"i",31)(97,"i",31)(98,"i",31)(99,"i",32),c(),a(100,"p"),d(101,'"High quality products at competitive prices. Highly recommended!"'),c(),a(102,"h4"),d(103,"- Amit Patel"),c()()(),a(104,"div",33)(105,"a",34),d(106," View All Reviews "),c()()()()(),P(107,zV,1,2,"app-auth-modal",35)),2&o&&(p(),h("ngIf",r.error),p(14),h("ngIf",r.loading),p(),h("ngIf",!r.loading),p(5),h("ngIf",r.featuredBrands.length>0),p(),h("limit",6),p(6),B("active","featured"===r.activeProductTab),p(2),B("active","new"===r.activeProductTab),p(2),B("active","topSellers"===r.activeProductTab),p(3),h("ngIf",r.loading),p(),h("ngIf",!r.loading),p(),h("ngIf",!r.loading&&r.displayedProducts.length>0),p(),h("ngIf",!r.loading&&0===r.displayedProducts.length),p(69),h("ngIf",r.showAuthModal))},dependencies:[pe,De,ve,Ge,Ze,Um,Lm,bV,G2],styles:[".back-button-container[_ngcontent-%COMP%]{padding:15px 20px;margin-bottom:10px}.back-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:10px 16px;background-color:#f0f0f0;border:1px solid #ddd;border-radius:4px;font-size:14px;font-weight:500;color:#333;cursor:pointer;transition:all .3s ease}.back-button[_ngcontent-%COMP%]:hover{background-color:#e0e0e0;border-color:#999}.back-button[_ngcontent-%COMP%]:active{background-color:#d0d0d0}.back-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.hero-section[_ngcontent-%COMP%]{margin-bottom:40px;position:relative}.hero-content[_ngcontent-%COMP%]{position:relative;z-index:10;text-align:center;color:#fff}.hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px;font-weight:700;margin-bottom:20px;text-shadow:2px 2px 8px rgba(0,0,0,.6);letter-spacing:-1px;line-height:1.2}.hero-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;margin-bottom:32px;opacity:.95;text-shadow:1px 1px 4px rgba(0,0,0,.5);line-height:1.5}.pdf-catalog-section[_ngcontent-%COMP%]{background:#06c;padding:20px 0;margin-bottom:40px}.pdf-buttons[_ngcontent-%COMP%]{display:flex;gap:16px;flex-wrap:wrap;justify-content:center;padding:0 16px}.btn-pdf[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:10px;padding:12px 24px;background:#fff;color:#333;text-decoration:none;font-weight:600;font-size:13px;border-radius:6px;transition:all .3s ease;letter-spacing:.5px;white-space:nowrap}.btn-pdf[_ngcontent-%COMP%]:hover{background:#f0f0f0;transform:translateY(-2px);box-shadow:0 6px 12px #00000026}.btn-pdf[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px;color:#d32f2f}.categories-section[_ngcontent-%COMP%]{margin-bottom:40px}.category-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;overflow:hidden;box-shadow:0 2px 8px #00000014;transition:all .3s ease;border:1px solid var(--border-light);height:100%;display:flex;flex-direction:column}.category-card[_ngcontent-%COMP%]:hover{transform:translateY(-6px);box-shadow:0 12px 24px #6b44232e;border-color:var(--primary-brown)}.category-image[_ngcontent-%COMP%]{height:200px;overflow:hidden;background:#f5f5f5;display:flex;align-items:center;justify-content:center;position:relative;flex-shrink:0}.category-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;object-position:center;transition:transform .3s ease;padding:0}.category-card[_ngcontent-%COMP%]:hover   .category-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.08)}.category-info[_ngcontent-%COMP%]{padding:20px;text-align:center;flex-grow:1;display:flex;flex-direction:column;justify-content:center}.category-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:600;margin-bottom:8px;color:var(--text-dark);transition:color .3s}.category-card[_ngcontent-%COMP%]:hover   .category-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--primary-brown)}.category-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;color:var(--text-gray);margin:0}.products-section[_ngcontent-%COMP%]{margin-bottom:40px}.products-header[_ngcontent-%COMP%]{background:var(--primary-brown);padding:16px 0;display:flex;align-items:center;justify-content:space-between;margin-bottom:32px;border-radius:6px;flex-wrap:wrap;gap:16px}.products-title[_ngcontent-%COMP%]{color:#fff;font-size:24px;font-weight:700;margin:0;padding-left:20px}.products-tabs[_ngcontent-%COMP%]{display:flex;gap:0;flex-wrap:wrap;padding-right:20px}.tab-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;font-size:13px;font-weight:600;padding:12px 20px;cursor:pointer;transition:all .3s ease;text-transform:uppercase;letter-spacing:.5px;position:relative;border-bottom:3px solid transparent}.tab-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.tab-btn.active[_ngcontent-%COMP%]{background:#ffffff26;border-bottom-color:#fff}.text-center[_ngcontent-%COMP%]{text-align:center;margin-top:32px}.brands-section[_ngcontent-%COMP%]{margin-bottom:40px;background:#fff;padding:40px 0}.brands-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:20px;text-align:center}.brand-item[_ngcontent-%COMP%]{padding:16px;border:2px solid #f0f0f0;border-radius:8px;transition:all .3s ease;cursor:pointer}.brand-item[_ngcontent-%COMP%]:hover{border-color:#06c;background:#eef6ff;transform:translateY(-2px)}.brand-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:600;color:#333;font-size:13px;text-decoration:none;transition:color .3s}.brand-item[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:#06c}.features-section[_ngcontent-%COMP%]{margin-bottom:40px;background:#f8f9fa;padding:40px 0;border-radius:8px}.features-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:24px}.feature-item[_ngcontent-%COMP%]{text-align:center;padding:24px;background:#fff;border-radius:8px;transition:all .3s ease}.feature-item[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 16px #0000001a}.feature-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:44px;color:#06c;margin-bottom:16px}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;margin-bottom:12px;color:#333}.feature-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:14px;margin:0;line-height:1.6}.reviews-section[_ngcontent-%COMP%]{margin-bottom:40px}.reviews-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:24px;margin-top:32px}.review-card[_ngcontent-%COMP%]{background:#fff;padding:28px;border-radius:8px;box-shadow:0 2px 12px #0000001a;text-align:center;transition:all .3s ease;border:1px solid var(--border-light)}.review-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 20px #00000026}.review-card[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]{color:#ffc107;font-size:18px;margin-bottom:16px}.review-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-style:italic;color:#666;margin-bottom:16px;line-height:1.6;font-size:14px}.review-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#333;margin:0}@media (max-width: 1024px){.hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px}.hero-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}.pdf-buttons[_ngcontent-%COMP%]{gap:12px}.products-title[_ngcontent-%COMP%]{font-size:22px}.features-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:18px}.feature-item[_ngcontent-%COMP%]{padding:20px}}@media (max-width: 768px){.hero-section[_ngcontent-%COMP%]{margin-bottom:32px}.hero-content[_ngcontent-%COMP%]{padding:30px 16px}.hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;margin-bottom:16px}.hero-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin-bottom:24px}.pdf-catalog-section[_ngcontent-%COMP%]{padding:16px 0;margin-bottom:32px}.pdf-buttons[_ngcontent-%COMP%]{gap:10px;padding:0 16px}.btn-pdf[_ngcontent-%COMP%]{padding:10px 16px;font-size:12px}.categories-section[_ngcontent-%COMP%]{margin-bottom:32px}.category-image[_ngcontent-%COMP%]{height:160px}.category-info[_ngcontent-%COMP%]{padding:16px}.category-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px}.products-header[_ngcontent-%COMP%]{padding:12px 0;margin-bottom:24px;gap:12px}.products-title[_ngcontent-%COMP%]{font-size:20px;padding-left:16px}.products-tabs[_ngcontent-%COMP%]{padding-right:16px;gap:0}.tab-btn[_ngcontent-%COMP%]{font-size:12px;padding:10px 14px}.text-center[_ngcontent-%COMP%]{margin-top:24px}.brands-section[_ngcontent-%COMP%]{padding:32px 0}.brands-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:16px}.brand-item[_ngcontent-%COMP%]{padding:12px}.features-section[_ngcontent-%COMP%]{padding:32px 0;margin-bottom:32px}.features-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}.feature-item[_ngcontent-%COMP%]{padding:20px}.feature-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:40px;margin-bottom:12px}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}.reviews-section[_ngcontent-%COMP%]{margin-bottom:32px}.reviews-content[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px;margin-top:24px}.review-card[_ngcontent-%COMP%]{padding:20px}}@media (max-width: 480px){.hero-section[_ngcontent-%COMP%]{margin-bottom:24px}.hero-content[_ngcontent-%COMP%]{padding:20px 12px}.hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;margin-bottom:12px}.hero-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;margin-bottom:16px}.pdf-catalog-section[_ngcontent-%COMP%]{padding:12px 0;margin-bottom:24px}.pdf-buttons[_ngcontent-%COMP%]{gap:8px;padding:0 12px;flex-direction:column}.btn-pdf[_ngcontent-%COMP%]{width:100%;padding:10px 12px;font-size:11px;justify-content:center}.categories-section[_ngcontent-%COMP%]{margin-bottom:24px}.category-image[_ngcontent-%COMP%]{height:140px}.category-info[_ngcontent-%COMP%]{padding:12px}.category-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:13px;margin-bottom:6px}.category-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}.products-header[_ngcontent-%COMP%]{padding:10px 0;margin-bottom:20px;flex-direction:column;align-items:flex-start}.products-title[_ngcontent-%COMP%]{font-size:18px;padding-left:12px}.products-tabs[_ngcontent-%COMP%]{width:100%;padding-right:12px;overflow-x:auto}.tab-btn[_ngcontent-%COMP%]{font-size:11px;padding:8px 10px;flex-shrink:0}.brands-section[_ngcontent-%COMP%]{padding:24px 0}.brands-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:12px}.brand-item[_ngcontent-%COMP%]{padding:10px;border-radius:6px}.brand-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:11px}.features-section[_ngcontent-%COMP%]{padding:24px 0;margin-bottom:24px}.features-grid[_ngcontent-%COMP%]{gap:12px}.feature-item[_ngcontent-%COMP%]{padding:16px}.feature-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:36px;margin-bottom:10px}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px;margin-bottom:8px}.feature-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}.reviews-section[_ngcontent-%COMP%]{margin-bottom:24px}.reviews-content[_ngcontent-%COMP%]{gap:16px;margin-top:20px}.review-card[_ngcontent-%COMP%]{padding:16px}.review-card[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]{font-size:16px;margin-bottom:12px}.review-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;margin-bottom:12px}.review-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:12px}}"]})}}return t})(),Y2=(()=>{class t{constructor(){this.http=w(kt),this.authService=w(Qe),this.apiUrl=`${ot_apiUrl}/compare`,this.compareItems=Mt([]),Ra(()=>{this.authService.currentUser()?this.loadCompareList():this.compareItems.set([])},{allowSignalWrites:!0})}getCompareItems(){return this.compareItems.asReadonly()}loadCompareList(){this.http.get(this.apiUrl).subscribe({next:e=>{if(e.success&&Array.isArray(e.data.items)){const o=e.data.items.map(r=>({id:r.product_id,name:r.name,image:r.image,price:parseFloat(r.price),category:r.category,brand:r.brand,inStock:r.in_stock,description:r.description}));this.compareItems.set(o)}},error:e=>console.error("Error loading compare list",e)})}addToCompare(e){const o=this.compareItems();o.find(r=>r.id===e.id)||(o.length<4&&this.compareItems.set([...o,e]),this.http.post(`${this.apiUrl}/add`,{productId:e.id}).subscribe({next:r=>{this.loadCompareList()},error:r=>{console.error("Add to compare failed",r),this.loadCompareList()}}))}removeFromCompare(e){this.compareItems.set(this.compareItems().filter(o=>o.id!==e)),this.http.delete(`${this.apiUrl}/${e}`).subscribe({error:o=>{console.error("Remove from compare failed",o),this.loadCompareList()}})}clearCompare(){this.compareItems.set([]),this.http.delete(`${this.apiUrl}/all/clear`).subscribe()}isInCompare(e){return this.compareItems().some(o=>o.id===e)}getCompareCount(){return this.compareItems().length}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const xo=Object.create(null);xo.open="0",xo.close="1",xo.ping="2",xo.pong="3",xo.message="4",xo.upgrade="5",xo.noop="6";const uu=Object.create(null);Object.keys(xo).forEach(t=>{uu[xo[t]]=t});const Vm={type:"error",data:"parser error"},K2="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Q2="function"==typeof ArrayBuffer,J2=t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Bm=({type:t,data:n},e,o)=>K2&&n instanceof Blob?e?o(n):X2(n,o):Q2&&(n instanceof ArrayBuffer||J2(n))?e?o(n):X2(new Blob([n]),o):o(xo[t]+(n||"")),X2=(t,n)=>{const e=new FileReader;return e.onload=function(){const o=e.result.split(",")[1];n("b"+(o||""))},e.readAsDataURL(t)};function Z2(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let zm;const _c=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<64;t++)_c["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(t)]=t;const qV="function"==typeof ArrayBuffer,jm=(t,n)=>{if("string"!=typeof t)return{type:"message",data:eO(t,n)};const e=t.charAt(0);return"b"===e?{type:"message",data:WV(t.substring(1),n)}:uu[e]?t.length>1?{type:uu[e],data:t.substring(1)}:{type:uu[e]}:Vm},WV=(t,n)=>{if(qV){const e=(t=>{let o,i,s,l,u,n=.75*t.length,e=t.length,r=0;"="===t[t.length-1]&&(n--,"="===t[t.length-2]&&n--);const g=new ArrayBuffer(n),m=new Uint8Array(g);for(o=0;o<e;o+=4)i=_c[t.charCodeAt(o)],s=_c[t.charCodeAt(o+1)],l=_c[t.charCodeAt(o+2)],u=_c[t.charCodeAt(o+3)],m[r++]=i<<2|s>>4,m[r++]=(15&s)<<4|l>>2,m[r++]=(3&l)<<6|63&u;return g})(t);return eO(e,n)}return{base64:!0,data:t}},eO=(t,n)=>"blob"===n?t instanceof Blob?t:new Blob([t]):t instanceof ArrayBuffer?t:t.buffer;let $m;function pu(t){return t.reduce((n,e)=>n+e.length,0)}function gu(t,n){if(t[0].length===n)return t.shift();const e=new Uint8Array(n);let o=0;for(let r=0;r<n;r++)e[r]=t[0][o++],o===t[0].length&&(t.shift(),o=0);return t.length&&o<t[0].length&&(t[0]=t[0].slice(o)),e}function mt(t){if(t)return function JV(t){for(var n in mt.prototype)t[n]=mt.prototype[n];return t}(t)}mt.prototype.on=mt.prototype.addEventListener=function(t,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(n),this},mt.prototype.once=function(t,n){function e(){this.off(t,e),n.apply(this,arguments)}return e.fn=n,this.on(t,e),this},mt.prototype.off=mt.prototype.removeListener=mt.prototype.removeAllListeners=mt.prototype.removeEventListener=function(t,n){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var e=this._callbacks["$"+t];if(!e)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var o,r=0;r<e.length;r++)if((o=e[r])===n||o.fn===n){e.splice(r,1);break}return 0===e.length&&delete this._callbacks["$"+t],this},mt.prototype.emitReserved=mt.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),e=this._callbacks["$"+t],o=1;o<arguments.length;o++)n[o-1]=arguments[o];if(e){o=0;for(var r=(e=e.slice(0)).length;o<r;++o)e[o].apply(this,n)}return this},mt.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},mt.prototype.hasListeners=function(t){return!!this.listeners(t).length};const fu="function"==typeof Promise&&"function"==typeof Promise.resolve?n=>Promise.resolve().then(n):(n,e)=>e(n,0),On=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function oO(t,...n){return n.reduce((e,o)=>(t.hasOwnProperty(o)&&(e[o]=t[o]),e),{})}const ZV=On.setTimeout,eB=On.clearTimeout;function hu(t,n){n.useNativeTimers?(t.setTimeoutFn=ZV.bind(On),t.clearTimeoutFn=eB.bind(On)):(t.setTimeoutFn=On.setTimeout.bind(On),t.clearTimeoutFn=On.clearTimeout.bind(On))}function nB(t){return"string"==typeof t?function oB(t){let n=0,e=0;for(let o=0,r=t.length;o<r;o++)n=t.charCodeAt(o),n<128?e+=1:n<2048?e+=2:n<55296||n>=57344?e+=3:(o++,e+=4);return e}(t):Math.ceil(1.33*(t.byteLength||t.size))}function rO(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class sB extends Error{constructor(n,e,o){super(n),this.description=e,this.context=o,this.type="TransportError"}}class Hm extends mt{constructor(n){super(),this.writable=!1,hu(this,n),this.opts=n,this.query=n.query,this.socket=n.socket,this.supportsBinary=!n.forceBase64}onError(n,e,o){return super.emitReserved("error",new sB(n,e,o)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(n){"open"===this.readyState&&this.write(n)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(n){const e=jm(n,this.socket.binaryType);this.onPacket(e)}onPacket(n){super.emitReserved("packet",n)}onClose(n){this.readyState="closed",super.emitReserved("close",n)}pause(n){}createUri(n,e={}){return n+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){const n=this.opts.hostname;return-1===n.indexOf(":")?n:"["+n+"]"}_port(){return this.opts.port&&(this.opts.secure&&443!==Number(this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(n){const e=function rB(t){let n="";for(let e in t)t.hasOwnProperty(e)&&(n.length&&(n+="&"),n+=encodeURIComponent(e)+"="+encodeURIComponent(t[e]));return n}(n);return e.length?"?"+e:""}}class aB extends Hm{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(n){this.readyState="pausing";const e=()=>{this.readyState="paused",n()};if(this._polling||!this.writable){let o=0;this._polling&&(o++,this.once("pollComplete",function(){--o||e()})),this.writable||(o++,this.once("drain",function(){--o||e()}))}else e()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(n){((t,n)=>{const e=t.split("\x1e"),o=[];for(let r=0;r<e.length;r++){const i=jm(e[r],n);if(o.push(i),"error"===i.type)break}return o})(n,this.socket.binaryType).forEach(o=>{if("opening"===this.readyState&&"open"===o.type&&this.onOpen(),"close"===o.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(o)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const n=()=>{this.write([{type:"close"}])};"open"===this.readyState?n():this.once("open",n)}write(n){this.writable=!1,((t,n)=>{const e=t.length,o=new Array(e);let r=0;t.forEach((i,s)=>{Bm(i,!1,l=>{o[s]=l,++r===e&&n(o.join("\x1e"))})})})(n,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const n=this.opts.secure?"https":"http",e=this.query||{};return!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=rO()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.createUri(n,e)}}let iO=!1;try{iO=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const cB=iO;function lB(){}class dB extends aB{constructor(n){if(super(n),typeof location<"u"){const e="https:"===location.protocol;let o=location.port;o||(o=e?"443":"80"),this.xd=typeof location<"u"&&n.hostname!==location.hostname||o!==n.port}}doWrite(n,e){const o=this.request({method:"POST",data:n});o.on("success",e),o.on("error",(r,i)=>{this.onError("xhr post error",r,i)})}doPoll(){const n=this.request();n.on("data",this.onData.bind(this)),n.on("error",(e,o)=>{this.onError("xhr poll error",e,o)}),this.pollXhr=n}}let mu=(()=>{class t extends mt{constructor(e,o,r){super(),this.createRequest=e,hu(this,r),this._opts=r,this._method=r.method||"GET",this._uri=o,this._data=void 0!==r.data?r.data:null,this._create()}_create(){var e;const o=oO(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");o.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(o);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if("POST"===this._method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;3===r.readyState&&(null===(i=this._opts.cookieJar)||void 0===i||i.parseCookies(r.getResponseHeader("set-cookie"))),4===r.readyState&&(200===r.status||1223===r.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"==typeof r.status?r.status:0)},0))},r.send(this._data)}catch(i){return void this.setTimeoutFn(()=>{this._onError(i)},0)}typeof document<"u"&&(this._index=t.requestsCount++,t.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||null===this._xhr)){if(this._xhr.onreadystatechange=lB,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete t.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return t.requestsCount=0,t.requests={},t})();function sO(){for(let t in mu.requests)mu.requests.hasOwnProperty(t)&&mu.requests[t].abort()}typeof document<"u"&&("function"==typeof attachEvent?attachEvent("onunload",sO):"function"==typeof addEventListener&&addEventListener("onpagehide"in On?"pagehide":"unload",sO,!1));const uB=function(){const t=aO({xdomain:!1});return t&&null!==t.responseType}();function aO(t){const n=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!n||cB))return new XMLHttpRequest}catch{}if(!n)try{return new(On[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch{}}const cO=typeof navigator<"u"&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class gB extends Hm{get name(){return"websocket"}doOpen(){const n=this.uri(),e=this.opts.protocols,o=cO?{}:oO(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(o.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(n,e,o)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=n=>this.onClose({description:"websocket connection closed",context:n}),this.ws.onmessage=n=>this.onData(n.data),this.ws.onerror=n=>this.onError("websocket error",n)}write(n){this.writable=!1;for(let e=0;e<n.length;e++){const o=n[e],r=e===n.length-1;Bm(o,this.supportsBinary,i=>{try{this.doWrite(o,i)}catch{}r&&fu(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const n=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=rO()),this.supportsBinary||(e.b64=1),this.createUri(n,e)}}const qm=On.WebSocket||On.MozWebSocket,mB={websocket:class fB extends gB{createSocket(n,e,o){return cO?new qm(n,e,o):e?new qm(n,e):new qm(n)}doWrite(n,e){this.ws.send(e)}},webtransport:class hB extends Hm{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(n){return this.emitReserved("error",n)}this._transport.closed.then(()=>{this.onClose()}).catch(n=>{this.onError("webtransport error",n)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(n=>{const e=function QV(t,n){$m||($m=new TextDecoder);const e=[];let o=0,r=-1,i=!1;return new TransformStream({transform(s,l){for(e.push(s);;){if(0===o){if(pu(e)<1)break;const u=gu(e,1);i=!(128&~u[0]),r=127&u[0],o=r<126?3:126===r?1:2}else if(1===o){if(pu(e)<2)break;const u=gu(e,2);r=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),o=3}else if(2===o){if(pu(e)<8)break;const u=gu(e,8),g=new DataView(u.buffer,u.byteOffset,u.length),m=g.getUint32(0);if(m>Math.pow(2,21)-1){l.enqueue(Vm);break}r=m*Math.pow(2,32)+g.getUint32(4),o=3}else{if(pu(e)<r)break;const u=gu(e,r);l.enqueue(jm(i?u:$m.decode(u),n)),o=0}if(0===r||r>t){l.enqueue(Vm);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),o=n.readable.pipeThrough(e).getReader(),r=function KV(){return new TransformStream({transform(t,n){!function $V(t,n){K2&&t.data instanceof Blob?t.data.arrayBuffer().then(Z2).then(n):Q2&&(t.data instanceof ArrayBuffer||J2(t.data))?n(Z2(t.data)):Bm(t,!1,e=>{zm||(zm=new TextEncoder),n(zm.encode(e))})}(t,e=>{const o=e.length;let r;if(o<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,o);else if(o<65536){r=new Uint8Array(3);const i=new DataView(r.buffer);i.setUint8(0,126),i.setUint16(1,o)}else{r=new Uint8Array(9);const i=new DataView(r.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(o))}t.data&&"string"!=typeof t.data&&(r[0]|=128),n.enqueue(r),n.enqueue(e)})}})}();r.readable.pipeTo(n.writable),this._writer=r.writable.getWriter();const i=()=>{o.read().then(({done:l,value:u})=>{l||(this.onPacket(u),i())}).catch(l=>{})};i();const s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(n){this.writable=!1;for(let e=0;e<n.length;e++){const r=e===n.length-1;this._writer.write(n[e]).then(()=>{r&&fu(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var n;null===(n=this._transport)||void 0===n||n.close()}},polling:class pB extends dB{constructor(n){super(n),this.supportsBinary=uB&&!(n&&n.forceBase64)}request(n={}){return Object.assign(n,{xd:this.xd},this.opts),new mu(aO,this.uri(),n)}}},_B=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,bB=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Wm(t){if(t.length>8e3)throw"URI too long";const n=t,e=t.indexOf("["),o=t.indexOf("]");-1!=e&&-1!=o&&(t=t.substring(0,e)+t.substring(e,o).replace(/:/g,";")+t.substring(o,t.length));let r=_B.exec(t||""),i={},s=14;for(;s--;)i[bB[s]]=r[s]||"";return-1!=e&&-1!=o&&(i.source=n,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=function yB(t,n){const o=n.replace(/\/{2,9}/g,"/").split("/");return("/"==n.slice(0,1)||0===n.length)&&o.splice(0,1),"/"==n.slice(-1)&&o.splice(o.length-1,1),o}(0,i.path),i.queryKey=function vB(t,n){const e={};return n.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(o,r,i){r&&(e[r]=i)}),e}(0,i.query),i}const Gm="function"==typeof addEventListener&&"function"==typeof removeEventListener,_u=[];Gm&&addEventListener("offline",()=>{_u.forEach(t=>t())},!1);let Ym=(()=>{class t extends mt{constructor(e,o){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"==typeof e&&(o=e,e=null),e){const r=Wm(e);o.hostname=r.host,o.secure="https"===r.protocol||"wss"===r.protocol,o.port=r.port,r.query&&(o.query=r.query)}else o.host&&(o.hostname=Wm(o.host).host);hu(this,o),this.secure=null!=o.secure?o.secure:typeof location<"u"&&"https:"===location.protocol,o.hostname&&!o.port&&(o.port=this.secure?"443":"80"),this.hostname=o.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=o.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},o.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},o),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function iB(t){let n={},e=t.split("&");for(let o=0,r=e.length;o<r;o++){let i=e[o].split("=");n[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return n}(this.opts.query)),Gm&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},_u.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const o=Object.assign({},this.opts.query);o.EIO=4,o.transport=e,this.id&&(o.sid=this.id);const r=Object.assign({},this.opts,{query:o,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const e=this.opts.rememberUpgrade&&t.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const o=this.createTransport(e);o.open(),this.setTransport(o)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",o=>this._onClose("transport close",o))}onOpen(){this.readyState="open",t.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const o=new Error("server error");o.code=e.data,this._onError(o);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let o=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(o+=nB(i)),r>0&&o>this._maxPayload)return this.writeBuffer.slice(0,r);o+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,fu(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,o,r){return this._sendPacket("message",e,o,r),this}send(e,o,r){return this._sendPacket("message",e,o,r),this}_sendPacket(e,o,r,i){if("function"==typeof o&&(i=o,o=void 0),"function"==typeof r&&(i=r,r=null),"closing"===this.readyState||"closed"===this.readyState)return;(r=r||{}).compress=!1!==r.compress;const s={type:e,data:o,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},o=()=>{this.off("upgrade",o),this.off("upgradeError",o),e()},r=()=>{this.once("upgrade",o),this.once("upgradeError",o)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(t.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,o){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Gm&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=_u.indexOf(this._offlineEventListener);-1!==r&&_u.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,o),this.writeBuffer=[],this._prevBufferLen=0}}}return t.protocol=4,t})();class CB extends Ym{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let n=0;n<this._upgrades.length;n++)this._probe(this._upgrades[n])}_probe(n){let e=this.createTransport(n),o=!1;Ym.priorWebsocketSuccess=!1;const r=()=>{o||(e.send([{type:"ping",data:"probe"}]),e.once("packet",_=>{if(!o)if("pong"===_.type&&"probe"===_.data){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;Ym.priorWebsocketSuccess="websocket"===e.name,this.transport.pause(()=>{o||"closed"!==this.readyState&&(m(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())})}else{const x=new Error("probe error");x.transport=e.name,this.emitReserved("upgradeError",x)}}))};function i(){o||(o=!0,m(),e.close(),e=null)}const s=_=>{const x=new Error("probe error: "+_);x.transport=e.name,i(),this.emitReserved("upgradeError",x)};function l(){s("transport closed")}function u(){s("socket closed")}function g(_){e&&_.name!==e.name&&i()}const m=()=>{e.removeListener("open",r),e.removeListener("error",s),e.removeListener("close",l),this.off("close",u),this.off("upgrading",g)};e.once("open",r),e.once("error",s),e.once("close",l),this.once("close",u),this.once("upgrading",g),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==n?this.setTimeoutFn(()=>{o||e.open()},200):e.open()}onHandshake(n){this._upgrades=this._filterUpgrades(n.upgrades),super.onHandshake(n)}_filterUpgrades(n){const e=[];for(let o=0;o<n.length;o++)~this.transports.indexOf(n[o])&&e.push(n[o]);return e}}class lO extends CB{constructor(n,e={}){const o="object"==typeof n?n:e;(!o.transports||o.transports&&"string"==typeof o.transports[0])&&(o.transports=(o.transports||["polling","websocket","webtransport"]).map(r=>mB[r]).filter(r=>!!r)),super(n,o)}}const MB="function"==typeof ArrayBuffer,PB=t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,dO=Object.prototype.toString,wB="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===dO.call(Blob),OB="function"==typeof File||typeof File<"u"&&"[object FileConstructor]"===dO.call(File);function Km(t){return MB&&(t instanceof ArrayBuffer||PB(t))||wB&&t instanceof Blob||OB&&t instanceof File}function bu(t,n){if(!t||"object"!=typeof t)return!1;if(Array.isArray(t)){for(let e=0,o=t.length;e<o;e++)if(bu(t[e]))return!0;return!1}if(Km(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return bu(t.toJSON(),!0);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&bu(t[e]))return!0;return!1}function kB(t){const n=[],o=t;return o.data=Qm(t.data,n),o.attachments=n.length,{packet:o,buffers:n}}function Qm(t,n){if(!t)return t;if(Km(t)){const e={_placeholder:!0,num:n.length};return n.push(t),e}if(Array.isArray(t)){const e=new Array(t.length);for(let o=0;o<t.length;o++)e[o]=Qm(t[o],n);return e}if("object"==typeof t&&!(t instanceof Date)){const e={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=Qm(t[o],n));return e}return t}function DB(t,n){return t.data=Jm(t.data,n),delete t.attachments,t}function Jm(t,n){if(!t)return t;if(t&&!0===t._placeholder){if("number"==typeof t.num&&t.num>=0&&t.num<n.length)return n[t.num];throw new Error("illegal attachments")}if(Array.isArray(t))for(let e=0;e<t.length;e++)t[e]=Jm(t[e],n);else if("object"==typeof t)for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(t[e]=Jm(t[e],n));return t}const uO=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],SB=5;var ge=function(t){return t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK",t}(ge||{});class IB{constructor(n){this.replacer=n}encode(n){return n.type!==ge.EVENT&&n.type!==ge.ACK||!bu(n)?[this.encodeAsString(n)]:this.encodeAsBinary({type:n.type===ge.EVENT?ge.BINARY_EVENT:ge.BINARY_ACK,nsp:n.nsp,data:n.data,id:n.id})}encodeAsString(n){let e=""+n.type;return(n.type===ge.BINARY_EVENT||n.type===ge.BINARY_ACK)&&(e+=n.attachments+"-"),n.nsp&&"/"!==n.nsp&&(e+=n.nsp+","),null!=n.id&&(e+=n.id),null!=n.data&&(e+=JSON.stringify(n.data,this.replacer)),e}encodeAsBinary(n){const e=kB(n),o=this.encodeAsString(e.packet),r=e.buffers;return r.unshift(o),r}}class Xm extends mt{constructor(n){super(),this.reviver=n}add(n){let e;if("string"==typeof n){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(n);const o=e.type===ge.BINARY_EVENT;o||e.type===ge.BINARY_ACK?(e.type=o?ge.EVENT:ge.ACK,this.reconstructor=new TB(e),0===e.attachments&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else{if(!Km(n)&&!n.base64)throw new Error("Unknown type: "+n);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(n),e&&(this.reconstructor=null,super.emitReserved("decoded",e))}}decodeString(n){let e=0;const o={type:Number(n.charAt(0))};if(void 0===ge[o.type])throw new Error("unknown packet type "+o.type);if(o.type===ge.BINARY_EVENT||o.type===ge.BINARY_ACK){const i=e+1;for(;"-"!==n.charAt(++e)&&e!=n.length;);const s=n.substring(i,e);if(s!=Number(s)||"-"!==n.charAt(e))throw new Error("Illegal attachments");o.attachments=Number(s)}if("/"===n.charAt(e+1)){const i=e+1;for(;++e&&","!==n.charAt(e)&&e!==n.length;);o.nsp=n.substring(i,e)}else o.nsp="/";const r=n.charAt(e+1);if(""!==r&&Number(r)==r){const i=e+1;for(;++e;){const s=n.charAt(e);if(null==s||Number(s)!=s){--e;break}if(e===n.length)break}o.id=Number(n.substring(i,e+1))}if(n.charAt(++e)){const i=this.tryParse(n.substr(e));if(!Xm.isPayloadValid(o.type,i))throw new Error("invalid payload");o.data=i}return o}tryParse(n){try{return JSON.parse(n,this.reviver)}catch{return!1}}static isPayloadValid(n,e){switch(n){case ge.CONNECT:return yu(e);case ge.DISCONNECT:return void 0===e;case ge.CONNECT_ERROR:return"string"==typeof e||yu(e);case ge.EVENT:case ge.BINARY_EVENT:return Array.isArray(e)&&("number"==typeof e[0]||"string"==typeof e[0]&&-1===uO.indexOf(e[0]));case ge.ACK:case ge.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class TB{constructor(n){this.packet=n,this.buffers=[],this.reconPack=n}takeBinaryData(n){if(this.buffers.push(n),this.buffers.length===this.reconPack.attachments){const e=DB(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const AB=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};function yu(t){return"[object Object]"===Object.prototype.toString.call(t)}function RB(t){return function EB(t){return"string"==typeof t}(t.nsp)&&function NB(t){return void 0===t||AB(t)}(t.id)&&function FB(t,n){switch(t){case ge.CONNECT:return void 0===n||yu(n);case ge.DISCONNECT:return void 0===n;case ge.EVENT:return Array.isArray(n)&&("number"==typeof n[0]||"string"==typeof n[0]&&-1===uO.indexOf(n[0]));case ge.ACK:return Array.isArray(n);case ge.CONNECT_ERROR:return"string"==typeof n||yu(n);default:return!1}}(t.type,t.data)}function Hn(t,n,e){return t.on(n,e),function(){t.off(n,e)}}const LB=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class pO extends mt{constructor(n,e,o){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=n,this.nsp=e,o&&o.auth&&(this.auth=o.auth),this._opts=Object.assign({},o),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const n=this.io;this.subs=[Hn(n,"open",this.onopen.bind(this)),Hn(n,"packet",this.onpacket.bind(this)),Hn(n,"error",this.onerror.bind(this)),Hn(n,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...n){return n.unshift("message"),this.emit.apply(this,n),this}emit(n,...e){var o,r,i;if(LB.hasOwnProperty(n))throw new Error('"'+n.toString()+'" is a reserved event name');if(e.unshift(n),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;const s={type:ge.EVENT,data:e,options:{}};if(s.options.compress=!1!==this.flags.compress,"function"==typeof e[e.length-1]){const m=this.ids++,_=e.pop();this._registerAckCallback(m,_),s.id=m}const l=null===(r=null===(o=this.io.engine)||void 0===o?void 0:o.transport)||void 0===r?void 0:r.writable,u=this.connected&&!(null!==(i=this.io.engine)&&void 0!==i&&i._hasPingExpired());return this.flags.volatile&&!l||(u?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(n,e){var o;const r=null!==(o=this.flags.timeout)&&void 0!==o?o:this._opts.ackTimeout;if(void 0===r)return void(this.acks[n]=e);const i=this.io.setTimeoutFn(()=>{delete this.acks[n];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===n&&this.sendBuffer.splice(l,1);e.call(this,new Error("operation has timed out"))},r),s=(...l)=>{this.io.clearTimeoutFn(i),e.apply(this,l)};s.withError=!0,this.acks[n]=s}emitWithAck(n,...e){return new Promise((o,r)=>{const i=(s,l)=>s?r(s):o(l);i.withError=!0,e.push(i),this.emit(n,...e)})}_addToQueue(n){let e;"function"==typeof n[n.length-1]&&(e=n.pop());const o={id:this._queueSeq++,tryCount:0,pending:!1,args:n,flags:Object.assign({fromQueue:!0},this.flags)};n.push((r,...i)=>(null!==r?o.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(r)):(this._queue.shift(),e&&e(null,...i)),o.pending=!1,this._drainQueue())),this._queue.push(o),this._drainQueue()}_drainQueue(n=!1){if(!this.connected||0===this._queue.length)return;const e=this._queue[0];e.pending&&!n||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(n){n.nsp=this.nsp,this.io._packet(n)}onopen(){"function"==typeof this.auth?this.auth(n=>{this._sendConnectPacket(n)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(n){this.packet({type:ge.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},n):n})}onerror(n){this.connected||this.emitReserved("connect_error",n)}onclose(n,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",n,e),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(n=>{if(!this.sendBuffer.some(o=>String(o.id)===n)){const o=this.acks[n];delete this.acks[n],o.withError&&o.call(this,new Error("socket has been disconnected"))}})}onpacket(n){if(n.nsp===this.nsp)switch(n.type){case ge.CONNECT:n.data&&n.data.sid?this.onconnect(n.data.sid,n.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ge.EVENT:case ge.BINARY_EVENT:this.onevent(n);break;case ge.ACK:case ge.BINARY_ACK:this.onack(n);break;case ge.DISCONNECT:this.ondisconnect();break;case ge.CONNECT_ERROR:this.destroy();const o=new Error(n.data.message);o.data=n.data.data,this.emitReserved("connect_error",o)}}onevent(n){const e=n.data||[];null!=n.id&&e.push(this.ack(n.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(n){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const o of e)o.apply(this,n)}super.emit.apply(this,n),this._pid&&n.length&&"string"==typeof n[n.length-1]&&(this._lastOffset=n[n.length-1])}ack(n){const e=this;let o=!1;return function(...r){o||(o=!0,e.packet({type:ge.ACK,id:n,data:r}))}}onack(n){const e=this.acks[n.id];"function"==typeof e&&(delete this.acks[n.id],e.withError&&n.data.unshift(null),e.apply(this,n.data))}onconnect(n,e){this.id=n,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(n=>this.emitEvent(n)),this.receiveBuffer=[],this.sendBuffer.forEach(n=>{this.notifyOutgoingListeners(n),this.packet(n)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(n=>n()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ge.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(n){return this.flags.compress=n,this}get volatile(){return this.flags.volatile=!0,this}timeout(n){return this.flags.timeout=n,this}onAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(n),this}prependAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(n),this}offAny(n){if(!this._anyListeners)return this;if(n){const e=this._anyListeners;for(let o=0;o<e.length;o++)if(n===e[o])return e.splice(o,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(n),this}prependAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(n),this}offAnyOutgoing(n){if(!this._anyOutgoingListeners)return this;if(n){const e=this._anyOutgoingListeners;for(let o=0;o<e.length;o++)if(n===e[o])return e.splice(o,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(n){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const o of e)o.apply(this,n.data)}}}function _s(t){this.ms=(t=t||{}).min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}_s.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random(),e=Math.floor(n*this.jitter*t);t=1&Math.floor(10*n)?t+e:t-e}return 0|Math.min(t,this.max)},_s.prototype.reset=function(){this.attempts=0},_s.prototype.setMin=function(t){this.ms=t},_s.prototype.setMax=function(t){this.max=t},_s.prototype.setJitter=function(t){this.jitter=t};class Zm extends mt{constructor(n,e){var o;super(),this.nsps={},this.subs=[],n&&"object"==typeof n&&(e=n,n=void 0),(e=e||{}).path=e.path||"/socket.io",this.opts=e,hu(this,e),this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(o=e.randomizationFactor)&&void 0!==o?o:.5),this.backoff=new _s({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this._readyState="closed",this.uri=n;const r=e.parser||bs;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=!1!==e.autoConnect,this._autoConnect&&this.open()}reconnection(n){return arguments.length?(this._reconnection=!!n,n||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(n){return void 0===n?this._reconnectionAttempts:(this._reconnectionAttempts=n,this)}reconnectionDelay(n){var e;return void 0===n?this._reconnectionDelay:(this._reconnectionDelay=n,null===(e=this.backoff)||void 0===e||e.setMin(n),this)}randomizationFactor(n){var e;return void 0===n?this._randomizationFactor:(this._randomizationFactor=n,null===(e=this.backoff)||void 0===e||e.setJitter(n),this)}reconnectionDelayMax(n){var e;return void 0===n?this._reconnectionDelayMax:(this._reconnectionDelayMax=n,null===(e=this.backoff)||void 0===e||e.setMax(n),this)}timeout(n){return arguments.length?(this._timeout=n,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(n){if(~this._readyState.indexOf("open"))return this;this.engine=new lO(this.uri,this.opts);const e=this.engine,o=this;this._readyState="opening",this.skipReconnect=!1;const r=Hn(e,"open",function(){o.onopen(),n&&n()}),i=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),n?n(l):this.maybeReconnectOnOpen()},s=Hn(e,"error",i);if(!1!==this._timeout){const u=this.setTimeoutFn(()=>{r(),i(new Error("timeout")),e.close()},this._timeout);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(r),this.subs.push(s),this}connect(n){return this.open(n)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const n=this.engine;this.subs.push(Hn(n,"ping",this.onping.bind(this)),Hn(n,"data",this.ondata.bind(this)),Hn(n,"error",this.onerror.bind(this)),Hn(n,"close",this.onclose.bind(this)),Hn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(n){try{this.decoder.add(n)}catch(e){this.onclose("parse error",e)}}ondecoded(n){fu(()=>{this.emitReserved("packet",n)},this.setTimeoutFn)}onerror(n){this.emitReserved("error",n)}socket(n,e){let o=this.nsps[n];return o?this._autoConnect&&!o.active&&o.connect():(o=new pO(this,n,e),this.nsps[n]=o),o}_destroy(n){const e=Object.keys(this.nsps);for(const o of e)if(this.nsps[o].active)return;this._close()}_packet(n){const e=this.encoder.encode(n);for(let o=0;o<e.length;o++)this.engine.write(e[o],n.options)}cleanup(){this.subs.forEach(n=>n()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(n,e){var o;this.cleanup(),null===(o=this.engine)||void 0===o||o.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",n,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const n=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const o=this.setTimeoutFn(()=>{n.skipReconnect||(this.emitReserved("reconnect_attempt",n.backoff.attempts),!n.skipReconnect&&n.open(r=>{r?(n._reconnecting=!1,n.reconnect(),this.emitReserved("reconnect_error",r)):n.onreconnect()}))},e);this.opts.autoUnref&&o.unref(),this.subs.push(()=>{this.clearTimeoutFn(o)})}}onreconnect(){const n=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",n)}}const bc={};function vu(t,n){"object"==typeof t&&(n=t,t=void 0);const e=function xB(t,n="",e){let o=t;e=e||typeof location<"u"&&location,null==t&&(t=e.protocol+"//"+e.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?e.protocol+t:e.host+t),/^(https?|wss?):\/\//.test(t)||(t=typeof e<"u"?e.protocol+"//"+t:"https://"+t),o=Wm(t)),o.port||(/^(http|ws)$/.test(o.protocol)?o.port="80":/^(http|ws)s$/.test(o.protocol)&&(o.port="443")),o.path=o.path||"/";const i=-1!==o.host.indexOf(":")?"["+o.host+"]":o.host;return o.id=o.protocol+"://"+i+":"+o.port+n,o.href=o.protocol+"://"+i+(e&&e.port===o.port?"":":"+o.port),o}(t,(n=n||{}).path||"/socket.io"),o=e.source,r=e.id;let u;return n.forceNew||n["force new connection"]||!1===n.multiplex||bc[r]&&e.path in bc[r].nsps?u=new Zm(o,n):(bc[r]||(bc[r]=new Zm(o,n)),u=bc[r]),e.query&&!n.query&&(n.query=e.queryKey),u.socket(e.path,n)}Object.assign(vu,{Manager:Zm,Socket:pO,io:vu,connect:vu});let UB=(()=>{class t{constructor(){this.socket=null,this.viewerStats=new st({globalActiveUsers:0,productViewers:0}),this.viewerStats$=this.viewerStats.asObservable(),this.initializeSocket()}initializeSocket(){this.socket=vu("https://vsp-electronics-backend.vercel.app/api",{reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,reconnectionAttempts:5}),this.socket.on("activeUsers",e=>{this.viewerStats.next({...this.viewerStats.value,globalActiveUsers:e})}),this.socket.on("productViewers",e=>{const o=this.viewerStats.value;o.currentProductId===e.productId&&this.viewerStats.next({...o,productViewers:e.count})}),this.socket.on("connect",()=>{console.log("Connected to real-time server")}),this.socket.on("disconnect",()=>{console.log("Disconnected from real-time server")}),this.socket.on("error",e=>{console.error("Socket error:",e)})}viewProduct(e){this.socket&&this.socket.connected&&(this.socket.emit("viewProduct",e),this.viewerStats.next({...this.viewerStats.value,currentProductId:e}))}stopViewingProduct(e){this.socket&&this.socket.connected&&(this.socket.emit("stopViewingProduct",e),this.viewerStats.next({...this.viewerStats.value,currentProductId:void 0,productViewers:0}))}getViewerStats(){return this.viewerStats.value}getViewerStats$(){return this.viewerStats$}disconnect(){this.socket&&this.socket.disconnect()}reconnect(){this.socket&&this.socket.connect()}getServerUrl(){const e="https:"===window.location.protocol?"https":"http",o=window.location.hostname,r=window.location.port;return r?`${e}://${o}:${r}`:"https"===e?`${e}://${o}`:`${e}://${o}:4200`}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),e_=(()=>{class t{constructor(){this.router=w(me),this.location=w(ao),this.previousUrl="/",this.currentUrl="/",this.initializeRouterHistory()}initializeRouterHistory(){this.currentUrl=this.router.url||"/",this.previousUrl=this.currentUrl,this.router.events.pipe(Bn(e=>e instanceof zn)).subscribe(e=>{this.previousUrl=this.currentUrl,this.currentUrl=e.url,console.log("Navigation tracked:",{previousUrl:this.previousUrl,currentUrl:this.currentUrl})})}getPreviousUrl(){return this.previousUrl||"/all-categories"}getCurrentUrl(){return this.currentUrl||"/"}goBack(){const e=this.getPreviousUrl();console.log("Going back to:",e),console.log("Current URL:",this.currentUrl),e?this.router.navigateByUrl(e):this.router.navigate(["/all-categories"])}clearHistory(){this.previousUrl="/all-categories",this.currentUrl=this.router.url||"/"}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const gO=t=>["/category",t],fO=()=>[1,2,3,4,5];function VB(t,n){1&t&&(a(0,"div",5),b(1,"div",6),a(2,"p"),d(3,"Loading product..."),c()())}function BB(t,n){if(1&t&&(a(0,"div",7)(1,"div",8),b(2,"i",9),a(3,"h2"),d(4),c(),a(5,"p"),d(6,"The product you are looking for does not exist."),c(),a(7,"a",10),d(8,"Back to Shop"),c()()()),2&t){const e=f();p(4),S(e.errorMessage)}}function zB(t,n){if(1&t){const e=R();a(0,"div",93)(1,"button",94),C("click",function(){return y(e),v(f(2).zoomOut())}),b(2,"i",95),c(),a(3,"span",96),d(4),Q(5,"number"),c(),a(6,"button",97),C("click",function(){return y(e),v(f(2).zoomIn())}),b(7,"i",98),c(),a(8,"button",99),C("click",function(){return y(e),v(f(2).resetZoom())}),b(9,"i",100),c(),a(10,"button",101),C("click",function(){y(e);const r=f(2);return v(r.openLightbox(r.selectedImageIndex))}),b(11,"i",102),c()()}if(2&t){const e=f(2);p(),h("disabled",e.zoomLevel<=e.zoomMinLevel),p(3),D("",pt(5,4,100*e.zoomLevel,"1.0-0"),"%"),p(2),h("disabled",e.zoomLevel>=e.zoomMaxLevel),p(2),h("disabled",1===e.zoomLevel)}}function jB(t,n){if(1&t&&b(0,"div",103),2&t){const e=f(2);oo("left",e.lensLeft,"px")("top",e.lensTop,"px")("width",e.lensWidth,"px")("height",e.lensHeight,"px")}}function $B(t,n){1&t&&(a(0,"span",104),d(1,"New"),c())}function HB(t,n){1&t&&(a(0,"span",105),d(1,"Hot"),c())}function qB(t,n){1&t&&(a(0,"div",106)(1,"span",107),d(2,"360\xb0"),c(),a(3,"span",108),d(4,"Hover to rotate"),c()())}function WB(t,n){if(1&t&&b(0,"div",109),2&t){const e=f(2);oo("background-image","url("+e.selectedImage+")")("background-position",e.zoomBackgroundPosition)("background-size",e.zoomBackgroundSize)}}function GB(t,n){if(1&t){const e=R();a(0,"img",115),C("click",function(){const r=y(e).index;return v(f(3).selectImage(r))}),c()}if(2&t){const e=n.$implicit,o=n.index,r=f(3);B("active",r.selectedImageIndex===o),h("src",e,ue)("alt",r.product.name+" angle "+(o+1))}}function YB(t,n){if(1&t){const e=R();a(0,"button",116),C("click",function(){return y(e),v(f(3).previousImage())}),b(1,"i",117),c()}}function KB(t,n){if(1&t){const e=R();a(0,"button",118),C("click",function(){return y(e),v(f(3).nextImage())}),b(1,"i",119),c()}}function QB(t,n){if(1&t&&(a(0,"div",110)(1,"div",111),P(2,GB,1,4,"img",112),c(),P(3,YB,2,0,"button",113)(4,KB,2,0,"button",114),c()),2&t){const e=f(2);p(2),h("ngForOf",e.allProductImages),p(),h("ngIf",e.allProductImages.length>5),p(),h("ngIf",e.allProductImages.length>5)}}function JB(t,n){if(1&t){const e=R();a(0,"button",120),C("click",function(){return y(e),v(f(2).editProduct())}),b(1,"i",121),d(2," Edit Product "),c()}}function XB(t,n){if(1&t&&(a(0,"div",122)(1,"p",123),d(2),c()()),2&t){const e=f(2);p(2),S(e.product.aboutProduct)}}function ZB(t,n){1&t&&b(0,"i",124),2&t&&B("filled",n.$implicit<=f(2).product.rating)}function ez(t,n){if(1&t&&(a(0,"div",125),b(1,"i",126),a(2,"span"),d(3),c()()),2&t){const e=f(2);p(3),D("",e.product.recentPurchaseCount," people purchased this recently!")}}function tz(t,n){if(1&t&&(a(0,"span",127),d(1),Q(2,"number"),c()),2&t){const e=f(2);p(),D("\u20b9",pt(2,1,e.product.originalPrice,"1.0-0"),"")}}function nz(t,n){if(1&t&&(a(0,"span",128),d(1),c()),2&t){const e=f(2);p(),D("-",e.getDiscountPercentage(),"%")}}function oz(t,n){if(1&t&&(a(0,"div",69)(1,"span",70),d(2,"SKU:"),c(),a(3,"span",72),d(4),c()()),2&t){const e=f(2);p(4),S(e.product.sku)}}function rz(t,n){if(1&t&&(a(0,"p"),d(1),c()),2&t){const e=f(3);p(),S(e.product.description)}}function iz(t,n){1&t&&(a(0,"p"),d(1,"No description available for this product."),c())}function sz(t,n){if(1&t&&(a(0,"div",129)(1,"div",130),P(2,rz,2,1,"p",131)(3,iz,2,0,"p",131),c()()),2&t){const e=f(2);B("active","description"===e.activeTab),p(2),h("ngIf",e.product.description),p(),h("ngIf",!e.product.description)}}function az(t,n){if(1&t&&(a(0,"li"),d(1),c()),2&t){const e=n.$implicit;p(),S(e)}}function cz(t,n){if(1&t&&(a(0,"ul",135),P(1,az,2,1,"li",136),c()),2&t){const e=f(3);p(),h("ngForOf",e.product.packageIncludes)}}function lz(t,n){1&t&&(a(0,"p",137),d(1," No package information available. "),c())}function dz(t,n){if(1&t&&(a(0,"div",129)(1,"div",132)(2,"h3"),d(3,"Package Includes:"),c(),P(4,cz,2,1,"ul",133)(5,lz,2,0,"p",134),c()()),2&t){const e=f(2);B("active","package"===e.activeTab),p(4),h("ngIf",e.product.packageIncludes&&e.product.packageIncludes.length>0),p(),h("ngIf",!e.product.packageIncludes||0===e.product.packageIncludes.length)}}function uz(t,n){if(1&t&&(a(0,"tr")(1,"td",141),d(2),c(),a(3,"td",142),d(4),c()()),2&t){const e=n.$implicit;p(2),S(e.key),p(2),S(e.value)}}function pz(t,n){if(1&t&&(a(0,"table",140)(1,"tbody"),P(2,uz,5,2,"tr",136),Q(3,"keyvalue"),c()()),2&t){const e=f(3);p(2),h("ngForOf",Ne(3,1,e.product.specifications))}}function gz(t,n){1&t&&(a(0,"p",137),d(1," No additional information available. "),c())}function fz(t,n){if(1&t&&(a(0,"div",129)(1,"div",138)(2,"h3"),d(3,"Additional Information"),c(),P(4,pz,4,3,"table",139),Q(5,"keyvalue"),P(6,gz,2,0,"p",134),Q(7,"keyvalue"),c()()),2&t){const e=f(2);B("active","additional"===e.activeTab),p(4),h("ngIf",e.product.specifications&&Ne(5,4,e.product.specifications).length>0),p(2),h("ngIf",!e.product.specifications||0===Ne(7,6,e.product.specifications).length)}}function hz(t,n){if(1&t){const e=R();a(0,"i",159),C("click",function(){const r=y(e).$implicit;return v(f(3).setRating(r))}),c()}if(2&t){const e=n.$implicit;B("fas",f(3).reviewRating>=e)}}function mz(t,n){if(1&t){const e=R();a(0,"div",129)(1,"div",143)(2,"div",144)(3,"div",145)(4,"h3"),d(5,"REVIEWS"),c(),a(6,"p",146),d(7,"There are no reviews yet."),c()(),a(8,"div",147)(9,"h4"),d(10),c(),a(11,"form",148),C("submit",function(r){return y(e),v(f(2).submitReview(r))}),a(12,"div",149)(13,"label"),d(14,"Your rating "),a(15,"span",150),d(16,"*"),c()(),a(17,"div",151),P(18,hz,1,2,"i",152),c()(),a(19,"div",149)(20,"label"),d(21,"Your review "),a(22,"span",150),d(23,"*"),c()(),a(24,"textarea",153),A("ngModelChange",function(r){y(e);const i=f(2);return F(i.reviewText,r)||(i.reviewText=r),v(r)}),c()(),a(25,"div",154)(26,"div",155)(27,"label"),d(28,"Name "),a(29,"span",150),d(30,"*"),c()(),a(31,"input",156),A("ngModelChange",function(r){y(e);const i=f(2);return F(i.reviewName,r)||(i.reviewName=r),v(r)}),c()(),a(32,"div",155)(33,"label"),d(34,"Email "),a(35,"span",150),d(36,"*"),c()(),a(37,"input",157),A("ngModelChange",function(r){y(e);const i=f(2);return F(i.reviewEmail,r)||(i.reviewEmail=r),v(r)}),c()()(),a(38,"button",158),d(39,"SUBMIT REVIEW"),c()()()()()()}if(2&t){const e=f(2);B("active","reviews"===e.activeTab),p(10),D('BE THE FIRST TO REVIEW "',e.product.name,'"'),p(8),h("ngForOf",Xe(7,fO)),p(6),E("ngModel",e.reviewText),p(7),E("ngModel",e.reviewName),p(6),E("ngModel",e.reviewEmail)}}function _z(t,n){if(1&t&&(a(0,"div",173),d(1),c()),2&t){const e=f(3);p(),rn(" ",e.lightboxImageIndex+1," / ",e.allProductImages.length," ")}}function bz(t,n){if(1&t){const e=R();a(0,"img",176),C("click",function(){const r=y(e).index;return v(f(4).lightboxImageIndex=r)}),c()}if(2&t){const e=n.$implicit,o=n.index,r=f(4);B("active",r.lightboxImageIndex===o),h("src",e,ue)("alt",r.product.name+" angle "+(o+1))}}function yz(t,n){if(1&t&&(a(0,"div",174),P(1,bz,1,4,"img",175),c()),2&t){const e=f(3);p(),h("ngForOf",e.allProductImages)}}function vz(t,n){if(1&t){const e=R();a(0,"div",160),C("keydown",function(r){return y(e),v(f(2).onLightboxKeydown(r))}),a(1,"div",161),C("click",function(){return y(e),v(f(2).closeLightbox())}),c(),a(2,"div",162)(3,"button",163),C("click",function(){return y(e),v(f(2).closeLightbox())}),b(4,"i",164),c(),a(5,"div",165),b(6,"img",166),P(7,_z,2,2,"div",167),c(),a(8,"div",168)(9,"button",169),C("click",function(){return y(e),v(f(2).lightboxPrevImage())}),b(10,"i",117),c(),a(11,"button",170),C("click",function(){return y(e),v(f(2).lightboxNextImage())}),b(12,"i",119),c()(),P(13,yz,2,1,"div",171),a(14,"div",172)(15,"p"),d(16,"Use arrow keys to navigate \u2022 Press ESC to close"),c()()()()}if(2&t){const e=f(2);p(6),h("src",e.allProductImages[e.lightboxImageIndex],ue)("alt",e.product.name+" angle "+(e.lightboxImageIndex+1)),p(),h("ngIf",e.allProductImages.length>1),p(2),h("disabled",0===e.lightboxImageIndex),p(2),h("disabled",e.lightboxImageIndex===e.allProductImages.length-1),p(2),h("ngIf",e.allProductImages.length>1)}}function Cz(t,n){if(1&t){const e=R();a(0,"app-auth-modal",180),C("close",function(){return y(e),v(f(3).closeAuthModal())}),c()}if(2&t){const e=f(3);h("message",e.authModalMessage)("initialTab",e.authModalTab)}}function xz(t,n){if(1&t&&(a(0,"div",177)(1,"div",13),b(2,"i",178),P(3,Cz,1,2,"app-auth-modal",179),c()()),2&t){const e=f(2);p(3),h("ngIf",e.showAuthModal)}}function Mz(t,n){if(1&t){const e=R();a(0,"div",11)(1,"div",12)(2,"div",13)(3,"a",14),d(4,"Home"),c(),d(5," / "),a(6,"a",15),d(7),c(),d(8," / "),a(9,"span"),d(10),c()()(),a(11,"div",16)(12,"div",17)(13,"div",18),b(14,"i",19),a(15,"span",20),d(16,"Members Online:"),c(),a(17,"span",21),d(18),c()(),b(19,"div",22),a(20,"div",18),b(21,"i",23),a(22,"span",20),d(23,"Viewing This Product:"),c(),a(24,"span",24),d(25),c()()()(),a(26,"div",13)(27,"div",25)(28,"div",26),P(29,zB,12,7,"div",27),a(30,"div",28,0),C("mouseenter",function(){return y(e),v(f().onMouseEnter())})("mouseleave",function(){return y(e),v(f().onMouseLeave())})("mousemove",function(r){return y(e),v(f().onMouseMove(r))}),b(32,"img",29,1),P(34,jB,1,8,"div",30),a(35,"div",31),P(36,$B,2,0,"span",32)(37,HB,2,0,"span",33),c(),P(38,qB,5,0,"div",34),c(),P(39,WB,1,6,"div",35)(40,QB,5,3,"div",36),c(),a(41,"div",37)(42,"div",38)(43,"div",39)(44,"h1",40),d(45),c(),P(46,JB,3,0,"button",41),c(),a(47,"span",42),d(48,"Brand: "),a(49,"strong"),d(50),c()(),P(51,XB,3,1,"div",43),c(),a(52,"div",44)(53,"div",45),P(54,ZB,1,2,"i",46),c(),a(55,"span",47),d(56),Q(57,"number"),c(),a(58,"span",48),d(59,"(0 reviews)"),c()(),P(60,ez,4,1,"div",49),a(61,"div",50)(62,"div",51)(63,"span",52),d(64),Q(65,"number"),c(),P(66,tz,3,4,"span",53)(67,nz,2,1,"span",54),c()(),a(68,"div",55),b(69,"i",56),a(70,"span"),d(71),c()(),a(72,"div",57)(73,"div",58)(74,"button",59),C("click",function(){return y(e),v(f().decreaseQuantity())}),d(75,"\u2212"),c(),a(76,"input",60),A("ngModelChange",function(r){y(e);const i=f();return F(i.quantity,r)||(i.quantity=r),v(r)}),c(),a(77,"button",61),C("click",function(){return y(e),v(f().increaseQuantity())}),d(78,"+"),c()(),a(79,"button",62),C("click",function(){return y(e),v(f().addToQuote())}),b(80,"i",63),d(81," ADD TO QUOTE "),c()(),a(82,"div",64)(83,"button",65),C("click",function(){return y(e),v(f().toggleWishlist())}),b(84,"i",66),d(85," Add to Wishlist "),c(),a(86,"button",65),C("click",function(){return y(e),v(f().addToCompare())}),b(87,"i",67),d(88),c()(),a(89,"div",68)(90,"div",69)(91,"span",70),d(92,"Category:"),c(),a(93,"a",71),d(94),c()(),a(95,"div",69)(96,"span",70),d(97,"Brand:"),c(),a(98,"span",72),d(99),c()(),P(100,oz,5,1,"div",73),c(),a(101,"div",74)(102,"span",75),d(103,"Share:"),c(),a(104,"a",76),b(105,"i",77),c(),a(106,"a",78),b(107,"i",79),c(),a(108,"a",80),b(109,"i",81),c(),a(110,"a",82),b(111,"i",83),c()()()(),a(112,"div",84)(113,"div",85)(114,"button",86),C("click",function(){return y(e),v(f().activeTab="description")}),d(115," Description "),c(),a(116,"button",86),C("click",function(){return y(e),v(f().activeTab="package")}),d(117," Package Includes "),c(),a(118,"button",86),C("click",function(){return y(e),v(f().activeTab="additional")}),d(119," Additional Information "),c(),a(120,"button",86),C("click",function(){return y(e),v(f().activeTab="reviews")}),d(121," Reviews (0) "),c()(),a(122,"div",87),P(123,sz,4,4,"div",88)(124,dz,6,4,"div",88)(125,fz,8,8,"div",88)(126,mz,40,8,"div",88),c()(),a(127,"section",89),b(128,"app-recently-viewed-carousel",90),c()(),P(129,vz,17,6,"div",91)(130,xz,4,1,"div",92),c()}if(2&t){const e=f();p(6),h("routerLink",Et(66,gO,e.getCategorySlug())),p(),S(e.product.category),p(3),S(e.product.name),p(8),S(e.globalActiveUsers()),p(7),S(e.currentProductViewers()),p(4),h("ngIf",e.allProductImages.length>0),p(3),h("src",e.selectedImage,ue)("alt",e.product.name),p(2),h("ngIf",e.showZoomWindow),p(2),h("ngIf",e.product.isNew),p(),h("ngIf",e.product.isHot),p(),h("ngIf",e.allProductImages.length>1&&!e.showZoomWindow),p(),h("ngIf",e.showZoomWindow),p(),h("ngIf",e.allProductImages.length>0),p(5),S(e.product.name),p(),h("ngIf",e.isAdmin()),p(4),S(e.product.brand),p(),h("ngIf",e.product.aboutProduct),p(3),h("ngForOf",Xe(68,fO)),p(2),S(pt(57,60,e.product.rating,"1.1-1")),p(4),h("ngIf",e.product.recentPurchaseCount&&e.product.recentPurchaseCount>0),p(4),D("\u20b9",pt(65,63,e.product.price,"1.0-0"),""),p(2),h("ngIf",e.product.originalPrice),p(),h("ngIf",e.getDiscountPercentage()),p(),B("in-stock",e.product.inStock)("out-of-stock",!e.product.inStock),p(),B("fa-check-circle",e.product.inStock)("fa-times-circle",!e.product.inStock),p(2),S(e.product.inStock?"In Stock":"Out of Stock"),p(3),h("disabled",e.quantity<=1),p(2),E("ngModel",e.quantity),p(3),h("disabled",!e.product.inStock),p(5),B("active",e.isInWishlist()),p(3),B("active",e.isInCompare()),p(),D(" ",e.isInCompare()?"Remove Compare":"Compare"," "),p(5),h("routerLink",Et(69,gO,e.getCategorySlug())),p(),S(e.product.category),p(5),S(e.product.brand),p(),h("ngIf",e.product.sku),p(14),B("active","description"===e.activeTab),p(2),B("active","package"===e.activeTab),p(2),B("active","additional"===e.activeTab),p(2),B("active","reviews"===e.activeTab),p(3),h("ngIf","description"===e.activeTab),p(),h("ngIf","package"===e.activeTab),p(),h("ngIf","additional"===e.activeTab),p(),h("ngIf","reviews"===e.activeTab),p(2),h("limit",4),p(),h("ngIf",e.showLightbox),p(),h("ngIf",!e.product)}}let Pz=(()=>{class t{constructor(){this.route=w(sn),this.router=w(me),this.backendProductService=w(Vo),this.navigationHistory=w(e_),this.recentlyViewedService=w(q2),this.viewersService=w(UB),this.cartService=w(fr),this.quoteService=w(fs),this.wishlistService=w(mc),this.compareService=w(Y2),this.authService=w(Qe),this.showAuthModal=!1,this.authModalMessage="",this.authModalTab="login",this.globalActiveUsers=Mt(0),this.currentProductViewers=Mt(0),this.isAdmin=Ao(()=>this.authService.isAdmin()),this.loading=!0,this.errorMessage="",this.quantity=1,this.selectedImage="",this.selectedImageIndex=0,this.allProductImages=[],this.activeTab="description",this.reviewRating=0,this.reviewText="",this.reviewName="",this.reviewEmail="",this.zoomLevel=2.5,this.showLightbox=!1,this.lightboxImageIndex=0,this.zoomMaxLevel=5,this.zoomMinLevel=1.5,this.zoomStep=.5,this.isHovering=!1,this.imageAutoScrollInterval=null,this.lastMouseX=0,this.imageScrollSpeed=50,this.showZoomWindow=!1,this.zoomLensSize=100,this.lensTop=0,this.lensLeft=0,this.lensWidth=150,this.lensHeight=150,this.zoomBackgroundPosition="0% 0%",this.zoomBackgroundSize="200%"}ngOnInit(){this.viewersService.getViewerStats$().subscribe(e=>{this.globalActiveUsers.set(e.globalActiveUsers),this.currentProductViewers.set(e.productViewers)}),this.route.params.subscribe(e=>{const o=e.id;this.loading=!0,this.errorMessage="";const r=parseInt(o,10);isNaN(r)||this.viewersService.viewProduct(r),this.backendProductService.getProductById(o).subscribe({next:i=>{if(this.product=i.data,this.product){this.selectedImage=this.product.image,this.allProductImages=this.getProductImages(),this.selectedImageIndex=0;const s=parseInt(this.product.id,10);isNaN(s)||this.recentlyViewedService.addToRecentlyViewed(s).subscribe(()=>console.log("Added to recently viewed"),l=>console.error("Error adding to recently viewed:",l))}this.loading=!1},error:i=>{console.error("Error fetching product:",i),this.errorMessage="Product not found",this.loading=!1}})})}ngOnDestroy(){if(this.product){const e=parseInt(this.product.id,10);isNaN(e)||this.viewersService.stopViewingProduct(e)}}getCategorySlug(){return this.product?this.product.category.toLowerCase().replace(/ /g,"-"):""}getProductImages(){return this.product?this.product.images&&Array.isArray(this.product.images)?this.product.images.filter(e=>e&&e.trim()):"2"===this.product.id?["https://www.agarwalelectronics.com/wp-content/uploads/2024/03/2-WHEEL-ROUND-KIT-1.jpg","https://www.agarwalelectronics.com/wp-content/uploads/2024/03/2-WHEEL-ROUND-KIT-2.jpg"]:"3"===this.product.id?["assets/images/products/placeholder.jpg","assets/images/products/placeholder.jpg"]:"6"===this.product.id?["https://www.agarwalelectronics.com/wp-content/uploads/2024/03/DIY-KIT-AIR-CAR-ROD3-1.jpg"]:this.product.image?[this.product.image]:[]:[]}increaseQuantity(){this.quantity++}decreaseQuantity(){this.quantity>1&&this.quantity--}addToCart(){if(this.authService.requireLogin())return this.authModalMessage="Please login to add items to cart",this.authModalTab="login",void(this.showAuthModal=!0);this.product&&this.cartService.addToCart(this.product,this.quantity)}addToQuote(){if(this.authService.requireLogin())return this.authModalMessage="Please login to request a quote",this.authModalTab="login",void(this.showAuthModal=!0);this.product&&this.quoteService.addToQuote(this.product,this.quantity)}toggleWishlist(){if(this.authService.requireLogin())return this.authModalMessage="Please login to add items to wishlist",this.authModalTab="login",void(this.showAuthModal=!0);this.product&&(this.wishlistService.isInWishlist(this.product.id)?this.wishlistService.removeFromWishlist(this.product.id):this.wishlistService.addToWishlist(this.product))}addToCompare(){if(this.authService.requireLogin())return this.authModalMessage="Please login to compare products",this.authModalTab="login",void(this.showAuthModal=!0);this.product&&(this.compareService.isInCompare(this.product.id)?this.compareService.removeFromCompare(this.product.id):this.compareService.addToCompare(this.product))}isInCompare(){return!!this.product&&this.compareService.isInCompare(this.product.id)}closeAuthModal(){this.showAuthModal=!1,this.authModalMessage=""}isInWishlist(){return!!this.product&&this.wishlistService.isInWishlist(this.product.id)}setRating(e){this.reviewRating=e}submitReview(e){e.preventDefault(),0!==this.reviewRating?this.reviewText.trim()?this.reviewName.trim()&&this.reviewEmail.trim()?(alert("Thank you for your review! It has been submitted for approval."),this.reviewRating=0,this.reviewText="",this.reviewName="",this.reviewEmail=""):alert("Please fill in all required fields"):alert("Please write a review"):alert("Please select a rating")}getDiscountPercentage(){return this.product?.originalPrice&&this.product.originalPrice>this.product.price?Math.round((this.product.originalPrice-this.product.price)/this.product.originalPrice*100):null}zoomIn(){this.zoomLevel<this.zoomMaxLevel&&(this.zoomLevel=Math.min(this.zoomLevel+this.zoomStep,this.zoomMaxLevel))}zoomOut(){this.zoomLevel>this.zoomMinLevel&&(this.zoomLevel=Math.max(this.zoomLevel-this.zoomStep,this.zoomMinLevel))}resetZoom(){this.zoomLevel=2.5}onMouseEnter(){this.showZoomWindow=!0,this.stopImageAutoScroll()}onMouseLeave(){this.showZoomWindow=!1}onMouseMove(e){if(!this.showZoomWindow)return;const o=e.currentTarget,r=o.querySelector("img.main-image");if(!r)return;const i=o.getBoundingClientRect(),l=(r.getBoundingClientRect(),this.zoomLevel),g=1*i.height;this.lensWidth=1.3*i.width/l,this.lensHeight=g/l;let x=e.clientX-i.left-this.lensWidth/2,M=e.clientY-i.top-this.lensHeight/2;x>i.width-this.lensWidth&&(x=i.width-this.lensWidth),x<0&&(x=0),M>i.height-this.lensHeight&&(M=i.height-this.lensHeight),M<0&&(M=0),this.lensLeft=x,this.lensTop=M,this.zoomBackgroundPosition=`-${x*l}px -${M*l}px`,this.zoomBackgroundSize=`${i.width*l}px ${i.height*l}px`}selectImage(e){this.selectedImageIndex=e,this.selectedImage=this.allProductImages[e]}onImageHoverEnter(e){this.isHovering=!0,this.lastMouseX=e.clientX,this.startImageAutoScroll()}onImageHoverLeave(){this.isHovering=!1,this.stopImageAutoScroll()}startImageAutoScroll(){this.imageAutoScrollInterval&&clearInterval(this.imageAutoScrollInterval),this.imageAutoScrollInterval=setInterval(()=>{this.isHovering&&this.allProductImages.length>1&&this.nextImage()},this.imageScrollSpeed)}stopImageAutoScroll(){this.imageAutoScrollInterval&&(clearInterval(this.imageAutoScrollInterval),this.imageAutoScrollInterval=null)}nextImage(){this.allProductImages.length<=1||(this.selectedImageIndex=(this.selectedImageIndex+1)%this.allProductImages.length,this.selectedImage=this.allProductImages[this.selectedImageIndex])}previousImage(){this.allProductImages.length<=1||(this.selectedImageIndex=(this.selectedImageIndex-1+this.allProductImages.length)%this.allProductImages.length,this.selectedImage=this.allProductImages[this.selectedImageIndex])}openLightbox(e=0){this.showLightbox=!0,this.lightboxImageIndex=e,document.body.style.overflow="hidden"}closeLightbox(){this.showLightbox=!1,document.body.style.overflow="auto"}lightboxNextImage(){this.lightboxImageIndex<this.allProductImages.length-1&&this.lightboxImageIndex++}lightboxPrevImage(){this.lightboxImageIndex>0&&this.lightboxImageIndex--}onLightboxKeydown(e){if(this.showLightbox)switch(e.key){case"ArrowRight":this.lightboxNextImage(),e.preventDefault();break;case"ArrowLeft":this.lightboxPrevImage(),e.preventDefault();break;case"Escape":this.closeLightbox(),e.preventDefault()}}goBack(){this.navigationHistory.goBack()}editProduct(){this.product?.id&&this.router.navigate(["/admin/products/edit"],{queryParams:{id:this.product.id}})}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=se({type:t,selectors:[["app-product-detail"]],standalone:!0,features:[ae],decls:3,vars:3,consts:[["mainImageContainer",""],["mainImage",""],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],["class","product-detail-page",4,"ngIf"],[1,"loading-container"],[1,"spinner"],[1,"error-container"],[1,"error-box"],[1,"fas","fa-warning"],["routerLink","/shop",1,"btn","btn-primary"],[1,"product-detail-page"],[1,"breadcrumb"],[1,"container"],["routerLink","/"],[3,"routerLink"],[1,"viewer-info-bar"],[1,"container","viewer-info-content"],[1,"info-section"],[1,"fas","fa-users"],[1,"label"],[1,"count"],[1,"info-divider"],[1,"fas","fa-eye"],[1,"count","highlight"],[1,"product-detail-grid"],[1,"product-images-section"],["class","image-zoom-controls",4,"ngIf"],[1,"main-image-container",3,"mouseenter","mouseleave","mousemove"],["onerror","this.src='assets/images/placeholder.jpg'",1,"main-image",3,"src","alt"],["class","zoom-lens",3,"left","top","width","height",4,"ngIf"],[1,"badge-container"],["class","badge badge-new",4,"ngIf"],["class","badge badge-hot",4,"ngIf"],["class","image-360-indicator",4,"ngIf"],["class","zoom-window",3,"background-image","background-position","background-size",4,"ngIf"],["class","thumbnails-container",4,"ngIf"],[1,"product-info-section"],[1,"product-header"],[1,"header-top"],[1,"product-title"],["class","btn btn-edit","title","Edit product",3,"click",4,"ngIf"],[1,"product-brand"],["class","about-product-inline",4,"ngIf"],[1,"product-rating"],[1,"stars"],["class","fas fa-star",3,"filled",4,"ngFor","ngForOf"],[1,"rating-value"],[1,"review-count"],["class","recent-purchase-notification","style","color: #ff4500; font-weight: bold; margin-bottom: 15px; display: flex; align-items: center; gap: 8px;",4,"ngIf"],[1,"pricing-section"],[1,"price-display"],[1,"current-price"],["class","original-price",4,"ngIf"],["class","discount-badge",4,"ngIf"],[1,"stock-status"],[1,"fas"],[1,"product-actions-section"],[1,"quantity-selector"],[1,"qty-btn",3,"click","disabled"],["type","number","min","1","readonly","",1,"qty-input",3,"ngModelChange","ngModel"],[1,"qty-btn",3,"click"],[1,"btn","btn-primary","btn-quote",3,"click","disabled"],[1,"fas","fa-shopping-cart"],[1,"additional-actions"],[1,"action-btn",3,"click"],[1,"fas","fa-heart"],[1,"fas","fa-code-compare"],[1,"product-meta-info"],[1,"meta-item"],[1,"meta-label"],[1,"meta-value",3,"routerLink"],[1,"meta-value"],["class","meta-item",4,"ngIf"],[1,"share-section"],[1,"share-label"],["href","#","title","Share on Twitter",1,"share-btn","twitter"],[1,"fab","fa-twitter"],["href","#","title","Share via Email",1,"share-btn","email"],[1,"fas","fa-envelope"],["href","#","title","Share on LinkedIn",1,"share-btn","linkedin"],[1,"fab","fa-linkedin"],["href","#","title","Share on WhatsApp",1,"share-btn","whatsapp"],[1,"fab","fa-whatsapp"],[1,"product-tabs-section"],[1,"tabs-header"],[1,"tab-btn",3,"click"],[1,"tabs-content"],["class","tab-panel",3,"active",4,"ngIf"],[1,"related-products-section"],["variant","carousel",3,"limit"],["class","lightbox-modal","tabindex","0",3,"keydown",4,"ngIf"],["class","no-product",4,"ngIf"],[1,"image-zoom-controls"],["title","Zoom out",1,"zoom-btn",3,"click","disabled"],[1,"fas","fa-minus"],[1,"zoom-level"],["title","Zoom in",1,"zoom-btn",3,"click","disabled"],[1,"fas","fa-plus"],["title","Reset zoom",1,"zoom-btn","reset-btn",3,"click","disabled"],[1,"fas","fa-redo"],["title","Fullscreen",1,"zoom-btn","fullscreen-btn",3,"click"],[1,"fas","fa-expand"],[1,"zoom-lens"],[1,"badge","badge-new"],[1,"badge","badge-hot"],[1,"image-360-indicator"],[1,"indicator-text"],[1,"indicator-hint"],[1,"zoom-window"],[1,"thumbnails-container"],[1,"thumbnails-scroll"],["class","thumbnail","onerror","this.src='assets/images/placeholder.jpg'",3,"src","alt","active","click",4,"ngFor","ngForOf"],["class","thumb-nav prev","title","Previous angle",3,"click",4,"ngIf"],["class","thumb-nav next","title","Next angle",3,"click",4,"ngIf"],["onerror","this.src='assets/images/placeholder.jpg'",1,"thumbnail",3,"click","src","alt"],["title","Previous angle",1,"thumb-nav","prev",3,"click"],[1,"fas","fa-chevron-left"],["title","Next angle",1,"thumb-nav","next",3,"click"],[1,"fas","fa-chevron-right"],["title","Edit product",1,"btn","btn-edit",3,"click"],[1,"fas","fa-edit"],[1,"about-product-inline"],[1,"about-text-inline"],[1,"fas","fa-star"],[1,"recent-purchase-notification",2,"color","#ff4500","font-weight","bold","margin-bottom","15px","display","flex","align-items","center","gap","8px"],[1,"fas","fa-fire"],[1,"original-price"],[1,"discount-badge"],[1,"tab-panel"],[1,"description-content"],[4,"ngIf"],[1,"package-content"],["class","package-list",4,"ngIf"],["class","no-info",4,"ngIf"],[1,"package-list"],[4,"ngFor","ngForOf"],[1,"no-info"],[1,"additional-content"],["class","info-table",4,"ngIf"],[1,"info-table"],[1,"spec-key"],[1,"spec-value"],[1,"reviews-section"],[1,"reviews-container"],[1,"reviews-left"],[1,"no-reviews"],[1,"reviews-right"],[1,"review-form",3,"submit"],[1,"form-group"],[1,"required"],[1,"star-rating"],["class","far fa-star",3,"fas","click",4,"ngFor","ngForOf"],["name","review","rows","6","required","",3,"ngModelChange","ngModel"],[1,"form-row"],[1,"form-group","half-width"],["type","text","name","name","required","",3,"ngModelChange","ngModel"],["type","email","name","email","required","",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary"],[1,"far","fa-star",3,"click"],["tabindex","0",1,"lightbox-modal",3,"keydown"],[1,"lightbox-overlay",3,"click"],[1,"lightbox-content"],["title","Close (ESC)",1,"lightbox-close",3,"click"],[1,"fas","fa-times"],[1,"lightbox-main-container"],["onerror","this.src='assets/images/placeholder.jpg'",1,"lightbox-main-image",3,"src","alt"],["class","lightbox-counter",4,"ngIf"],[1,"lightbox-nav"],["title","Previous image (\u2190 arrow)",1,"lightbox-arrow","prev",3,"click","disabled"],["title","Next image (\u2192 arrow)",1,"lightbox-arrow","next",3,"click","disabled"],["class","lightbox-thumbnails",4,"ngIf"],[1,"lightbox-info"],[1,"lightbox-counter"],[1,"lightbox-thumbnails"],["class","lightbox-thumb","onerror","this.src='assets/images/placeholder.jpg'",3,"src","alt","active","click",4,"ngFor","ngForOf"],["onerror","this.src='assets/images/placeholder.jpg'",1,"lightbox-thumb",3,"click","src","alt"],[1,"no-product"],[1,"fas","fa-exclamation-triangle"],[3,"message","initialTab","close",4,"ngIf"],[3,"close","message","initialTab"]],template:function(o,r){1&o&&P(0,VB,4,0,"div",2)(1,BB,9,1,"div",3)(2,Mz,131,71,"div",4),2&o&&(h("ngIf",r.loading),p(),h("ngIf",r.errorMessage&&!r.loading),p(),h("ngIf",r.product&&!r.loading))},dependencies:[pe,De,ve,co,wM,Ge,Ze,nt,bo,et,yo,rt,mo,dr,us,tt,_o,Lm,G2],styles:['.viewer-info-bar[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:12px 0;margin:20px 0;border-radius:6px;box-shadow:0 2px 8px #667eea4d}.viewer-info-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:40px}.info-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-size:14px}.info-section[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px;opacity:.9}.info-section[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:600}.info-section[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{background:#fff3;padding:4px 12px;border-radius:20px;font-weight:700;min-width:30px;text-align:center;font-size:16px}.info-section[_ngcontent-%COMP%]   .count.highlight[_ngcontent-%COMP%]{background:#ffd7004d;color:#ffeb3b}.info-divider[_ngcontent-%COMP%]{width:1px;height:30px;background:#ffffff4d}@media (max-width: 768px){.viewer-info-content[_ngcontent-%COMP%]{flex-direction:column;gap:15px}.info-divider[_ngcontent-%COMP%]{display:none}}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:500px;gap:20px}.spinner[_ngcontent-%COMP%]{border:4px solid #f3f3f3;border-top:4px solid #0066cc;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.error-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:600px;padding:40px 20px}.error-box[_ngcontent-%COMP%]{text-align:center;padding:50px 40px;border:2px solid #ff6b6b;border-radius:12px;background:#fff5f5;max-width:500px}.error-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:48px;color:#ff6b6b;display:block;margin-bottom:20px}.error-box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#c92a2a;margin-bottom:12px;font-size:24px}.error-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-bottom:25px;font-size:15px}.btn[_ngcontent-%COMP%]{display:inline-block;padding:12px 28px;text-decoration:none;border-radius:6px;transition:all .3s ease;cursor:pointer;border:none;font-size:14px;font-weight:600}.btn-primary[_ngcontent-%COMP%]{background:#06c;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#0052a3;transform:translateY(-2px);box-shadow:0 4px 12px #0066cc4d}.btn-primary[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed;transform:none}.btn-edit[_ngcontent-%COMP%]{background:#28a745;color:#fff;padding:10px 20px;font-size:13px;white-space:nowrap}.btn-edit[_ngcontent-%COMP%]:hover{background:#218838;transform:translateY(-2px);box-shadow:0 4px 12px #28a7454d}.btn-edit[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:6px}.breadcrumb[_ngcontent-%COMP%]{padding:16px 0;background:#f8f9fa;border-bottom:1px solid #e9ecef;margin-bottom:30px;font-size:14px}.breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#06c;text-decoration:none;transition:color .2s}.breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0052a3;text-decoration:underline}.breadcrumb[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#6c757d}.product-detail-page[_ngcontent-%COMP%]{padding:20px 0 60px}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 20px}.product-detail-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1.2fr;gap:50px;margin-bottom:60px}.product-images-section[_ngcontent-%COMP%]{position:sticky;top:100px;height:-moz-fit-content;height:fit-content;display:flex;flex-direction:column;gap:16px}.main-image-container[_ngcontent-%COMP%]{position:relative;background:#fff;border:1px solid #e9ecef;border-radius:12px;overflow:hidden;margin-bottom:0;aspect-ratio:1;display:flex;align-items:center;justify-content:center;min-height:500px;cursor:crosshair;transition:border-color .3s ease}.main-image-container[_ngcontent-%COMP%]:hover{border-color:#2196f3}.main-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;padding:30px;-webkit-user-select:none;user-select:none;-webkit-user-drag:none}.zoom-lens[_ngcontent-%COMP%]{position:absolute;border:1px solid #d4d4d4;background-color:#fff6;cursor:crosshair;z-index:10;pointer-events:none;box-shadow:0 0 5px #0000001a}.zoom-window[_ngcontent-%COMP%]{position:absolute;border:1px solid #d4d4d4;width:130%;height:100%;left:105%;top:0;background-color:#fff;z-index:1000;box-shadow:0 5px 15px #0003;background-repeat:no-repeat;border-radius:4px;display:block}.product-images-section[_ngcontent-%COMP%]{position:relative}.main-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;padding:30px;transition:transform .3s ease,opacity .3s ease;-webkit-user-select:none;user-select:none;-webkit-user-drag:none}.badge-container[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px;display:flex;flex-direction:column;gap:8px}.badge[_ngcontent-%COMP%]{display:inline-block;padding:6px 14px;font-size:11px;font-weight:700;border-radius:4px;color:#fff;text-transform:uppercase;letter-spacing:.5px;animation:_ngcontent-%COMP%_slideInDown .5s ease}@keyframes _ngcontent-%COMP%_slideInDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.badge-new[_ngcontent-%COMP%]{background:#4caf50}.badge-hot[_ngcontent-%COMP%]{background:#ff6b6b;animation:_ngcontent-%COMP%_slideInDown .5s ease,pulse-badge 2s infinite}@keyframes _ngcontent-%COMP%_pulse-badge{0%,to{opacity:1}50%{opacity:.8}}.image-360-indicator[_ngcontent-%COMP%]{position:absolute;left:20px;top:50%;transform:translateY(-50%);display:flex;flex-direction:column;align-items:center;gap:6px;opacity:0;transition:opacity .3s ease;pointer-events:none}.main-image-container[_ngcontent-%COMP%]:hover   .image-360-indicator[_ngcontent-%COMP%]{opacity:1}.indicator-text[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#2196f3;text-shadow:0 2px 4px rgba(0,0,0,.1)}.indicator-hint[_ngcontent-%COMP%]{font-size:11px;color:#666;background-color:#fffffff2;padding:4px 8px;border-radius:3px;text-align:center;white-space:nowrap;box-shadow:0 2px 4px #00000014}.image-zoom-controls[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:12px;padding:12px;background:linear-gradient(135deg,#f5f7fa,#f0f2f7);border:1px solid #e9ecef;border-radius:8px;margin-bottom:8px}.zoom-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;border:1px solid #e9ecef;background:#fff;border-radius:6px;cursor:pointer;font-size:16px;color:#333;transition:all .3s ease;box-shadow:0 2px 4px #0000000d}.zoom-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#2196f3;color:#fff;border-color:#2196f3;transform:scale(1.05);box-shadow:0 4px 8px #2196f34d}.zoom-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:scale(.95)}.zoom-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.zoom-level[_ngcontent-%COMP%]{min-width:50px;text-align:center;font-weight:600;color:#333;font-size:14px}.reset-btn[_ngcontent-%COMP%]{margin-left:8px;border-left:1px solid #e9ecef;padding-left:12px}.fullscreen-btn[_ngcontent-%COMP%]{margin-left:8px;border-left:1px solid #e9ecef;padding-left:12px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-color:transparent}.fullscreen-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#5568d3,#6a3d8f)}.click-zoom-hint[_ngcontent-%COMP%]{position:absolute;bottom:20px;left:20px;background:#000000b3;color:#fff;padding:10px 16px;border-radius:6px;font-size:13px;font-weight:600;display:flex;align-items:center;gap:8px;animation:_ngcontent-%COMP%_fadeIn .5s ease-out;pointer-events:none}.click-zoom-hint[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.image-counter[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:20px;background-color:#0009;color:#fff;padding:8px 14px;border-radius:4px;font-size:12px;font-weight:600;letter-spacing:.5px}.thumbnails-container[_ngcontent-%COMP%]{position:relative;display:flex;gap:8px;padding:12px;background-color:#f9f9f9;border-radius:8px;border:1px solid #e9ecef;align-items:center}.thumbnails-scroll[_ngcontent-%COMP%]{display:flex;gap:8px;overflow-x:auto;scroll-behavior:smooth;flex:1;padding:4px}.thumbnails-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:4px}.thumbnails-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.thumbnails-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ccc;border-radius:2px}.thumbnails-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#999}.thumbnail[_ngcontent-%COMP%]{flex:0 0 80px;width:80px;height:80px;object-fit:contain;border:2px solid #e9ecef;border-radius:8px;cursor:pointer;transition:all .3s ease;background:#fff;padding:6px;box-shadow:0 1px 3px #0000000d}.thumbnail[_ngcontent-%COMP%]:hover{border-color:#2196f3;box-shadow:0 2px 8px #2196f333;transform:scale(1.05)}.thumbnail.active[_ngcontent-%COMP%]{border-color:#2196f3;background-color:#e3f2fd;box-shadow:0 2px 8px #2196f34d;transform:scale(1.05)}.thumb-nav[_ngcontent-%COMP%]{flex:0 0 36px;width:36px;height:36px;border:none;border-radius:4px;background-color:#2196f3;color:#fff;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s ease;font-size:14px;padding:0;min-width:36px}.thumb-nav[_ngcontent-%COMP%]:hover{background-color:#1976d2;transform:scale(1.1);box-shadow:0 2px 8px #2196f34d}.thumb-nav[_ngcontent-%COMP%]:active{transform:scale(.95)}.thumb-nav[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{pointer-events:none}.product-info-section[_ngcontent-%COMP%]{padding-top:0}.product-header[_ngcontent-%COMP%]{margin-bottom:20px;padding-bottom:20px;border-bottom:1px solid #e9ecef}.header-top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:15px;margin-bottom:10px;flex-wrap:wrap}.product-title[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#1a202c;margin-bottom:0;line-height:1.3;flex-grow:1}.product-brand[_ngcontent-%COMP%]{color:#6c757d;font-size:14px;display:block;margin-bottom:15px}.product-brand[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1a202c;font-weight:600}.about-product-inline[_ngcontent-%COMP%]{margin-top:15px;padding:15px 0;border-top:1px solid #e9ecef}.about-text-inline[_ngcontent-%COMP%]{color:#495057;font-size:14px;line-height:1.7;margin:0;white-space:pre-wrap;word-wrap:break-word}.product-rating[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:24px;padding-bottom:24px;border-bottom:1px solid #e9ecef}.stars[_ngcontent-%COMP%]{display:flex;gap:2px}.stars[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:15px;color:#d3d3d3}.stars[_ngcontent-%COMP%]   i.filled[_ngcontent-%COMP%]{color:#ffc107}.rating-value[_ngcontent-%COMP%]{font-weight:600;color:#1a202c;font-size:14px}.review-count[_ngcontent-%COMP%]{color:#6c757d;font-size:14px}.pricing-section[_ngcontent-%COMP%]{margin-bottom:24px;padding-bottom:24px;border-bottom:1px solid #e9ecef}.price-display[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;flex-wrap:wrap}.current-price[_ngcontent-%COMP%]{font-size:42px;font-weight:700;color:#06c}.original-price[_ngcontent-%COMP%]{font-size:22px;color:#6c757d;text-decoration:line-through}.discount-badge[_ngcontent-%COMP%]{display:inline-block;padding:6px 12px;background:#ff5722;color:#fff;font-size:12px;font-weight:700;border-radius:4px;text-transform:uppercase}.stock-status[_ngcontent-%COMP%]{font-size:15px;font-weight:600;margin-bottom:28px;display:flex;align-items:center;gap:8px;color:#28a745;padding:12px 16px;background:#f0f8f5;border-radius:6px;width:-moz-fit-content;width:fit-content}.stock-status[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}.stock-status.out-of-stock[_ngcontent-%COMP%]{color:#ff5722;background:#fff5f2}.product-actions-section[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:24px}.quantity-selector[_ngcontent-%COMP%]{display:flex;border:1px solid #dee2e6;border-radius:6px;overflow:hidden;background:#fff}.qty-btn[_ngcontent-%COMP%]{width:44px;height:50px;background:#fff;border:none;color:#1a202c;cursor:pointer;font-size:18px;font-weight:700;transition:all .2s;display:flex;align-items:center;justify-content:center}.qty-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#f8f9fa;color:#06c}.qty-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.qty-input[_ngcontent-%COMP%]{width:60px;height:50px;border:none;border-left:1px solid #dee2e6;border-right:1px solid #dee2e6;text-align:center;font-weight:600;font-size:16px;background:#fff}.qty-input[_ngcontent-%COMP%]:focus{outline:none}.btn-quote[_ngcontent-%COMP%]{flex:1;height:50px;font-size:14px;letter-spacing:.5px;display:flex;align-items:center;justify-content:center;gap:8px}.additional-actions[_ngcontent-%COMP%]{display:flex;gap:16px;margin-bottom:28px;padding-bottom:28px;border-bottom:1px solid #e9ecef}.action-btn[_ngcontent-%COMP%]{background:#fff;border:1px solid #dee2e6;padding:10px 18px;font-size:14px;color:#1a202c;border-radius:6px;cursor:pointer;display:flex;align-items:center;gap:8px;transition:all .3s;flex:1;justify-content:center}.action-btn[_ngcontent-%COMP%]:hover{border-color:#06c;color:#06c;background:#f0f4ff}.action-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.action-btn[_ngcontent-%COMP%]   i.active[_ngcontent-%COMP%]{color:#ff5722}.product-meta-info[_ngcontent-%COMP%]{margin-bottom:28px;padding-bottom:28px;border-bottom:1px solid #e9ecef}.meta-item[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:10px;font-size:14px}.meta-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.meta-label[_ngcontent-%COMP%]{color:#1a202c;font-weight:600;min-width:80px}.meta-value[_ngcontent-%COMP%]{color:#6c757d}.meta-value[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#06c;text-decoration:none;transition:color .2s}.meta-value[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0052a3;text-decoration:underline}.share-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;font-size:14px;color:#1a202c}.share-label[_ngcontent-%COMP%]{font-weight:600}.share-btn[_ngcontent-%COMP%]{width:38px;height:38px;border:1px solid #dee2e6;border-radius:6px;display:flex;align-items:center;justify-content:center;color:#6c757d;text-decoration:none;transition:all .3s;font-size:16px}.share-btn[_ngcontent-%COMP%]:hover{background:#06c;color:#fff;border-color:#06c;transform:translateY(-2px)}.product-tabs-section[_ngcontent-%COMP%]{margin-top:60px;border-top:2px solid #e9ecef;padding-top:40px}.tabs-header[_ngcontent-%COMP%]{display:flex;gap:5px;border-bottom:2px solid #e9ecef;margin-bottom:35px;overflow-x:auto}.tab-btn[_ngcontent-%COMP%]{padding:14px 28px;background:none;border:none;font-size:15px;font-weight:600;color:#6c757d;cursor:pointer;position:relative;white-space:nowrap;transition:color .3s}.tab-btn[_ngcontent-%COMP%]:hover{color:#1a202c}.tab-btn.active[_ngcontent-%COMP%]{color:#06c}.tab-btn.active[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-2px;left:0;right:0;height:2px;background:#06c}.tabs-content[_ngcontent-%COMP%]{color:#6c757d;line-height:1.8;font-size:15px;padding:30px 0;min-height:200px}.tab-panel[_ngcontent-%COMP%]{display:none;animation:_ngcontent-%COMP%_fadeIn .3s ease-in}.tab-panel.active[_ngcontent-%COMP%]{display:block}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.about-content[_ngcontent-%COMP%], .description-content[_ngcontent-%COMP%]{padding:20px 0;line-height:1.9;color:#495057;font-size:15px}.about-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .description-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:16px;white-space:pre-wrap;word-wrap:break-word}.tab-panel[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;color:#1a202c;margin-bottom:20px;font-weight:700}.tab-panel[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;color:#1a202c;margin:25px 0 15px;font-weight:700}.tab-panel[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:15px}.description-content[_ngcontent-%COMP%]{line-height:1.9;color:#495057}.description-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:16px}.description-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1a202c}.package-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:#1a202c;margin-bottom:20px;font-weight:700}.package-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.package-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:12px 0 12px 28px;color:#495057;position:relative;border-bottom:1px solid #e9ecef;font-size:15px}.package-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2713";position:absolute;left:0;color:#28a745;font-weight:700;font-size:16px}.package-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.additional-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:#1a202c;margin-bottom:24px;font-weight:700}.info-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin:20px 0}.info-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #e9ecef}.info-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.info-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:16px 20px;font-size:15px}.spec-key[_ngcontent-%COMP%]{font-weight:600;color:#1a202c;width:40%;background:#f8f9fa;border-right:1px solid #e9ecef}.spec-value[_ngcontent-%COMP%]{color:#6c757d;width:60%}.no-info[_ngcontent-%COMP%]{color:#6c757d;font-style:italic;margin:20px 0}.reviews-section[_ngcontent-%COMP%]{padding:20px 0}.reviews-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 2fr;gap:50px;padding:20px 0}.reviews-left[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#1a202c;margin-bottom:20px;text-transform:uppercase;letter-spacing:.5px}.no-reviews[_ngcontent-%COMP%]{color:#6c757d;font-size:15px}.reviews-right[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#1a202c;margin-bottom:15px;text-transform:uppercase;letter-spacing:.5px}.review-form[_ngcontent-%COMP%]{margin-top:0;padding:0}.form-group[_ngcontent-%COMP%]{margin-bottom:24px}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:20px}.form-group.half-width[_ngcontent-%COMP%]{margin-bottom:0}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:600;color:#1a202c;margin-bottom:8px}.required[_ngcontent-%COMP%]{color:#ff5722}.star-rating[_ngcontent-%COMP%]{display:flex;gap:8px}.star-rating[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;color:#dee2e6;cursor:pointer;transition:color .2s}.star-rating[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%], .star-rating[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:#ffc107}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{width:100%;padding:12px 14px;border:1px solid #dee2e6;border-radius:6px;font-size:14px;font-family:inherit;color:#1a202c;transition:border-color .3s;background:#fff}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:focus{outline:none;border-color:#06c;box-shadow:0 0 0 3px #0066cc1a}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:130px}.related-products-section[_ngcontent-%COMP%]{margin-top:80px;padding-top:40px;border-top:2px solid #e9ecef}.no-product[_ngcontent-%COMP%]{text-align:center;padding:120px 20px}.no-product[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:80px;color:#ff5722;margin-bottom:20px;opacity:.8}.no-product[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:32px;font-weight:700;margin-bottom:15px;color:#1a202c}.no-product[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c757d;margin-bottom:30px;font-size:16px}@media (max-width: 992px){.product-detail-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:30px}.product-images-section[_ngcontent-%COMP%]{position:static}.main-image-container[_ngcontent-%COMP%]{min-height:400px}.thumbnail[_ngcontent-%COMP%]{flex:0 0 70px;width:70px;height:70px}}@media (max-width: 768px){.product-title[_ngcontent-%COMP%]{font-size:24px}.current-price[_ngcontent-%COMP%]{font-size:32px}.product-actions-section[_ngcontent-%COMP%]{flex-direction:column}.btn-quote[_ngcontent-%COMP%]{width:100%}.main-image-container[_ngcontent-%COMP%]{min-height:300px}.thumbnail[_ngcontent-%COMP%]{flex:0 0 60px;width:60px;height:60px}.image-counter[_ngcontent-%COMP%]{font-size:11px;padding:6px 12px}.indicator-hint[_ngcontent-%COMP%]{font-size:10px}.reviews-container[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:30px}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.additional-actions[_ngcontent-%COMP%]{flex-direction:column}.action-btn[_ngcontent-%COMP%]{width:100%}.tabs-header[_ngcontent-%COMP%]{gap:0}.tab-btn[_ngcontent-%COMP%]{padding:12px 20px;font-size:14px}}@media (max-width: 480px){.product-detail-grid[_ngcontent-%COMP%]{gap:20px;margin-bottom:30px}.product-title[_ngcontent-%COMP%]{font-size:20px;margin-bottom:15px}.current-price[_ngcontent-%COMP%]{font-size:28px}.main-image-container[_ngcontent-%COMP%]{min-height:250px;margin-bottom:15px;aspect-ratio:1}.thumbnail[_ngcontent-%COMP%]{flex:0 0 50px;width:50px;height:50px}.thumb-nav[_ngcontent-%COMP%]{flex:0 0 32px;width:32px;height:32px;font-size:12px}.image-counter[_ngcontent-%COMP%]{font-size:10px;padding:4px 8px;bottom:12px;right:12px}.indicator-text[_ngcontent-%COMP%]{font-size:14px}.indicator-hint[_ngcontent-%COMP%]{font-size:9px;padding:2px 4px}.badge[_ngcontent-%COMP%]{padding:4px 8px;font-size:9px}.quantity-selector[_ngcontent-%COMP%]{flex:1}.share-section[_ngcontent-%COMP%]{flex-wrap:wrap}}.lightbox-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:2000;display:flex;align-items:center;justify-content:center;background:transparent}.lightbox-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#000000f2;z-index:2001}.lightbox-content[_ngcontent-%COMP%]{position:relative;z-index:2002;display:flex;flex-direction:column;align-items:center;justify-content:center;max-width:90vw;max-height:90vh;padding:40px 20px}.lightbox-close[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px;background:#fff3;border:2px solid white;color:#fff;font-size:32px;width:50px;height:50px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s ease;z-index:2003}.lightbox-close[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:scale(1.1)}.lightbox-main-container[_ngcontent-%COMP%]{position:relative;max-width:80vw;max-height:70vh;display:flex;align-items:center;justify-content:center;margin-bottom:20px;animation:_ngcontent-%COMP%_lightboxSlideIn .3s ease-out}@keyframes _ngcontent-%COMP%_lightboxSlideIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}.lightbox-main-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain;border-radius:8px;box-shadow:0 10px 40px #00000080}.lightbox-counter[_ngcontent-%COMP%]{position:absolute;bottom:15px;right:15px;background:#000000b3;color:#fff;padding:8px 14px;border-radius:4px;font-size:12px;font-weight:600}.lightbox-nav[_ngcontent-%COMP%]{position:absolute;width:100%;display:flex;justify-content:space-between;align-items:center;top:50%;transform:translateY(-50%);pointer-events:none;z-index:2004}.lightbox-arrow[_ngcontent-%COMP%]{position:absolute;background:#fff3;border:2px solid white;color:#fff;font-size:28px;width:50px;height:50px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s ease;pointer-events:auto;z-index:2004}.lightbox-arrow[_ngcontent-%COMP%]:hover:not(:disabled){background:#ffffff59;transform:scale(1.1)}.lightbox-arrow[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:not-allowed}.lightbox-arrow.prev[_ngcontent-%COMP%]{left:10px}.lightbox-arrow.next[_ngcontent-%COMP%]{right:10px}.lightbox-thumbnails[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:center;flex-wrap:wrap;max-width:100%;padding:20px;background:#0000004d;border-radius:8px;margin-bottom:20px}.lightbox-thumb[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:contain;border:2px solid transparent;border-radius:4px;cursor:pointer;transition:all .3s ease;opacity:.6;background:#ffffff1a;padding:4px}.lightbox-thumb[_ngcontent-%COMP%]:hover{opacity:.9;transform:scale(1.05)}.lightbox-thumb.active[_ngcontent-%COMP%]{border-color:#fff;opacity:1;box-shadow:0 0 10px #ffffff80}.lightbox-info[_ngcontent-%COMP%]{text-align:center;color:#ffffffb3;font-size:12px;font-style:italic}@media (max-width: 768px){.lightbox-content[_ngcontent-%COMP%]{padding:20px}.lightbox-close[_ngcontent-%COMP%]{width:40px;height:40px;font-size:24px;top:10px;right:10px}.lightbox-arrow[_ngcontent-%COMP%]{width:40px;height:40px;font-size:20px}.lightbox-arrow.prev[_ngcontent-%COMP%]{left:5px}.lightbox-arrow.next[_ngcontent-%COMP%]{right:5px}.lightbox-main-container[_ngcontent-%COMP%]{max-width:95vw;max-height:60vh}.lightbox-thumbnails[_ngcontent-%COMP%]{max-width:95vw;gap:8px}.lightbox-thumb[_ngcontent-%COMP%]{width:60px;height:60px}}']})}}return t})(),wz=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=se({type:t,selectors:[["app-about-us"]],standalone:!0,features:[ae],decls:71,vars:0,consts:[[1,"about-page"],[1,"page-header"],[1,"container"],[1,"about-content"],[1,"about-section"],[1,"features-grid"],[1,"feature-card"],[1,"fas","fa-box-open"],[1,"fas","fa-tags"],[1,"fas","fa-shipping-fast"],[1,"fas","fa-headset"],[1,"specialties-list"],[1,"fas","fa-check"]],template:function(o,r){1&o&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),d(4,"About VSP Electronics"),c()()(),a(5,"div",2)(6,"div",3)(7,"div",4)(8,"h2"),d(9,"Who We Are"),c(),a(10,"p"),d(11," VSP Electronics is India's leading supplier of drone parts, robotics components, DIY kits, and electronics for hobbyists, students, and professionals. Based in Hyderabad, we've been serving the maker community since 2015. "),c(),a(12,"p"),d(13," Our mission is to make cutting-edge technology accessible to everyone by providing high-quality products at competitive prices, backed by exceptional customer service. "),c()(),a(14,"div",4)(15,"h2"),d(16,"What We Offer"),c(),a(17,"div",5)(18,"div",6),b(19,"i",7),a(20,"h3"),d(21,"Wide Selection"),c(),a(22,"p"),d(23,"Thousands of products from leading brands"),c()(),a(24,"div",6),b(25,"i",8),a(26,"h3"),d(27,"Best Prices"),c(),a(28,"p"),d(29,"Competitive pricing on all products"),c()(),a(30,"div",6),b(31,"i",9),a(32,"h3"),d(33,"Fast Delivery"),c(),a(34,"p"),d(35,"Quick shipping across India"),c()(),a(36,"div",6),b(37,"i",10),a(38,"h3"),d(39,"Expert Support"),c(),a(40,"p"),d(41,"Technical assistance from our team"),c()()()(),a(42,"div",4)(43,"h2"),d(44,"Our Specialties"),c(),a(45,"ul",11)(46,"li"),b(47,"i",12),d(48," Drone Parts & Accessories"),c(),a(49,"li"),b(50,"i",12),d(51," Robotic DIY Kits"),c(),a(52,"li"),b(53,"i",12),d(54," Arduino & Raspberry Pi"),c(),a(55,"li"),b(56,"i",12),d(57," Sensors & Motors"),c(),a(58,"li"),b(59,"i",12),d(60," Batteries & Chargers"),c(),a(61,"li"),b(62,"i",12),d(63," Educational STEM Kits"),c()()(),a(64,"div",4)(65,"h2"),d(66,"Why Choose Us?"),c(),a(67,"p"),d(68," With years of experience in the electronics industry, we understand the needs of makers, students, and professionals. We carefully select every product we sell to ensure quality and reliability. Our knowledgeable team is always ready to help you find the right components for your project. "),c(),a(69,"p"),d(70," Join thousands of satisfied customers who trust VSP Electronics for all their electronics and robotics needs. "),c()()()()())},dependencies:[pe],styles:[".about-page[_ngcontent-%COMP%]{padding-bottom:60px}.page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:60px 0;margin-bottom:60px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:42px;font-weight:700;text-align:center}.about-content[_ngcontent-%COMP%]{max-width:900px;margin:0 auto}.about-section[_ngcontent-%COMP%]{background:#fff;padding:40px;border-radius:10px;box-shadow:0 2px 10px #0000001a;margin-bottom:30px}.about-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;font-weight:700;margin-bottom:20px;color:#333}.about-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;line-height:1.8;margin-bottom:15px;font-size:16px}.features-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:25px;margin-top:30px}.feature-card[_ngcontent-%COMP%]{text-align:center;padding:25px;border:2px solid #f0f0f0;border-radius:8px;transition:all .3s}.feature-card[_ngcontent-%COMP%]:hover{border-color:#e74c3c;transform:translateY(-5px)}.feature-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:48px;color:#e74c3c;margin-bottom:15px}.feature-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;margin-bottom:10px;color:#333}.feature-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#666;margin:0}.specialties-list[_ngcontent-%COMP%]{list-style:none;padding:0;display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:15px;margin-top:20px}.specialties-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;font-size:16px;color:#666;padding:12px 15px;background:#f8f9fa;border-radius:5px}.specialties-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#27ae60;font-size:18px}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px}.about-section[_ngcontent-%COMP%]{padding:25px}.about-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px}.features-grid[_ngcontent-%COMP%], .specialties-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}}return t})(),Oz=(()=>{class t{constructor(){this.contactForm={name:"",email:"",phone:"",subject:"",message:""}}onSubmit(){console.log("Form submitted:",this.contactForm),alert("Thank you for contacting us! We will get back to you soon."),this.resetForm()}resetForm(){this.contactForm={name:"",email:"",phone:"",subject:"",message:""}}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=se({type:t,selectors:[["app-contact-us"]],standalone:!0,features:[ae],decls:73,vars:5,consts:[[1,"contact-page"],[1,"page-header"],[1,"container"],[1,"contact-grid"],[1,"contact-info"],[1,"info-cards"],[1,"info-card"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-phone"],[1,"fas","fa-envelope"],[1,"fas","fa-clock"],[1,"contact-form-container"],[1,"contact-form",3,"ngSubmit"],[1,"form-group"],["type","text","name","name","required","","placeholder","Your Name",3,"ngModelChange","ngModel"],["type","email","name","email","required","","placeholder","your.email@example.com",3,"ngModelChange","ngModel"],["type","tel","name","phone","placeholder","+91 1234567890",3,"ngModelChange","ngModel"],["type","text","name","subject","required","","placeholder","Subject",3,"ngModelChange","ngModel"],["name","message","required","","rows","6","placeholder","Your Message",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary"]],template:function(o,r){1&o&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),d(4,"Contact Us"),c(),a(5,"p"),d(6,"We'd love to hear from you!"),c()()(),a(7,"div",2)(8,"div",3)(9,"div",4)(10,"h2"),d(11,"Get In Touch"),c(),a(12,"p"),d(13,"Have a question or need assistance? Our team is here to help you!"),c(),a(14,"div",5)(15,"div",6),b(16,"i",7),a(17,"h3"),d(18,"Address"),c(),a(19,"p"),d(20,"Hyderabad, Telangana"),b(21,"br"),d(22,"India - 500001"),c()(),a(23,"div",6),b(24,"i",8),a(25,"h3"),d(26,"Phone"),c(),a(27,"p"),d(28,"+91 9876543210"),b(29,"br"),d(30,"+91 9876543211"),c()(),a(31,"div",6),b(32,"i",9),a(33,"h3"),d(34,"Email"),c(),a(35,"p"),d(36,"info@vspelectronics.com"),b(37,"br"),d(38,"support@vspelectronics.com"),c()(),a(39,"div",6),b(40,"i",10),a(41,"h3"),d(42,"Business Hours"),c(),a(43,"p"),d(44,"Monday - Saturday"),b(45,"br"),d(46,"9:00 AM - 7:00 PM"),c()()()(),a(47,"div",11)(48,"h2"),d(49,"Send Us A Message"),c(),a(50,"form",12),C("ngSubmit",function(){return r.onSubmit()}),a(51,"div",13)(52,"label"),d(53,"Name *"),c(),a(54,"input",14),A("ngModelChange",function(s){return F(r.contactForm.name,s)||(r.contactForm.name=s),s}),c()(),a(55,"div",13)(56,"label"),d(57,"Email *"),c(),a(58,"input",15),A("ngModelChange",function(s){return F(r.contactForm.email,s)||(r.contactForm.email=s),s}),c()(),a(59,"div",13)(60,"label"),d(61,"Phone"),c(),a(62,"input",16),A("ngModelChange",function(s){return F(r.contactForm.phone,s)||(r.contactForm.phone=s),s}),c()(),a(63,"div",13)(64,"label"),d(65,"Subject *"),c(),a(66,"input",17),A("ngModelChange",function(s){return F(r.contactForm.subject,s)||(r.contactForm.subject=s),s}),c()(),a(67,"div",13)(68,"label"),d(69,"Message *"),c(),a(70,"textarea",18),A("ngModelChange",function(s){return F(r.contactForm.message,s)||(r.contactForm.message=s),s}),c()(),a(71,"button",19),d(72,"Send Message"),c()()()()()()),2&o&&(p(54),E("ngModel",r.contactForm.name),p(4),E("ngModel",r.contactForm.email),p(4),E("ngModel",r.contactForm.phone),p(4),E("ngModel",r.contactForm.subject),p(4),E("ngModel",r.contactForm.message))},dependencies:[pe,nt,bo,et,rt,mo,dr,tt,_o],styles:[".contact-page[_ngcontent-%COMP%]{padding-bottom:60px}.page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:60px 0;margin-bottom:60px;text-align:center}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:42px;font-weight:700;margin-bottom:10px}.page-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;opacity:.9}.contact-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:40px}.contact-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .contact-form-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;font-weight:700;margin-bottom:20px;color:#333}.contact-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;line-height:1.8;margin-bottom:30px}.info-cards[_ngcontent-%COMP%]{display:grid;gap:20px}.info-card[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:8px;box-shadow:0 2px 10px #0000001a;display:flex;gap:20px;align-items:flex-start;transition:all .3s}.info-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 5px 15px #00000026}.info-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:32px;color:#e74c3c;min-width:40px}.info-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:600;margin-bottom:8px;color:#333}.info-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#666;margin:0;line-height:1.6}.contact-form-container[_ngcontent-%COMP%]{background:#fff;padding:35px;border-radius:10px;box-shadow:0 2px 10px #0000001a}.contact-form[_ngcontent-%COMP%]{margin-top:25px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:500;color:#333;font-size:14px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:12px 15px;border:2px solid #ddd;border-radius:5px;font-size:14px;font-family:inherit;transition:border-color .3s;outline:none}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#e74c3c}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}.contact-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;padding:14px;font-size:16px;font-weight:600}@media (max-width: 992px){.contact-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px}.page-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.contact-form-container[_ngcontent-%COMP%]{padding:25px}.info-card[_ngcontent-%COMP%]{padding:20px}}"]})}}return t})();const kz=t=>["/product",t];function Dz(t,n){if(1&t){const e=R();a(0,"div",17)(1,"div",18),b(2,"img",19),c(),a(3,"div",20)(4,"h3")(5,"a",21),d(6),c()(),a(7,"p",22),d(8),c(),a(9,"p",23),d(10),c()(),a(11,"div",24)(12,"button",25),C("click",function(){const r=y(e).$implicit;return v(f(2).updateQuantity(r.product.id,r.quantity-1))}),b(13,"i",26),c(),b(14,"input",27),a(15,"button",25),C("click",function(){const r=y(e).$implicit;return v(f(2).updateQuantity(r.product.id,r.quantity+1))}),b(16,"i",28),c()(),a(17,"div",29)(18,"p"),d(19),c()(),a(20,"button",30),C("click",function(){const r=y(e).$implicit;return v(f(2).removeItem(r.product.id))}),b(21,"i",31),c()()}if(2&t){const e=n.$implicit;p(2),h("src",e.product.image,ue)("alt",e.product.name),p(3),h("routerLink",Et(8,kz,e.product.id)),p(),S(e.product.name),p(2),S(e.product.category),p(2),D("\u20b9",e.product.price,""),p(4),h("value",e.quantity),p(5),D("\u20b9",e.product.price*e.quantity,"")}}function Sz(t,n){if(1&t){const e=R();a(0,"div",8)(1,"div",9),P(2,Dz,22,10,"div",10),c(),a(3,"div",11)(4,"h2"),d(5,"Cart Summary"),c(),a(6,"div",12)(7,"span"),d(8,"Subtotal:"),c(),a(9,"span"),d(10),c()(),a(11,"div",12)(12,"span"),d(13,"Shipping:"),c(),a(14,"span"),d(15,"Free"),c()(),a(16,"div",13)(17,"span"),d(18,"Total:"),c(),a(19,"span"),d(20),c()(),a(21,"button",14),C("click",function(){return y(e),v(f().proceedToCheckout())}),d(22," Proceed to Checkout "),c(),a(23,"button",15),d(24," Continue Shopping "),c(),a(25,"button",16),C("click",function(){return y(e),v(f().clearCart())}),d(26," Clear Cart "),c()()()}if(2&t){const e=f();p(2),h("ngForOf",e.cartService.getCartItems()),p(8),D("\u20b9",e.cartService.cartTotal(),""),p(10),D("\u20b9",e.cartService.cartTotal(),"")}}function Iz(t,n){1&t&&(a(0,"div",32),b(1,"i",33),a(2,"h2"),d(3,"Your cart is empty"),c(),a(4,"p"),d(5,"Add some products to get started!"),c(),a(6,"a",34),d(7,"Start Shopping"),c()())}let Tz=(()=>{class t{constructor(){this.cartService=w(fr),this.router=w(me),this.navigationHistory=w(e_)}updateQuantity(e,o){this.cartService.updateQuantity(e,o)}removeItem(e){this.cartService.removeFromCart(e)}clearCart(){confirm("Are you sure you want to clear the cart?")&&this.cartService.clearCart()}proceedToCheckout(){this.router.navigate(["/checkout"])}goBack(){this.navigationHistory.goBack()}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=se({type:t,selectors:[["app-cart"]],standalone:!0,features:[ae],decls:10,vars:2,consts:[[1,"cart-page"],[1,"container"],[1,"back-button-container"],["title","Go back",1,"back-button",3,"click"],[1,"fas","fa-arrow-left"],[1,"page-title"],["class","cart-content",4,"ngIf"],["class","empty-cart",4,"ngIf"],[1,"cart-content"],[1,"cart-items"],["class","cart-item",4,"ngFor","ngForOf"],[1,"cart-summary"],[1,"summary-row"],[1,"summary-row","total"],[1,"btn","btn-primary","checkout-btn",3,"click"],["routerLink","/shop",1,"btn","btn-secondary"],[1,"btn-text","clear-cart",3,"click"],[1,"cart-item"],[1,"item-image"],["onerror","this.src='assets/images/placeholder.jpg'",3,"src","alt"],[1,"item-details"],[3,"routerLink"],[1,"item-category"],[1,"item-price"],[1,"item-quantity"],[3,"click"],[1,"fas","fa-minus"],["type","number","readonly","",3,"value"],[1,"fas","fa-plus"],[1,"item-total"],[1,"item-remove",3,"click"],[1,"fas","fa-trash"],[1,"empty-cart"],[1,"fas","fa-shopping-cart"],["routerLink","/shop",1,"btn","btn-primary"]],template:function(o,r){1&o&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),C("click",function(){return r.goBack()}),b(4,"i",4),d(5," Back "),c()(),a(6,"h1",5),d(7,"Shopping Cart"),c(),P(8,Sz,27,3,"div",6)(9,Iz,8,0,"div",7),c()()),2&o&&(p(8),h("ngIf",r.cartService.getCartItems().length>0),p(),h("ngIf",0===r.cartService.getCartItems().length))},dependencies:[pe,De,ve,Ge,Ze,nt],styles:[".cart-page[_ngcontent-%COMP%]{padding:40px 0;min-height:60vh}.back-button-container[_ngcontent-%COMP%]{margin-bottom:20px}.back-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:8px 16px;background:var(--primary-brown, #8B6F47);color:#fff;border:none;border-radius:4px;font-size:14px;cursor:pointer;transition:background .3s ease}.back-button[_ngcontent-%COMP%]:hover{background:var(--dark-brown, #6B4F2C)}.back-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.page-title[_ngcontent-%COMP%]{font-size:32px;font-weight:700;margin-bottom:30px;color:#333}.cart-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 350px;gap:30px}.cart-items[_ngcontent-%COMP%]{background:#fff;border-radius:10px;padding:20px;box-shadow:0 2px 10px #0000001a}.cart-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:100px 1fr 150px 120px 50px;gap:20px;align-items:center;padding:20px;border-bottom:1px solid #f0f0f0}.cart-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.item-image[_ngcontent-%COMP%]{width:100px;height:100px;background:#f5f5f5;border-radius:8px;overflow:hidden}.item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.item-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:600;margin-bottom:8px;color:#333}.item-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#333}.item-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#e74c3c}.item-category[_ngcontent-%COMP%]{font-size:13px;color:#666;margin-bottom:8px}.item-price[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#e74c3c}.item-quantity[_ngcontent-%COMP%]{display:flex;border:2px solid #ddd;border-radius:5px;overflow:hidden;width:-moz-fit-content;width:fit-content}.item-quantity[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:40px;height:40px;background:#fff;border:none;color:#666;cursor:pointer;transition:all .3s}.item-quantity[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#f8f9fa;color:#e74c3c}.item-quantity[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:60px;height:40px;border:none;border-left:1px solid #ddd;border-right:1px solid #ddd;text-align:center;font-weight:600}.item-total[_ngcontent-%COMP%]{text-align:right}.item-total[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#333}.item-remove[_ngcontent-%COMP%]{background:none;border:none;color:#e74c3c;font-size:18px;cursor:pointer;transition:color .3s}.item-remove[_ngcontent-%COMP%]:hover{color:#c0392b}.cart-summary[_ngcontent-%COMP%]{background:#fff;border-radius:10px;padding:25px;box-shadow:0 2px 10px #0000001a;height:-moz-fit-content;height:fit-content;position:sticky;top:100px}.cart-summary[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px;font-weight:700;margin-bottom:25px;color:#333;padding-bottom:15px;border-bottom:2px solid #f0f0f0}.summary-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:15px;font-size:15px;color:#666}.summary-row.total[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#333;margin-top:20px;padding-top:20px;border-top:2px solid #f0f0f0;margin-bottom:25px}.summary-row.total[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{color:#e74c3c}.cart-summary[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;margin-bottom:10px;padding:12px}.btn-text[_ngcontent-%COMP%]{background:none;border:none;color:#e74c3c;font-size:14px;cursor:pointer;margin-top:10px;width:100%;text-align:center}.btn-text[_ngcontent-%COMP%]:hover{text-decoration:underline}.empty-cart[_ngcontent-%COMP%]{text-align:center;padding:80px 20px;background:#fff;border-radius:10px;box-shadow:0 2px 10px #0000001a}.empty-cart[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:100px;color:#ddd;margin-bottom:25px}.empty-cart[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;font-weight:700;margin-bottom:15px;color:#333}.empty-cart[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-bottom:30px;font-size:16px}@media (max-width: 992px){.cart-content[_ngcontent-%COMP%]{grid-template-columns:1fr}.cart-summary[_ngcontent-%COMP%]{position:static}}@media (max-width: 768px){.cart-item[_ngcontent-%COMP%]{grid-template-columns:80px 1fr;gap:15px}.item-quantity[_ngcontent-%COMP%], .item-total[_ngcontent-%COMP%], .item-remove[_ngcontent-%COMP%]{grid-column:2}.item-quantity[_ngcontent-%COMP%]{width:100%}.item-total[_ngcontent-%COMP%]{text-align:left}}"]})}}return t})();const Ez=t=>["/product",t];function Az(t,n){if(1&t){const e=R();a(0,"div",15)(1,"div",16),b(2,"img",17),c(),a(3,"div",18)(4,"h3")(5,"a",19),d(6),c()(),a(7,"p",20),d(8),c(),a(9,"p",21),d(10),c()(),a(11,"div",22)(12,"button",23),C("click",function(){const r=y(e).$implicit;return v(f(2).updateQuantity(r.product.id,r.quantity-1))}),b(13,"i",24),c(),b(14,"input",25),a(15,"button",23),C("click",function(){const r=y(e).$implicit;return v(f(2).updateQuantity(r.product.id,r.quantity+1))}),b(16,"i",26),c()(),a(17,"button",27),C("click",function(){const r=y(e).$implicit;return v(f(2).removeItem(r.product.id))}),b(18,"i",28),c()()}if(2&t){const e=n.$implicit;p(2),h("src",e.product.image,ue)("alt",e.product.name),p(3),h("routerLink",Et(7,Ez,e.product.id)),p(),S(e.product.name),p(2),S(e.product.category),p(2),D("SKU: ",e.product.id,""),p(4),h("value",e.quantity)}}function Nz(t,n){if(1&t){const e=R();a(0,"div",5)(1,"div",6),P(2,Az,19,9,"div",7),c(),a(3,"div",8)(4,"h2"),d(5,"Quote Summary"),c(),a(6,"div",9)(7,"span"),d(8,"Total Items:"),c(),a(9,"span"),d(10),c()(),a(11,"p",10),b(12,"i",11),d(13," Submit your quote request and we'll get back to you with pricing and availability. "),c(),a(14,"button",12),C("click",function(){return y(e),v(f().proceedToCheckout())}),d(15," Submit Quote Request "),c(),a(16,"button",13),d(17," Continue Shopping "),c(),a(18,"button",14),C("click",function(){return y(e),v(f().clearQuote())}),d(19," Clear Quote "),c()()()}if(2&t){const e=f();p(2),h("ngForOf",e.quoteService.getQuoteItems()),p(8),S(e.quoteService.quoteCount())}}function Fz(t,n){1&t&&(a(0,"div",29),b(1,"i",30),a(2,"h2"),d(3,"Your quote list is empty"),c(),a(4,"p"),d(5,"Add some products to request a quote!"),c(),a(6,"a",31),d(7,"Start Shopping"),c()())}let Rz=(()=>{class t{constructor(){this.quoteService=w(fs),this.router=w(me)}updateQuantity(e,o){this.quoteService.updateQuantity(e,o)}removeItem(e){this.quoteService.removeFromQuote(e)}clearQuote(){confirm("Are you sure you want to clear the quote?")&&this.quoteService.clearQuote()}proceedToCheckout(){this.router.navigate(["/quote-checkout"])}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=se({type:t,selectors:[["app-quote"]],standalone:!0,features:[ae],decls:6,vars:2,consts:[[1,"cart-page"],[1,"container"],[1,"page-title"],["class","cart-content",4,"ngIf"],["class","empty-cart",4,"ngIf"],[1,"cart-content"],[1,"cart-items"],["class","cart-item",4,"ngFor","ngForOf"],[1,"cart-summary"],[1,"summary-row"],[1,"quote-note"],[1,"fas","fa-info-circle"],[1,"btn","btn-primary","checkout-btn",3,"click"],["routerLink","/shop",1,"btn","btn-secondary"],[1,"btn-text","clear-cart",3,"click"],[1,"cart-item"],[1,"item-image"],["onerror","this.src='assets/images/placeholder.jpg'",3,"src","alt"],[1,"item-details"],[3,"routerLink"],[1,"item-category"],[1,"item-sku"],[1,"item-quantity"],[3,"click"],[1,"fas","fa-minus"],["type","number","readonly","",3,"value"],[1,"fas","fa-plus"],[1,"item-remove",3,"click"],[1,"fas","fa-trash"],[1,"empty-cart"],[1,"fas","fa-file-invoice"],["routerLink","/shop",1,"btn","btn-primary"]],template:function(o,r){1&o&&(a(0,"div",0)(1,"div",1)(2,"h1",2),d(3,"Quote Request"),c(),P(4,Nz,20,2,"div",3)(5,Fz,8,0,"div",4),c()()),2&o&&(p(4),h("ngIf",r.quoteService.getQuoteItems().length>0),p(),h("ngIf",0===r.quoteService.getQuoteItems().length))},dependencies:[pe,De,ve,Ge,Ze,nt],styles:[".cart-page[_ngcontent-%COMP%]{padding:40px 0;min-height:60vh}.page-title[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:30px;color:#333}.cart-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 350px;gap:30px;margin-bottom:40px}.cart-items[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:20px;box-shadow:0 2px 8px #0000001a}.cart-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:100px 1fr 150px auto;gap:20px;padding:20px;border-bottom:1px solid #eee;align-items:center}.cart-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;object-fit:cover;border-radius:8px}.item-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:8px;animation:none!important}.item-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#333;text-decoration:none;animation:none!important;transition:color .2s ease}.item-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#4caf50}.item-category[_ngcontent-%COMP%], .item-sku[_ngcontent-%COMP%]{font-size:.875rem;color:#666;margin:4px 0}.item-price[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#4caf50;margin:4px 0}.item-quantity[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;background:#f5f5f5;border-radius:8px;padding:5px}.item-quantity[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:32px;height:32px;border:none;background:#fff;border-radius:4px;cursor:pointer;display:flex;align-items:center;justify-content:center;color:#666;transition:all .2s}.item-quantity[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#4caf50;color:#fff}.item-quantity[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:50px;text-align:center;border:none;background:transparent;font-weight:600}.item-total[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#333}.item-remove[_ngcontent-%COMP%]{width:40px;height:40px;border:none;background:#fee;color:#f44336;border-radius:8px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s}.item-remove[_ngcontent-%COMP%]:hover{background:#f44336;color:#fff}.cart-summary[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:25px;box-shadow:0 2px 8px #0000001a;height:-moz-fit-content;height:fit-content;position:sticky;top:100px}.cart-summary[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:20px;color:#333}.summary-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:12px 0;border-bottom:1px solid #eee;font-size:1rem}.summary-row.total[_ngcontent-%COMP%]{border-top:2px solid #333;border-bottom:none;font-size:1.25rem;font-weight:600;color:#4caf50;margin-top:10px;padding-top:15px}.quote-note[_ngcontent-%COMP%]{background:#e3f2fd;padding:15px;border-radius:8px;font-size:.875rem;color:#1976d2;margin:20px 0;display:flex;align-items:flex-start;gap:10px}.quote-note[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-top:2px}.checkout-btn[_ngcontent-%COMP%]{width:100%;padding:15px;font-size:1rem;margin-top:20px}.btn-secondary[_ngcontent-%COMP%]{width:100%;padding:12px;margin-top:10px;background:#fff;border:2px solid #4CAF50;color:#4caf50}.btn-secondary[_ngcontent-%COMP%]:hover{background:#4caf50;color:#fff}.clear-cart[_ngcontent-%COMP%]{width:100%;text-align:center;margin-top:15px;color:#666;background:none;border:none;cursor:pointer;font-size:.875rem}.clear-cart[_ngcontent-%COMP%]:hover{color:#f44336}.empty-cart[_ngcontent-%COMP%]{text-align:center;padding:80px 20px;background:#fff;border-radius:8px;box-shadow:0 2px 8px #0000001a}.empty-cart[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:5rem;color:#ddd;margin-bottom:20px}.empty-cart[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem;margin-bottom:10px;color:#333}.empty-cart[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-bottom:30px}@media (max-width: 992px){.cart-content[_ngcontent-%COMP%]{grid-template-columns:1fr}.cart-summary[_ngcontent-%COMP%]{position:static}.cart-item[_ngcontent-%COMP%]{grid-template-columns:80px 1fr;gap:15px}.item-quantity[_ngcontent-%COMP%], .item-total[_ngcontent-%COMP%]{grid-column:2}.item-remove[_ngcontent-%COMP%]{grid-column:2;justify-self:end}}"]})}}return t})(),hr=(()=>{class t{constructor(){this.authService=w(Qe),this.http=w(kt),this.orders=Mt([]),this.selectedOrder=Mt(null),this.orderTracking=Mt(null),this.loading=Mt(!1),this.error=Mt(null),this.ordersSubject=new st([]),this.orders$=this.ordersSubject.asObservable(),this.ordersList=Ao(()=>this.orders()),this.currentOrder=Ao(()=>this.selectedOrder()),this.trackingInfo=Ao(()=>this.orderTracking()),this.isLoading=Ao(()=>this.loading()),this.errorMessage=Ao(()=>this.error())}createOrder(e){this.loading.set(!0);try{const o={shippingAddress:{firstName:e.customer?.firstName,lastName:e.customer?.lastName,email:e.customer?.email,phone:e.customer?.phone,company:e.customer?.company,designation:e.customer?.designation,address:e.deliveryAddress?.street,city:e.deliveryAddress?.city,state:e.deliveryAddress?.state,zipCode:e.deliveryAddress?.pincode,country:e.deliveryAddress?.country||"India"},items:Array.isArray(e.items)?e.items:[],paymentMethod:e.paymentMethod||"cod",notifyVia:"both"};return console.log("\u{1f504} OrderService: Creating order with payload:",o),this.http.post(`${ot_apiUrl}/orders/create`,o).pipe(ie(r=>{console.log("\u2705 API Response received:",r);const i=r.data?.order,s={id:i?.id?String(i.id):`ORD-${Date.now()}`,userId:e.userId||null,customer:{firstName:o.shippingAddress.firstName,lastName:o.shippingAddress.lastName,email:o.shippingAddress.email,phone:o.shippingAddress.phone||""},items:o.items||[],deliveryAddress:{street:o.shippingAddress.address,city:o.shippingAddress.city,state:o.shippingAddress.state,country:o.shippingAddress.country,pincode:o.shippingAddress.zipCode},pricing:{total:i?.total||0,subtotal:i?.subtotal||0,tax:i?.tax||0,shipping:i?.shipping||0},paymentMethod:o.paymentMethod,paymentStatus:i?.payment_status||"pending",status:i?.status||"pending",createdAt:i?.created_at||(new Date).toISOString(),updatedAt:i?.updated_at||(new Date).toISOString()},l=this.orders();return this.orders.set([s,...l]),this.ordersSubject.next(this.orders()),this.loading.set(!1),s}),Ce(r=>{throw this.error.set("Failed to create order"),this.loading.set(!1),console.error("Error creating order:",r),r}))}catch(o){throw this.error.set("Failed to create order"),this.loading.set(!1),console.error("Error creating order:",o),o}}getUserOrders(e,o=20,r=1){this.loading.set(!0);try{const i=(r-1)*o;return this.http.get(`${ot_apiUrl}/orders/history`,{params:{limit:o.toString(),offset:i.toString()}}).pipe(ie(s=>{const u=(s.data?.orders||[]).map(g=>({id:String(g.id),userId:String(g.user_id),customer:{email:g.user_email||"",firstName:g.first_name||"",lastName:g.last_name||""},items:[],deliveryAddress:{},pricing:{total:parseFloat(g.total),subtotal:parseFloat(g.subtotal),tax:parseFloat(g.tax),shipping:parseFloat(g.shipping)},paymentMethod:g.payment_method,paymentStatus:g.payment_status,status:g.status,createdAt:g.created_at,updatedAt:g.updated_at}));return this.orders.set(u),this.ordersSubject.next(u),this.loading.set(!1),{orders:u,total:s.data?.pagination?.total||u.length,page:r,limit:o}}))}catch(i){return console.error("Error loading orders:",i),this.error.set("Failed to load orders"),this.loading.set(!1),q({orders:[],total:0,page:r,limit:o})}}getPastAddresses(){return this.http.get(`${ot_apiUrl}/orders/addresses`).pipe(ie(e=>e.data||[]))}getOrder(e){const o=this.orders().find(r=>r.id===e);return o?(this.selectedOrder.set(o),q(o)):this.http.get(`${ot_apiUrl}/orders/${e}`).pipe(ie(r=>{const i=r.data,s={id:String(i.id),userId:String(i.user_id),customer:{email:i.user_email||"",firstName:i.first_name||"",lastName:i.last_name||"",phone:i.shipping?.phone||""},items:i.items||[],deliveryAddress:{street:i.shipping?.address||"",city:i.shipping?.city||"",state:i.shipping?.state||"",pincode:i.shipping?.zip_code||"",country:i.shipping?.country||""},pricing:{total:parseFloat(i.total),subtotal:parseFloat(i.subtotal),tax:parseFloat(i.tax),shipping:parseFloat(i.shipping)},paymentMethod:i.payment_method,paymentStatus:i.payment_status,status:i.status,createdAt:i.created_at,updatedAt:i.updated_at};return this.selectedOrder.set(s),s}),Ce(r=>(console.error("Error loading order:",r),this.error.set("Failed to load order"),q(null))))}cancelOrder(e){try{const o=this.getOrdersFromStorage(),r=o.findIndex(i=>i.id===e);if(-1!==r){const i=o[r];return i.status="cancelled",i.updatedAt=(new Date).toISOString(),this.orders.set([...o]),this.ordersSubject.next([...o]),this.saveOrdersToStorage(),q(i)}return this.error.set("Order not found"),q(null)}catch{return this.error.set("Failed to cancel order"),q(null)}}getOrderTracking(e){try{const r=this.getOrdersFromStorage().find(s=>s.id===e),i={orderId:e,status:r?.status||"pending",estimatedDelivery:new Date(Date.now()+6048e5).toISOString(),lastUpdated:(new Date).toISOString(),events:[{status:"pending",timestamp:r?.createdAt||(new Date).toISOString(),description:"Order placed successfully",location:"Processing center"}]};return this.orderTracking.set(i),q(i)}catch{return this.error.set("Failed to load tracking"),q(null)}}saveOrdersToStorage(){try{const e=localStorage.getItem("userId"),o=this.orders();if(localStorage.setItem("orders_guest",JSON.stringify(o)),e){const r=`orders_${e}`;localStorage.setItem(r,JSON.stringify(o))}console.log("Orders saved to localStorage:",{userId:e||"guest",count:o.length,guestKey:"orders_guest",userKey:e?`orders_${e}`:"N/A"})}catch(e){console.warn("Failed to save orders to localStorage:",e)}}getOrdersFromStorage(){try{const e=localStorage.getItem("userId");if(e){const r=`orders_${e}`,i=localStorage.getItem(r);if(i){const s=JSON.parse(i);return console.log("Loaded orders from user key:",{userId:e,storageKey:r,count:s.length}),s}}const o=localStorage.getItem("orders_guest");if(o){const r=JSON.parse(o);return console.log("Loaded orders from guest key:",{count:r.length}),r}return console.log("Available localStorage keys:",{allKeys:Object.keys(localStorage),orderKeys:Object.keys(localStorage).filter(r=>r.includes("order"))}),[]}catch(e){console.warn("Failed to read orders from localStorage:",e)}return[]}getOrderFromStorage(e){return this.getOrdersFromStorage().find(r=>r.id===e)||null}loadOrdersFromStorage(){const e=this.getOrdersFromStorage();e.length>0&&(this.orders.set(e),this.ordersSubject.next(e))}getOrderStatusLabel(e){return{pending:"Pending",confirmed:"Confirmed",processing:"Processing",shipped:"Shipped",out_for_delivery:"Out for Delivery",delivered:"Delivered",cancelled:"Cancelled"}[e]||e}getOrderStatusIcon(e){return{pending:"\u23f3",confirmed:"\u2713",processing:"\u2699\ufe0f",shipped:"\u{1f4e6}",out_for_delivery:"\u{1f69a}",delivered:"\u2705",cancelled:"\u274c"}[e]||"\u2022"}getOrderStatusColor(e){return{pending:"#ffc107",confirmed:"#17a2b8",processing:"#007bff",shipped:"#6c63ff",out_for_delivery:"#fd7e14",delivered:"#28a745",cancelled:"#dc3545"}[e]||"#999"}clear(){this.orders.set([]),this.selectedOrder.set(null),this.orderTracking.set(null),this.error.set(null)}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Lz(t,n){1&t&&(a(0,"span"),d(1,"1"),c())}function Uz(t,n){1&t&&b(0,"i",9)}function Vz(t,n){1&t&&(a(0,"span"),d(1,"2"),c())}function Bz(t,n){1&t&&b(0,"i",9)}function zz(t,n){1&t&&(a(0,"p"),d(1,"Complete your order in just a few clicks"),c())}function jz(t,n){1&t&&(a(0,"p"),b(1,"i",15),d(2," Order Successfully Placed!"),c())}function $z(t,n){1&t&&(a(0,"span"),d(1,"First name is required"),c())}function Hz(t,n){1&t&&(a(0,"span"),d(1,"First name must be at least 2 characters"),c())}function qz(t,n){if(1&t&&(a(0,"div",72),P(1,$z,2,0,"span",5)(2,Hz,2,0,"span",5),c()),2&t){const e=f(2);p(),h("ngIf",null==e.firstName||null==e.firstName.errors?null:e.firstName.errors.required),p(),h("ngIf",null==e.firstName||null==e.firstName.errors?null:e.firstName.errors.minlength)}}function Wz(t,n){1&t&&(a(0,"span"),d(1,"Last name is required"),c())}function Gz(t,n){1&t&&(a(0,"span"),d(1,"Last name must be at least 2 characters"),c())}function Yz(t,n){if(1&t&&(a(0,"div",72),P(1,Wz,2,0,"span",5)(2,Gz,2,0,"span",5),c()),2&t){const e=f(2);p(),h("ngIf",null==e.lastName||null==e.lastName.errors?null:e.lastName.errors.required),p(),h("ngIf",null==e.lastName||null==e.lastName.errors?null:e.lastName.errors.minlength)}}function Kz(t,n){1&t&&(a(0,"span"),d(1,"Email is required"),c())}function Qz(t,n){1&t&&(a(0,"span"),d(1,"Please enter a valid email"),c())}function Jz(t,n){if(1&t&&(a(0,"div",72),P(1,Kz,2,0,"span",5)(2,Qz,2,0,"span",5),c()),2&t){const e=f(2);p(),h("ngIf",null==e.email||null==e.email.errors?null:e.email.errors.required),p(),h("ngIf",null==e.email||null==e.email.errors?null:e.email.errors.email)}}function Xz(t,n){1&t&&(a(0,"span"),d(1,"Phone is required"),c())}function Zz(t,n){1&t&&(a(0,"span"),d(1,"Please enter a valid 10-digit phone number"),c())}function ej(t,n){if(1&t&&(a(0,"div",72),P(1,Xz,2,0,"span",5)(2,Zz,2,0,"span",5),c()),2&t){const e=f(2);p(),h("ngIf",null==e.phone||null==e.phone.errors?null:e.phone.errors.required),p(),h("ngIf",null==e.phone||null==e.phone.errors?null:e.phone.errors.pattern)}}function tj(t,n){if(1&t&&(a(0,"option",77),d(1),Q(2,"slice"),c()),2&t){const e=n.$implicit;h("value",n.index),p(),Fr(" ",e.city," - ",ka(2,4,e.address,0,20),"",e.address.length>20?"...":""," ")}}function nj(t,n){if(1&t){const e=R();a(0,"div",73)(1,"select",74),C("change",function(r){return y(e),v(f(2).useAddress(r.target.value))}),a(2,"option",75),d(3,"Select a saved address..."),c(),P(4,tj,3,8,"option",76),c()()}if(2&t){const e=f(2);p(4),h("ngForOf",e.pastAddresses)}}function oj(t,n){1&t&&(a(0,"span"),d(1,"Street address is required"),c())}function rj(t,n){if(1&t&&(a(0,"div",72),P(1,oj,2,0,"span",5),c()),2&t){const e=f(2);p(),h("ngIf",null==e.street||null==e.street.errors?null:e.street.errors.required)}}function ij(t,n){1&t&&(a(0,"span"),d(1,"City is required"),c())}function sj(t,n){if(1&t&&(a(0,"div",72),P(1,ij,2,0,"span",5),c()),2&t){const e=f(2);p(),h("ngIf",null==e.city||null==e.city.errors?null:e.city.errors.required)}}function aj(t,n){1&t&&(a(0,"span"),d(1,"State is required"),c())}function cj(t,n){if(1&t&&(a(0,"div",72),P(1,aj,2,0,"span",5),c()),2&t){const e=f(2);p(),h("ngIf",null==e.state||null==e.state.errors?null:e.state.errors.required)}}function lj(t,n){1&t&&(a(0,"span"),d(1,"Pincode is required"),c())}function dj(t,n){1&t&&(a(0,"span"),d(1,"Please enter a valid 6-digit pincode"),c())}function uj(t,n){if(1&t&&(a(0,"div",72),P(1,lj,2,0,"span",5)(2,dj,2,0,"span",5),c()),2&t){const e=f(2);p(),h("ngIf",null==e.pincode||null==e.pincode.errors?null:e.pincode.errors.required),p(),h("ngIf",null==e.pincode||null==e.pincode.errors?null:e.pincode.errors.pattern)}}function pj(t,n){if(1&t&&(a(0,"div")(1,"div",21)(2,"label",78),d(3,"Street Address *"),c(),b(4,"input",79),c(),a(5,"div",20)(6,"div",21)(7,"label",80),d(8,"City *"),c(),b(9,"input",81),c(),a(10,"div",21)(11,"label",82),d(12,"State *"),c(),b(13,"input",83),c(),a(14,"div",21)(15,"label",84),d(16,"Pincode *"),c(),b(17,"input",85),c()()()),2&t){const e=f(2);p(17),B("is-invalid",(null==e.deliveryPincode?null:e.deliveryPincode.invalid)&&(null==e.deliveryPincode?null:e.deliveryPincode.touched)&&!(null!=e.sameAsShipping&&e.sameAsShipping.value))}}function gj(t,n){1&t&&(a(0,"span"),d(1,"You must accept the terms"),c())}function fj(t,n){if(1&t&&(a(0,"div",72),P(1,gj,2,0,"span",5),c()),2&t){const e=f(2);p(),h("ngIf",null==e.termsAccepted||null==e.termsAccepted.errors?null:e.termsAccepted.errors.required)}}function hj(t,n){1&t&&(a(0,"span"),b(1,"i",86),d(2," Review Order "),c())}function mj(t,n){1&t&&(a(0,"span"),b(1,"i",87),d(2," Loading... "),c())}function _j(t,n){if(1&t&&(a(0,"div",88)(1,"div",89),b(2,"img",90),c(),a(3,"div",91)(4,"h4"),d(5),c(),a(6,"p",92),d(7),Q(8,"number"),c(),a(9,"p",93),d(10),c()(),a(11,"div",94),d(12),Q(13,"number"),c()()),2&t){const e=n.$implicit;p(2),h("src",e.product.image,ue)("alt",e.product.name),p(3),S(e.product.name),p(2),D("\u20b9",Ne(8,6,e.product.price),""),p(3),D("Qty: ",e.quantity,""),p(2),D(" \u20b9",Ne(13,8,e.product.price*e.quantity)," ")}}function bj(t,n){if(1&t){const e=R();a(0,"div",16)(1,"div",17)(2,"form",18),C("ngSubmit",function(){return y(e),v(f().submitQuote())}),a(3,"div",19)(4,"h2"),d(5,"Personal Information"),c(),a(6,"div",20)(7,"div",21)(8,"label",22),d(9,"First Name *"),c(),b(10,"input",23),P(11,qz,3,2,"div",24),c(),a(12,"div",21)(13,"label",25),d(14,"Last Name *"),c(),b(15,"input",26),P(16,Yz,3,2,"div",24),c()(),a(17,"div",20)(18,"div",21)(19,"label",27),d(20,"Email *"),c(),b(21,"input",28),P(22,Jz,3,2,"div",24),c(),a(23,"div",21)(24,"label",29),d(25,"Phone *"),c(),b(26,"input",30),P(27,ej,3,2,"div",24),c()()(),a(28,"div",19)(29,"h2"),d(30,"Company Information"),c(),a(31,"div",20)(32,"div",21)(33,"label",31),d(34,"Company Name"),c(),b(35,"input",32),c(),a(36,"div",21)(37,"label",33),d(38,"Designation"),c(),b(39,"input",34),c()()(),a(40,"div",19)(41,"div",35)(42,"h2",36),d(43,"Billing Address"),c(),P(44,nj,5,1,"div",37),c(),a(45,"div",21)(46,"label",38),d(47,"Street Address *"),c(),b(48,"input",39),P(49,rj,2,1,"div",24),c(),a(50,"div",20)(51,"div",21)(52,"label",40),d(53,"City *"),c(),b(54,"input",41),P(55,sj,2,1,"div",24),c(),a(56,"div",21)(57,"label",42),d(58,"State *"),c(),b(59,"input",43),P(60,cj,2,1,"div",24),c(),a(61,"div",21)(62,"label",44),d(63,"Pincode *"),c(),b(64,"input",45),P(65,uj,3,2,"div",24),c()()(),a(66,"div",19)(67,"h2"),d(68,"Delivery Address"),c(),a(69,"div",46)(70,"input",47),C("change",function(){return y(e),v(f().onSameAsShippingChange())}),c(),a(71,"label",48),d(72,"Same as billing address"),c()(),P(73,pj,18,2,"div",5),c(),a(74,"div",19)(75,"h2"),d(76,"Additional Information"),c(),a(77,"div",21)(78,"label",49),d(79,"Notes or Special Requests"),c(),b(80,"textarea",50),a(81,"small"),d(82,"Maximum 500 characters"),c()(),a(83,"div",51),b(84,"i",52),a(85,"div")(86,"p")(87,"strong"),d(88,"Need Help?"),c()(),a(89,"p"),d(90,"Our support team is available 24/7"),c(),a(91,"p",53),d(92,"\u{1f4de} +91 XXXXX XXXXX | \u{1f4e7} support@vslelectronics.com"),c()()()(),a(93,"div",19)(94,"div",46),b(95,"input",54),a(96,"label",55),d(97," I agree to the terms and conditions and privacy policy * "),c()(),P(98,fj,2,1,"div",24),c(),a(99,"div",56)(100,"button",57),P(101,hj,3,0,"span",5)(102,mj,3,0,"span",5),c(),a(103,"button",58),C("click",function(){return y(e),v(f().goBackToQuote())}),b(104,"i",59),d(105," Back to Quote "),c()()()(),a(106,"div",60)(107,"div",61)(108,"h3"),b(109,"i",62),d(110," Order Summary"),c(),a(111,"div",63),P(112,_j,14,10,"div",64),c(),b(113,"div",65),a(114,"div",66)(115,"span"),d(116,"Total Items:"),c(),a(117,"strong"),d(118),c()(),a(119,"div",67)(120,"span"),d(121,"Total Amount:"),c(),a(122,"strong"),d(123),Q(124,"number"),c()(),a(125,"div",68),b(126,"i",69),a(127,"span"),d(128,"Secure Checkout"),c()(),a(129,"div",70),b(130,"i",71),a(131,"p"),d(132,"Free shipping on orders above \u20b9500"),c()()()()()}if(2&t){const e=f();p(2),h("formGroup",e.quoteForm),p(8),B("is-invalid",(null==e.firstName?null:e.firstName.invalid)&&(null==e.firstName?null:e.firstName.touched)),p(),h("ngIf",(null==e.firstName?null:e.firstName.invalid)&&(null==e.firstName?null:e.firstName.touched)),p(4),B("is-invalid",(null==e.lastName?null:e.lastName.invalid)&&(null==e.lastName?null:e.lastName.touched)),p(),h("ngIf",(null==e.lastName?null:e.lastName.invalid)&&(null==e.lastName?null:e.lastName.touched)),p(5),B("is-invalid",(null==e.email?null:e.email.invalid)&&(null==e.email?null:e.email.touched)),p(),h("ngIf",(null==e.email?null:e.email.invalid)&&(null==e.email?null:e.email.touched)),p(4),B("is-invalid",(null==e.phone?null:e.phone.invalid)&&(null==e.phone?null:e.phone.touched)),p(),h("ngIf",(null==e.phone?null:e.phone.invalid)&&(null==e.phone?null:e.phone.touched)),p(17),h("ngIf",e.pastAddresses.length>0),p(4),B("is-invalid",(null==e.street?null:e.street.invalid)&&(null==e.street?null:e.street.touched)),p(),h("ngIf",(null==e.street?null:e.street.invalid)&&(null==e.street?null:e.street.touched)),p(5),B("is-invalid",(null==e.city?null:e.city.invalid)&&(null==e.city?null:e.city.touched)),p(),h("ngIf",(null==e.city?null:e.city.invalid)&&(null==e.city?null:e.city.touched)),p(4),B("is-invalid",(null==e.state?null:e.state.invalid)&&(null==e.state?null:e.state.touched)),p(),h("ngIf",(null==e.state?null:e.state.invalid)&&(null==e.state?null:e.state.touched)),p(4),B("is-invalid",(null==e.pincode?null:e.pincode.invalid)&&(null==e.pincode?null:e.pincode.touched)),p(),h("ngIf",(null==e.pincode?null:e.pincode.invalid)&&(null==e.pincode?null:e.pincode.touched)),p(8),h("ngIf",!(null!=e.sameAsShipping&&e.sameAsShipping.value)),p(25),h("ngIf",(null==e.termsAccepted?null:e.termsAccepted.invalid)&&(null==e.termsAccepted?null:e.termsAccepted.touched)),p(2),h("disabled",e.isSubmitting),p(),h("ngIf",!e.isSubmitting),p(),h("ngIf",e.isSubmitting),p(),h("disabled",e.isSubmitting),p(9),h("ngForOf",e.quoteService.getQuoteItems()),p(6),S(e.quoteService.quoteCount()),p(5),D("\u20b9",Ne(124,35,e.calculateTotal()),"")}}function yj(t,n){if(1&t&&(a(0,"div",117)(1,"div",118)(2,"span",119),d(3),c(),a(4,"span",93),d(5),c()(),a(6,"span",92),d(7),Q(8,"number"),c()()),2&t){const e=n.$implicit;p(3),S(e.product.name),p(2),D("Qty: ",e.quantity,""),p(2),D("\u20b9",Ne(8,3,e.product.price*e.quantity),"")}}function vj(t,n){if(1&t&&(a(0,"div",120),b(1,"i",121),a(2,"span"),d(3),c()()),2&t){const e=f(2);p(3),S(e.submitError)}}function Cj(t,n){1&t&&(a(0,"span"),b(1,"i",9),d(2," Place Order "),c())}function xj(t,n){1&t&&(a(0,"span"),b(1,"i",87),d(2," Placing Order... "),c())}function Mj(t,n){if(1&t){const e=R();a(0,"div",95),C("click",function(){return y(e),v(f().goBackToForm())}),a(1,"div",96),C("click",function(r){return y(e),v(r.stopPropagation())}),a(2,"div",97)(3,"h2"),b(4,"i",98),d(5," Review Your Order"),c(),a(6,"button",99),C("click",function(){return y(e),v(f().goBackToForm())}),b(7,"i",100),c()(),a(8,"div",101)(9,"div",102)(10,"h3"),d(11,"Delivery To"),c(),a(12,"div",103)(13,"p")(14,"strong"),d(15),c()(),a(16,"p"),d(17),c(),a(18,"p"),d(19),c()()(),a(20,"div",102)(21,"h3"),d(22,"Delivery Address"),c(),a(23,"div",103)(24,"p"),d(25),b(26,"br"),d(27),c()()(),a(28,"div",102)(29,"h3"),d(30,"Order Items"),c(),a(31,"div",104),P(32,yj,9,5,"div",105),c()(),a(33,"div",106)(34,"div",107)(35,"span"),d(36,"Subtotal"),c(),a(37,"span"),d(38),Q(39,"number"),c()(),a(40,"div",108)(41,"span"),d(42,"Total Amount"),c(),a(43,"span"),d(44),Q(45,"number"),c()()(),a(46,"div",109)(47,"input",110),A("ngModelChange",function(r){y(e);const i=f();return F(i.sendWhatsApp,r)||(i.sendWhatsApp=r),v(r)}),c(),a(48,"label",111),b(49,"i",112),d(50," Send order confirmation via WhatsApp "),c()(),P(51,vj,4,1,"div",113),c(),a(52,"div",114)(53,"button",115),C("click",function(){return y(e),v(f().goBackToForm())}),b(54,"i",59),d(55," Back "),c(),a(56,"button",116),C("click",function(){return y(e),v(f().confirmOrder())}),P(57,Cj,3,0,"span",5)(58,xj,3,0,"span",5),c()()()()}if(2&t){let e,o,r,i,s;const l=f();p(15),rn("",null==(e=l.quoteForm.get("firstName"))?null:e.value," ",null==(e=l.quoteForm.get("lastName"))?null:e.value,""),p(2),S(null==(o=l.quoteForm.get("phone"))?null:o.value),p(2),S(null==(r=l.quoteForm.get("email"))?null:r.value),p(6),S(null==(i=l.quoteForm.get("street"))?null:i.value),p(2),Fr(" ",null==(s=l.quoteForm.get("city"))?null:s.value,", ",null==(s=l.quoteForm.get("state"))?null:s.value," - ",null==(s=l.quoteForm.get("pincode"))?null:s.value,""),p(5),h("ngForOf",l.quoteService.getQuoteItems()),p(6),D("\u20b9",Ne(39,17,l.calculateTotal()),""),p(6),D("\u20b9",Ne(45,19,l.calculateTotal()),""),p(3),E("ngModel",l.sendWhatsApp),p(4),h("ngIf",l.submitError),p(2),h("disabled",l.isSubmitting),p(3),h("disabled",l.isSubmitting),p(),h("ngIf",!l.isSubmitting),p(),h("ngIf",l.isSubmitting)}}function Pj(t,n){if(1&t&&(a(0,"div",127),b(1,"i",112),a(2,"div")(3,"h4"),d(4,"WhatsApp Message"),c(),a(5,"p"),d(6),c()()()),2&t){let e;const o=f(2);p(6),D("Sent to ",null==(e=o.quoteForm.get("phone"))?null:e.value,"")}}function wj(t,n){if(1&t){const e=R();a(0,"div",122)(1,"div",123)(2,"div",124),b(3,"i",15),c(),a(4,"h2"),d(5,"Order Placed Successfully!"),c(),a(6,"p",125),d(7,"Order Number: "),a(8,"strong"),d(9),c()(),a(10,"div",126)(11,"div",127),b(12,"i",128),a(13,"div")(14,"h4"),d(15,"Confirmation Email"),c(),a(16,"p"),d(17),c()()(),P(18,Pj,7,1,"div",129),a(19,"div",127),b(20,"i",130),a(21,"div")(22,"h4"),d(23,"We'll Contact You Soon"),c(),a(24,"p"),d(25,"Our team will reach out within 24 hours"),c()()()(),a(26,"div",131)(27,"p"),d(28,"Order Total: "),a(29,"strong"),d(30),Q(31,"number"),c()()(),a(32,"div",132)(33,"button",133),C("click",function(){return y(e),v(f().router.navigate(["/"]))}),b(34,"i",134),d(35," Back to Home "),c(),a(36,"button",135),C("click",function(){return y(e),v(f().router.navigate(["/quote"]))}),b(37,"i",136),d(38," Request Another Quote "),c()(),a(39,"div",137)(40,"p"),d(41,"\u{1f4e7} Check your email for detailed confirmation"),c(),a(42,"p"),d(43,"\u{1f4de} Our team will contact you within 24 hours"),c()()()()}if(2&t){let e;const o=f();p(9),S(o.orderNumber),p(8),D("Sent to ",null==(e=o.quoteForm.get("email"))?null:e.value,""),p(),h("ngIf",o.sendWhatsApp),p(12),D("\u20b9",Ne(31,4,o.calculateTotal()),"")}}let Oj=(()=>{class t{constructor(){this.quoteService=w(fs),this.emailService=w(du),this.orderService=w(hr),this.authService=w(Qe),this.formBuilder=w(y2),this.router=w(me),this.isSubmitting=!1,this.submitError="",this.submitSuccess=!1,this.orderNumber="",this.currentStep="form",this.sendWhatsApp=!0,this.pastAddresses=[],this.isLoadingAddresses=!1,this.quoteForm=this.formBuilder.group({firstName:["",[Se.required,Se.minLength(2)]],lastName:["",[Se.required,Se.minLength(2)]],email:["",[Se.required,Se.email]],phone:["",[Se.required,Se.pattern(/^\d{10}$/)]],company:[""],designation:[""],street:["",Se.required],city:["",Se.required],state:["",Se.required],pincode:["",[Se.required,Se.pattern(/^\d{6}$/)]],country:["India",Se.required],sameAsShipping:[!0],deliveryStreet:[""],deliveryCity:[""],deliveryState:[""],deliveryPincode:[""],notes:["",Se.maxLength(500)],termsAccepted:[!1,Se.requiredTrue]}),0===this.quoteService.getQuoteItems().length&&this.router.navigate(["/quote"])}ngOnInit(){this.authService.isAuthenticated()&&(this.loadPastAddresses(),this.prefillUserInfo())}prefillUserInfo(){const e=this.authService.currentUser();e&&this.quoteForm.patchValue({firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone||"",company:e.company||""})}loadPastAddresses(){this.isLoadingAddresses=!0,this.orderService.getPastAddresses().subscribe({next:e=>{this.pastAddresses=e,this.isLoadingAddresses=!1},error:e=>{console.error("Failed to load addresses",e),this.isLoadingAddresses=!1}})}useAddress(e){const o=this.pastAddresses[e];o&&this.quoteForm.patchValue({street:o.address,city:o.city,state:o.state,pincode:o.zip_code||o.zipCode,country:o.country||"India"})}get firstName(){return this.quoteForm.get("firstName")}get lastName(){return this.quoteForm.get("lastName")}get email(){return this.quoteForm.get("email")}get phone(){return this.quoteForm.get("phone")}get street(){return this.quoteForm.get("street")}get city(){return this.quoteForm.get("city")}get state(){return this.quoteForm.get("state")}get pincode(){return this.quoteForm.get("pincode")}get deliveryPincode(){return this.quoteForm.get("deliveryPincode")}get termsAccepted(){return this.quoteForm.get("termsAccepted")}get sameAsShipping(){return this.quoteForm.get("sameAsShipping")}calculateTotal(){return this.quoteService.getQuoteItems().reduce((e,o)=>e+(o.product?.price||o.price||0)*o.quantity,0)}onSameAsShippingChange(){const e=this.sameAsShipping?.value;["deliveryStreet","deliveryCity","deliveryState","deliveryPincode"].forEach(r=>{const i=this.quoteForm.get(r);e?(i?.clearValidators(),i?.setValue("")):i?.setValidators([Se.required]),i?.updateValueAndValidity()})}submitQuote(){var e=this;return xe(function*(){e.quoteForm.invalid?e.markFormGroupTouched(e.quoteForm):e.currentStep="confirm"})()}confirmOrder(){var e=this;return xe(function*(){e.isSubmitting=!0,e.submitError="",e.submitSuccess=!1;try{const o=e.quoteForm.value,r=e.quoteService.getQuoteItems().map(l=>({productId:l.product.id,productName:l.product.name,productImage:l.product.image,quantity:l.quantity,price:l.product.price,total:l.product.price*l.quantity})),s=(e.calculateTotal(),{customer:{firstName:o.firstName,lastName:o.lastName,email:o.email,phone:o.phone,company:o.company,designation:o.designation},items:r,deliveryAddress:o.sameAsShipping?{street:o.street,city:o.city,state:o.state,pincode:o.pincode,country:o.country}:{street:o.deliveryStreet,city:o.deliveryCity,state:o.deliveryState,pincode:o.deliveryPincode,country:o.country},paymentMethod:"cod",notes:o.notes,userId:e.authService.currentUser()?.id});e.orderService.createOrder(s).subscribe({next:l=>{e.orderNumber=l.id,e.quoteService.clearQuote(),e.submitSuccess=!0,e.currentStep="success"},error:l=>{console.error("Error submitting order:",l),e.submitError="Failed to submit order. Please try again.",e.currentStep="confirm",e.isSubmitting=!1},complete:()=>{e.isSubmitting=!1}})}catch(o){console.error("Error in confirmOrder:",o),e.submitError="An unexpected error occurred.",e.isSubmitting=!1}})()}goBackToForm(){this.currentStep="form"}markFormGroupTouched(e){Object.keys(e.controls).forEach(o=>{e.get(o)?.markAsTouched()})}goBackToQuote(){this.router.navigate(["/quote"])}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=se({type:t,selectors:[["app-quote-checkout"]],standalone:!0,features:[ae],decls:31,vars:23,consts:[[1,"quote-checkout-page"],[1,"container"],[1,"checkout-progress"],[1,"progress-item"],[1,"progress-circle"],[4,"ngIf"],["class","fas fa-check",4,"ngIf"],[1,"progress-label"],[1,"progress-line"],[1,"fas","fa-check"],[1,"checkout-header"],[1,"fas","fa-shopping-bag"],["class","checkout-form-wrapper",4,"ngIf"],["class","confirmation-modal-backdrop",3,"click",4,"ngIf"],["class","success-container",4,"ngIf"],[1,"fas","fa-check-circle"],[1,"checkout-form-wrapper"],[1,"checkout-main"],[3,"ngSubmit","formGroup"],[1,"form-section"],[1,"form-row"],[1,"form-group"],["for","firstName"],["type","text","id","firstName","formControlName","firstName","placeholder","Enter your first name",1,"form-control"],["class","error-message",4,"ngIf"],["for","lastName"],["type","text","id","lastName","formControlName","lastName","placeholder","Enter your last name",1,"form-control"],["for","email"],["type","email","id","email","formControlName","email","placeholder","Enter your email",1,"form-control"],["for","phone"],["type","tel","id","phone","formControlName","phone","placeholder","Enter 10-digit phone number",1,"form-control"],["for","company"],["type","text","id","company","formControlName","company","placeholder","Enter your company name",1,"form-control"],["for","designation"],["type","text","id","designation","formControlName","designation","placeholder","Enter your designation",1,"form-control"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"mb-0"],["class","saved-address-selector","style","width: 250px;",4,"ngIf"],["for","street"],["type","text","id","street","formControlName","street","placeholder","Enter your street address",1,"form-control"],["for","city"],["type","text","id","city","formControlName","city","placeholder","Enter your city",1,"form-control"],["for","state"],["type","text","id","state","formControlName","state","placeholder","Enter your state",1,"form-control"],["for","pincode"],["type","text","id","pincode","formControlName","pincode","placeholder","Enter 6-digit pincode",1,"form-control"],[1,"checkbox-group"],["type","checkbox","id","sameAsShipping","formControlName","sameAsShipping",3,"change"],["for","sameAsShipping"],["for","notes"],["id","notes","formControlName","notes","placeholder","Add any special notes or requirements...","rows","4",1,"form-control"],[1,"support-info"],[1,"fas","fa-headset"],[1,"contact"],["type","checkbox","id","termsAccepted","formControlName","termsAccepted"],["for","termsAccepted"],[1,"form-actions"],["type","submit",1,"btn","btn-primary","btn-lg",3,"disabled"],["type","button",1,"btn","btn-secondary","btn-lg",3,"click","disabled"],[1,"fas","fa-arrow-left"],[1,"checkout-sidebar"],[1,"summary-box"],[1,"fas","fa-receipt"],[1,"quote-items"],["class","quote-item",4,"ngFor","ngForOf"],[1,"summary-divider"],[1,"summary-row"],[1,"summary-row","total"],[1,"secure-badge"],[1,"fas","fa-lock"],[1,"info-box"],[1,"fas","fa-truck"],[1,"error-message"],[1,"saved-address-selector",2,"width","250px"],[1,"form-select","form-select-sm",3,"change"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["for","deliveryStreet"],["type","text","id","deliveryStreet","formControlName","deliveryStreet","placeholder","Enter delivery street address",1,"form-control"],["for","deliveryCity"],["type","text","id","deliveryCity","formControlName","deliveryCity","placeholder","Enter delivery city",1,"form-control"],["for","deliveryState"],["type","text","id","deliveryState","formControlName","deliveryState","placeholder","Enter delivery state",1,"form-control"],["for","deliveryPincode"],["type","text","id","deliveryPincode","formControlName","deliveryPincode","placeholder","Enter 6-digit pincode",1,"form-control"],[1,"fas","fa-arrow-right"],[1,"fas","fa-spinner","fa-spin"],[1,"quote-item"],[1,"item-image"],["onerror","this.src='assets/images/placeholder.jpg'",3,"src","alt"],[1,"item-info"],[1,"item-price"],[1,"item-qty"],[1,"item-total"],[1,"confirmation-modal-backdrop",3,"click"],[1,"confirmation-modal",3,"click"],[1,"modal-header"],[1,"fas","fa-clipboard-list"],[1,"close-btn",3,"click"],[1,"fas","fa-times"],[1,"modal-body"],[1,"review-section"],[1,"review-content"],[1,"review-items"],["class","review-item",4,"ngFor","ngForOf"],[1,"order-total"],[1,"total-row"],[1,"total-row","final"],[1,"whatsapp-option"],["type","checkbox","id","sendWhatsApp",3,"ngModelChange","ngModel"],["for","sendWhatsApp"],[1,"fab","fa-whatsapp"],["class","alert alert-danger",4,"ngIf"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click","disabled"],[1,"btn","btn-primary","btn-lg",3,"click","disabled"],[1,"review-item"],[1,"item-details"],[1,"item-name"],[1,"alert","alert-danger"],[1,"fas","fa-exclamation-circle"],[1,"success-container"],[1,"success-box"],[1,"success-icon"],[1,"order-number"],[1,"success-details"],[1,"detail-item"],[1,"fas","fa-envelope"],["class","detail-item",4,"ngIf"],[1,"fas","fa-phone"],[1,"success-amount"],[1,"success-actions"],[1,"btn","btn-primary","btn-lg",3,"click"],[1,"fas","fa-home"],[1,"btn","btn-secondary","btn-lg",3,"click"],[1,"fas","fa-plus"],[1,"success-footer"]],template:function(o,r){1&o&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),P(5,Lz,2,0,"span",5)(6,Uz,1,0,"i",6),c(),a(7,"div",7),d(8,"Order Details"),c()(),b(9,"div",8),a(10,"div",3)(11,"div",4),P(12,Vz,2,0,"span",5)(13,Bz,1,0,"i",6),c(),a(14,"div",7),d(15,"Review & Confirm"),c()(),b(16,"div",8),a(17,"div",3)(18,"div",4),b(19,"i",9),c(),a(20,"div",7),d(21,"Order Placed"),c()()(),a(22,"div",10)(23,"h1"),b(24,"i",11),d(25," Secure Checkout"),c(),P(26,zz,2,0,"p",5)(27,jz,3,0,"p",5),c(),P(28,bj,133,37,"div",12)(29,Mj,59,21,"div",13)(30,wj,44,6,"div",14),c()()),2&o&&(p(3),B("active","form"===r.currentStep)("completed","form"!==r.currentStep),p(2),h("ngIf","form"===r.currentStep),p(),h("ngIf","form"!==r.currentStep),p(3),B("active","form"!==r.currentStep),p(),B("active","confirm"===r.currentStep)("completed","success"===r.currentStep),p(2),h("ngIf","success"!==r.currentStep),p(),h("ngIf","success"===r.currentStep),p(3),B("active","success"===r.currentStep),p(),B("active","success"===r.currentStep),p(9),h("ngIf","success"!==r.currentStep),p(),h("ngIf","success"===r.currentStep),p(),h("ngIf","form"===r.currentStep),p(),h("ngIf","confirm"===r.currentStep),p(),h("ngIf","success"===r.currentStep))},dependencies:[pe,De,ve,Dd,co,nt,bo,vo,Co,et,yn,rt,mo,tt,gs,pc,ru,Ge],styles:['.quote-checkout-page[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f5f7fa,#c3cfe2);padding:40px 0;min-height:100vh}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 20px}.checkout-progress[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:50px;padding:30px 0}.progress-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;position:relative;z-index:1}.progress-circle[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background:#fff;border:2px solid #e0e0e0;display:flex;align-items:center;justify-content:center;font-weight:700;color:#999;font-size:18px;transition:all .3s ease;box-shadow:0 2px 8px #00000014}.progress-item.active[_ngcontent-%COMP%]   .progress-circle[_ngcontent-%COMP%]{background:#0056b3;color:#fff;border-color:#0056b3;box-shadow:0 4px 15px #0056b34d}.progress-item.completed[_ngcontent-%COMP%]   .progress-circle[_ngcontent-%COMP%]{background:#28a745;color:#fff;border-color:#28a745}.progress-label[_ngcontent-%COMP%]{margin-top:12px;font-size:13px;font-weight:600;color:#666;white-space:nowrap}.progress-item.active[_ngcontent-%COMP%]   .progress-label[_ngcontent-%COMP%]{color:#0056b3;font-weight:700}.progress-line[_ngcontent-%COMP%]{width:80px;height:2px;background:#e0e0e0;margin:0 15px;transition:all .3s ease}.progress-line.active[_ngcontent-%COMP%]{background:#28a745}.checkout-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:40px;padding-bottom:30px;border-bottom:2px solid #e0e0e0}.checkout-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;color:#333;margin-bottom:10px;font-weight:700;display:flex;align-items:center;justify-content:center;gap:15px}.checkout-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0056b3;font-size:36px}.checkout-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#666;display:flex;align-items:center;justify-content:center;gap:8px}.checkout-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#28a745;font-size:20px}.alert[_ngcontent-%COMP%]{padding:16px 20px;border-radius:8px;margin-bottom:30px;display:flex;align-items:flex-start;gap:15px;animation:_ngcontent-%COMP%_slideDown .3s ease-out}.alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;min-width:20px;margin-top:2px}.alert[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-size:16px}.alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}.alert-success[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;border:1px solid #c3e6cb}.alert-success[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#155724}.alert-danger[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border:1px solid #f5c6cb}.alert-danger[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#721c24}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.checkout-form-wrapper[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .4s ease-out}.checkout-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 350px;gap:40px;margin-top:40px}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.checkout-main[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:40px;box-shadow:0 1px 3px #0000001a}.form-section[_ngcontent-%COMP%]{margin-bottom:40px;padding-bottom:30px;border-bottom:1px solid #e0e0e0}.form-section[_ngcontent-%COMP%]:last-of-type{border-bottom:none}.form-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#333;margin-bottom:20px;display:flex;align-items:center;gap:10px}.form-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:before{content:"";width:4px;height:20px;background-color:#0056b3;border-radius:2px}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:20px}.form-row.full[_ngcontent-%COMP%]{grid-template-columns:1fr}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:8px;font-weight:500;color:#333;font-size:14px}.form-control[_ngcontent-%COMP%]{padding:12px 16px;border:1px solid #ddd;border-radius:6px;font-size:14px;transition:all .3s ease;font-family:inherit}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#0056b3;box-shadow:0 0 0 3px #0056b31a;background-color:#f8fbfd}.form-control.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545;background-color:#fff5f5}.form-control.is-invalid[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #dc35451a}textarea.form-control[_ngcontent-%COMP%]{resize:vertical;min-height:100px}.error-message[_ngcontent-%COMP%]{color:#dc3545;font-size:13px;margin-top:6px;display:flex;align-items:center;gap:5px}.form-group[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{margin-top:6px;color:#666;font-size:12px}.checkbox-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin:20px 0}.checkbox-group[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer;accent-color:#0056b3}.checkbox-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0;cursor:pointer;font-weight:500;color:#333;font-size:14px}.form-actions[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:15px;margin-top:40px;padding-top:30px;border-top:1px solid #e0e0e0}.btn[_ngcontent-%COMP%]{padding:14px 28px;border:none;border-radius:6px;font-size:15px;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:10px;text-decoration:none}.btn-lg[_ngcontent-%COMP%]{padding:16px 32px;font-size:16px;min-height:50px}.btn-primary[_ngcontent-%COMP%]{background-color:#0056b3;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#004085;box-shadow:0 2px 8px #0056b34d}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#5a6268}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.checkout-sidebar[_ngcontent-%COMP%]{position:sticky;top:20px;height:-moz-fit-content;height:fit-content}.summary-box[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:25px;box-shadow:0 1px 3px #0000001a;border:1px solid #e0e0e0}.summary-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;margin-bottom:20px;color:#333}.quote-items[_ngcontent-%COMP%]{margin-bottom:20px;max-height:400px;overflow-y:auto;padding-right:8px}.quote-items[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.quote-items[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}.quote-items[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ddd;border-radius:3px}.quote-items[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#bbb}.quote-item[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:15px;padding-bottom:15px;border-bottom:1px solid #f0f0f0}.quote-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.item-image[_ngcontent-%COMP%]{flex-shrink:0;width:60px;height:60px;background:#f8f9fa;border-radius:4px;overflow:hidden}.item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.item-info[_ngcontent-%COMP%]{flex:1;min-width:0}.item-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:#333;margin:0 0 5px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.item-price[_ngcontent-%COMP%]{color:#0056b3;font-weight:600;font-size:13px;margin:3px 0}.item-qty[_ngcontent-%COMP%]{color:#666;font-size:12px;margin:0}.item-total[_ngcontent-%COMP%]{flex-shrink:0;font-weight:600;color:#333;font-size:13px;text-align:right}.summary-divider[_ngcontent-%COMP%]{height:1px;background:#e0e0e0;margin:15px 0}.summary-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:14px;margin-bottom:12px;color:#666}.summary-row.total[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#333;padding:12px 0;margin:12px 0;border-top:1px solid #e0e0e0;border-bottom:1px solid #e0e0e0}.summary-row[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600;color:#333}.info-box[_ngcontent-%COMP%]{background:#e7f3ff;border-left:4px solid #0056b3;padding:12px 15px;border-radius:4px;margin-top:20px;display:flex;gap:10px}.info-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0056b3;font-size:16px;flex-shrink:0}.info-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#0056b3;font-size:13px}@media (max-width: 768px){.checkout-content[_ngcontent-%COMP%]{grid-template-columns:1fr}.checkout-sidebar[_ngcontent-%COMP%]{position:static}.form-row[_ngcontent-%COMP%], .form-actions[_ngcontent-%COMP%]{grid-template-columns:1fr}.checkout-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.checkout-main[_ngcontent-%COMP%]{padding:25px}.form-section[_ngcontent-%COMP%]{margin-bottom:30px;padding-bottom:20px}}@media (max-width: 480px){.quote-checkout-page[_ngcontent-%COMP%]{padding:20px 0}.checkout-header[_ngcontent-%COMP%]{margin-bottom:20px;padding-bottom:20px}.checkout-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}.checkout-main[_ngcontent-%COMP%]{padding:15px}.form-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:16px}.btn[_ngcontent-%COMP%]{padding:12px 20px;font-size:14px}.form-control[_ngcontent-%COMP%]{padding:10px 12px;font-size:14px}}.secure-badge[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;padding:12px;background:linear-gradient(135deg,#e7f3ff,#e0f0ff);border:1px solid #b3d9ff;border-radius:6px;margin:15px 0;color:#0056b3;font-weight:600;font-size:13px}.secure-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.confirmation-modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000;padding:20px;animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.confirmation-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 40px #0003;max-width:600px;width:100%;max-height:90vh;overflow-y:auto;animation:_ngcontent-%COMP%_slideUp .3s ease-out}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:25px;border-bottom:1px solid #e0e0e0;background:linear-gradient(135deg,#f5f7fa,#c3cfe2)}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px;color:#333;display:flex;align-items:center;gap:12px}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0056b3;font-size:24px}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;color:#666;cursor:pointer;padding:0;width:36px;height:36px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .2s}.close-btn[_ngcontent-%COMP%]:hover{background:#0000000d;color:#333}.modal-body[_ngcontent-%COMP%]{padding:30px}.review-section[_ngcontent-%COMP%]{margin-bottom:25px}.review-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:#333;margin-bottom:12px;text-transform:uppercase;letter-spacing:.5px;color:#0056b3}.review-content[_ngcontent-%COMP%]{background:#f8f9fa;padding:15px;border-radius:6px;border-left:3px solid #0056b3;font-size:14px;color:#666;line-height:1.6}.review-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 6px}.review-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.review-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333}.review-items[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:6px;overflow:hidden}.review-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 15px;border-bottom:1px solid #e0e0e0;font-size:14px}.review-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.item-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;flex:1}.item-name[_ngcontent-%COMP%]{font-weight:600;color:#333}.item-qty[_ngcontent-%COMP%]{font-size:12px;color:#999}.item-price[_ngcontent-%COMP%]{font-weight:600;color:#0056b3;text-align:right}.order-total[_ngcontent-%COMP%]{background:#f8f9fa;padding:15px;border-radius:6px;margin:20px 0;border:1px solid #e0e0e0}.total-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:14px;margin-bottom:10px;color:#666}.total-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.total-row.final[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#333;padding-top:10px;border-top:2px solid #ddd;color:#0056b3}.whatsapp-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:15px;background:#e8f5e9;border:1px solid #c8e6c9;border-radius:6px;margin:20px 0;cursor:pointer}.whatsapp-option[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer;accent-color:#25d366}.whatsapp-option[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0;cursor:pointer;display:flex;align-items:center;gap:8px;font-weight:500;color:#1b5e20}.whatsapp-option[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:#25d366}.modal-footer[_ngcontent-%COMP%]{display:flex;gap:15px;padding:20px 30px;border-top:1px solid #e0e0e0;background:#f8f9fa}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1}.success-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:600px;padding:40px 20px;animation:_ngcontent-%COMP%_fadeIn .5s ease-out}.success-box[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:50px 40px;text-align:center;box-shadow:0 10px 40px #0000001a;max-width:500px}.success-icon[_ngcontent-%COMP%]{margin-bottom:20px;font-size:80px;color:#28a745;animation:_ngcontent-%COMP%_scaleIn .5s ease-out}@keyframes _ngcontent-%COMP%_scaleIn{0%{transform:scale(0);opacity:0}to{transform:scale(1);opacity:1}}.success-box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;color:#333;margin:20px 0}.order-number[_ngcontent-%COMP%]{font-size:14px;color:#666;margin:20px 0;padding:12px;background:#f8f9fa;border-radius:6px}.order-number[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#0056b3;font-size:16px;font-weight:700}.success-details[_ngcontent-%COMP%]{margin:40px 0;text-align:left;padding:20px;background:#f8f9fa;border-radius:6px}.detail-item[_ngcontent-%COMP%]{display:flex;gap:15px;margin-bottom:15px;padding-bottom:15px;border-bottom:1px solid #e0e0e0}.detail-item[_ngcontent-%COMP%]:last-child{margin-bottom:0;padding-bottom:0;border-bottom:none}.detail-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:#0056b3;flex-shrink:0;margin-top:3px}.detail-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 5px;color:#333;font-size:14px}.detail-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666;font-size:13px}.success-amount[_ngcontent-%COMP%]{margin:30px 0;font-size:16px;color:#666}.success-amount[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#28a745;font-size:24px;font-weight:700}.success-actions[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:15px;margin:30px 0}@media (max-width: 768px){.success-actions[_ngcontent-%COMP%]{grid-template-columns:1fr}}.success-footer[_ngcontent-%COMP%]{text-align:center;margin-top:30px;padding-top:20px;border-top:2px solid #f0f0f0;font-size:13px;color:#666}.success-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0;line-height:1.6}@media (max-width: 768px){.checkout-progress[_ngcontent-%COMP%]{margin-bottom:30px;padding:20px 0}.progress-circle[_ngcontent-%COMP%]{width:40px;height:40px;font-size:14px}.progress-line[_ngcontent-%COMP%]{width:40px;margin:0 10px}.progress-label[_ngcontent-%COMP%]{font-size:11px;margin-top:8px}.confirmation-modal[_ngcontent-%COMP%]{max-height:95vh}.modal-footer[_ngcontent-%COMP%]{flex-direction:column}.success-box[_ngcontent-%COMP%]{padding:30px 20px}.success-icon[_ngcontent-%COMP%]{font-size:60px}.success-box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px}}.support-info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f0f8ff,#e6f2ff);border-left:4px solid #0056b3;padding:15px;border-radius:8px;margin-top:20px;display:flex;gap:12px;align-items:flex-start}.support-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0056b3;font-size:20px;margin-top:2px;flex-shrink:0}.support-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0;font-size:13px;color:#333}.support-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#0056b3;font-weight:600}.support-info[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]{color:#666;font-size:12px;margin-top:6px}']})}}return t})(),kj=(()=>{class t{constructor(){this.pincodeDatabase={110001:{city:"New Delhi",state:"Delhi"},110002:{city:"New Delhi",state:"Delhi"},110003:{city:"New Delhi",state:"Delhi"},110005:{city:"New Delhi",state:"Delhi"},110006:{city:"New Delhi",state:"Delhi"},110007:{city:"New Delhi",state:"Delhi"},110008:{city:"New Delhi",state:"Delhi"},110009:{city:"New Delhi",state:"Delhi"},110010:{city:"New Delhi",state:"Delhi"},110011:{city:"New Delhi",state:"Delhi"},110012:{city:"New Delhi",state:"Delhi"},110013:{city:"New Delhi",state:"Delhi"},110014:{city:"New Delhi",state:"Delhi"},110015:{city:"New Delhi",state:"Delhi"},110016:{city:"New Delhi",state:"Delhi"},110017:{city:"New Delhi",state:"Delhi"},110018:{city:"New Delhi",state:"Delhi"},110019:{city:"New Delhi",state:"Delhi"},110020:{city:"New Delhi",state:"Delhi"},110021:{city:"New Delhi",state:"Delhi"},110022:{city:"New Delhi",state:"Delhi"},110023:{city:"New Delhi",state:"Delhi"},110024:{city:"New Delhi",state:"Delhi"},110025:{city:"New Delhi",state:"Delhi"},110026:{city:"New Delhi",state:"Delhi"},110027:{city:"New Delhi",state:"Delhi"},110028:{city:"New Delhi",state:"Delhi"},110029:{city:"New Delhi",state:"Delhi"},110030:{city:"New Delhi",state:"Delhi"},110031:{city:"New Delhi",state:"Delhi"},110032:{city:"New Delhi",state:"Delhi"},110033:{city:"New Delhi",state:"Delhi"},110034:{city:"New Delhi",state:"Delhi"},110035:{city:"New Delhi",state:"Delhi"},110036:{city:"New Delhi",state:"Delhi"},110037:{city:"New Delhi",state:"Delhi"},110038:{city:"New Delhi",state:"Delhi"},110039:{city:"New Delhi",state:"Delhi"},110040:{city:"New Delhi",state:"Delhi"},110041:{city:"New Delhi",state:"Delhi"},110042:{city:"New Delhi",state:"Delhi"},110043:{city:"New Delhi",state:"Delhi"},110044:{city:"New Delhi",state:"Delhi"},110045:{city:"New Delhi",state:"Delhi"},110046:{city:"New Delhi",state:"Delhi"},110047:{city:"New Delhi",state:"Delhi"},110048:{city:"New Delhi",state:"Delhi"},110049:{city:"New Delhi",state:"Delhi"},110050:{city:"New Delhi",state:"Delhi"},110051:{city:"New Delhi",state:"Delhi"},110052:{city:"New Delhi",state:"Delhi"},110053:{city:"New Delhi",state:"Delhi"},110054:{city:"New Delhi",state:"Delhi"},110055:{city:"New Delhi",state:"Delhi"},110056:{city:"New Delhi",state:"Delhi"},110057:{city:"New Delhi",state:"Delhi"},110058:{city:"New Delhi",state:"Delhi"},110059:{city:"New Delhi",state:"Delhi"},110060:{city:"New Delhi",state:"Delhi"},110061:{city:"New Delhi",state:"Delhi"},110062:{city:"New Delhi",state:"Delhi"},110063:{city:"New Delhi",state:"Delhi"},110064:{city:"New Delhi",state:"Delhi"},110065:{city:"New Delhi",state:"Delhi"},110066:{city:"New Delhi",state:"Delhi"},110067:{city:"New Delhi",state:"Delhi"},110068:{city:"New Delhi",state:"Delhi"},110069:{city:"New Delhi",state:"Delhi"},110070:{city:"New Delhi",state:"Delhi"},110071:{city:"New Delhi",state:"Delhi"},110072:{city:"New Delhi",state:"Delhi"},110073:{city:"New Delhi",state:"Delhi"},110074:{city:"New Delhi",state:"Delhi"},110075:{city:"New Delhi",state:"Delhi"},110076:{city:"New Delhi",state:"Delhi"},110077:{city:"New Delhi",state:"Delhi"},110078:{city:"New Delhi",state:"Delhi"},110079:{city:"New Delhi",state:"Delhi"},110080:{city:"New Delhi",state:"Delhi"},110081:{city:"New Delhi",state:"Delhi"},110082:{city:"New Delhi",state:"Delhi"},110083:{city:"New Delhi",state:"Delhi"},110084:{city:"New Delhi",state:"Delhi"},110085:{city:"New Delhi",state:"Delhi"},110086:{city:"New Delhi",state:"Delhi"},110087:{city:"New Delhi",state:"Delhi"},110088:{city:"New Delhi",state:"Delhi"},110089:{city:"New Delhi",state:"Delhi"},110090:{city:"New Delhi",state:"Delhi"},110091:{city:"New Delhi",state:"Delhi"},110092:{city:"New Delhi",state:"Delhi"},110093:{city:"New Delhi",state:"Delhi"},110094:{city:"New Delhi",state:"Delhi"},110095:{city:"New Delhi",state:"Delhi"},110096:{city:"New Delhi",state:"Delhi"},400001:{city:"Mumbai",state:"Maharashtra"},400002:{city:"Mumbai",state:"Maharashtra"},400003:{city:"Mumbai",state:"Maharashtra"},400004:{city:"Mumbai",state:"Maharashtra"},400005:{city:"Mumbai",state:"Maharashtra"},400006:{city:"Mumbai",state:"Maharashtra"},400007:{city:"Mumbai",state:"Maharashtra"},400008:{city:"Mumbai",state:"Maharashtra"},400009:{city:"Mumbai",state:"Maharashtra"},400010:{city:"Mumbai",state:"Maharashtra"},400011:{city:"Mumbai",state:"Maharashtra"},400012:{city:"Mumbai",state:"Maharashtra"},400013:{city:"Mumbai",state:"Maharashtra"},400014:{city:"Mumbai",state:"Maharashtra"},400015:{city:"Mumbai",state:"Maharashtra"},400016:{city:"Mumbai",state:"Maharashtra"},400017:{city:"Mumbai",state:"Maharashtra"},400018:{city:"Mumbai",state:"Maharashtra"},400019:{city:"Mumbai",state:"Maharashtra"},400020:{city:"Mumbai",state:"Maharashtra"},400021:{city:"Mumbai",state:"Maharashtra"},400022:{city:"Mumbai",state:"Maharashtra"},400023:{city:"Mumbai",state:"Maharashtra"},400024:{city:"Mumbai",state:"Maharashtra"},400025:{city:"Mumbai",state:"Maharashtra"},400026:{city:"Mumbai",state:"Maharashtra"},400027:{city:"Mumbai",state:"Maharashtra"},400028:{city:"Mumbai",state:"Maharashtra"},400029:{city:"Mumbai",state:"Maharashtra"},400030:{city:"Mumbai",state:"Maharashtra"},400050:{city:"Mumbai",state:"Maharashtra"},400051:{city:"Mumbai",state:"Maharashtra"},400052:{city:"Mumbai",state:"Maharashtra"},400053:{city:"Mumbai",state:"Maharashtra"},400054:{city:"Mumbai",state:"Maharashtra"},400055:{city:"Mumbai",state:"Maharashtra"},400056:{city:"Mumbai",state:"Maharashtra"},400057:{city:"Mumbai",state:"Maharashtra"},400058:{city:"Mumbai",state:"Maharashtra"},400059:{city:"Mumbai",state:"Maharashtra"},400060:{city:"Mumbai",state:"Maharashtra"},400061:{city:"Mumbai",state:"Maharashtra"},400062:{city:"Mumbai",state:"Maharashtra"},400063:{city:"Mumbai",state:"Maharashtra"},400064:{city:"Mumbai",state:"Maharashtra"},400065:{city:"Mumbai",state:"Maharashtra"},400066:{city:"Mumbai",state:"Maharashtra"},400067:{city:"Mumbai",state:"Maharashtra"},400068:{city:"Mumbai",state:"Maharashtra"},400069:{city:"Mumbai",state:"Maharashtra"},400070:{city:"Mumbai",state:"Maharashtra"},400071:{city:"Mumbai",state:"Maharashtra"},400072:{city:"Mumbai",state:"Maharashtra"},400073:{city:"Mumbai",state:"Maharashtra"},400074:{city:"Mumbai",state:"Maharashtra"},400075:{city:"Mumbai",state:"Maharashtra"},400076:{city:"Mumbai",state:"Maharashtra"},400077:{city:"Mumbai",state:"Maharashtra"},400078:{city:"Mumbai",state:"Maharashtra"},400079:{city:"Mumbai",state:"Maharashtra"},400080:{city:"Mumbai",state:"Maharashtra"},400081:{city:"Mumbai",state:"Maharashtra"},400082:{city:"Mumbai",state:"Maharashtra"},400083:{city:"Mumbai",state:"Maharashtra"},400084:{city:"Mumbai",state:"Maharashtra"},400085:{city:"Mumbai",state:"Maharashtra"},400086:{city:"Mumbai",state:"Maharashtra"},400087:{city:"Mumbai",state:"Maharashtra"},400088:{city:"Mumbai",state:"Maharashtra"},400089:{city:"Mumbai",state:"Maharashtra"},400090:{city:"Mumbai",state:"Maharashtra"},400091:{city:"Mumbai",state:"Maharashtra"},400092:{city:"Mumbai",state:"Maharashtra"},400093:{city:"Mumbai",state:"Maharashtra"},400094:{city:"Mumbai",state:"Maharashtra"},400095:{city:"Mumbai",state:"Maharashtra"},400096:{city:"Mumbai",state:"Maharashtra"},560001:{city:"Bangalore",state:"Karnataka"},560002:{city:"Bangalore",state:"Karnataka"},560003:{city:"Bangalore",state:"Karnataka"},560004:{city:"Bangalore",state:"Karnataka"},560005:{city:"Bangalore",state:"Karnataka"},560006:{city:"Bangalore",state:"Karnataka"},560007:{city:"Bangalore",state:"Karnataka"},560008:{city:"Bangalore",state:"Karnataka"},560009:{city:"Bangalore",state:"Karnataka"},560010:{city:"Bangalore",state:"Karnataka"},560011:{city:"Bangalore",state:"Karnataka"},560012:{city:"Bangalore",state:"Karnataka"},560013:{city:"Bangalore",state:"Karnataka"},560014:{city:"Bangalore",state:"Karnataka"},560015:{city:"Bangalore",state:"Karnataka"},560016:{city:"Bangalore",state:"Karnataka"},560017:{city:"Bangalore",state:"Karnataka"},560018:{city:"Bangalore",state:"Karnataka"},560019:{city:"Bangalore",state:"Karnataka"},560020:{city:"Bangalore",state:"Karnataka"},560021:{city:"Bangalore",state:"Karnataka"},560022:{city:"Bangalore",state:"Karnataka"},560023:{city:"Bangalore",state:"Karnataka"},560024:{city:"Bangalore",state:"Karnataka"},560025:{city:"Bangalore",state:"Karnataka"},560026:{city:"Bangalore",state:"Karnataka"},560027:{city:"Bangalore",state:"Karnataka"},560028:{city:"Bangalore",state:"Karnataka"},560029:{city:"Bangalore",state:"Karnataka"},560030:{city:"Bangalore",state:"Karnataka"},560031:{city:"Bangalore",state:"Karnataka"},560032:{city:"Bangalore",state:"Karnataka"},560033:{city:"Bangalore",state:"Karnataka"},560034:{city:"Bangalore",state:"Karnataka"},560035:{city:"Bangalore",state:"Karnataka"},560036:{city:"Bangalore",state:"Karnataka"},560037:{city:"Bangalore",state:"Karnataka"},560038:{city:"Bangalore",state:"Karnataka"},560039:{city:"Bangalore",state:"Karnataka"},560040:{city:"Bangalore",state:"Karnataka"},560041:{city:"Bangalore",state:"Karnataka"},560042:{city:"Bangalore",state:"Karnataka"},560043:{city:"Bangalore",state:"Karnataka"},560044:{city:"Bangalore",state:"Karnataka"},560045:{city:"Bangalore",state:"Karnataka"},560046:{city:"Bangalore",state:"Karnataka"},560047:{city:"Bangalore",state:"Karnataka"},560048:{city:"Bangalore",state:"Karnataka"},560049:{city:"Bangalore",state:"Karnataka"},560050:{city:"Bangalore",state:"Karnataka"},560051:{city:"Bangalore",state:"Karnataka"},560052:{city:"Bangalore",state:"Karnataka"},560053:{city:"Bangalore",state:"Karnataka"},560054:{city:"Bangalore",state:"Karnataka"},560055:{city:"Bangalore",state:"Karnataka"},560056:{city:"Bangalore",state:"Karnataka"},560057:{city:"Bangalore",state:"Karnataka"},560058:{city:"Bangalore",state:"Karnataka"},560059:{city:"Bangalore",state:"Karnataka"},560060:{city:"Bangalore",state:"Karnataka"},560061:{city:"Bangalore",state:"Karnataka"},560062:{city:"Bangalore",state:"Karnataka"},560063:{city:"Bangalore",state:"Karnataka"},560064:{city:"Bangalore",state:"Karnataka"},560065:{city:"Bangalore",state:"Karnataka"},560066:{city:"Bangalore",state:"Karnataka"},560067:{city:"Bangalore",state:"Karnataka"},560068:{city:"Bangalore",state:"Karnataka"},560069:{city:"Bangalore",state:"Karnataka"},560070:{city:"Bangalore",state:"Karnataka"},560071:{city:"Bangalore",state:"Karnataka"},560072:{city:"Bangalore",state:"Karnataka"},560073:{city:"Bangalore",state:"Karnataka"},560074:{city:"Bangalore",state:"Karnataka"},560075:{city:"Bangalore",state:"Karnataka"},560076:{city:"Bangalore",state:"Karnataka"},560077:{city:"Bangalore",state:"Karnataka"},560078:{city:"Bangalore",state:"Karnataka"},560079:{city:"Bangalore",state:"Karnataka"},560080:{city:"Bangalore",state:"Karnataka"},560081:{city:"Bangalore",state:"Karnataka"},560082:{city:"Bangalore",state:"Karnataka"},560083:{city:"Bangalore",state:"Karnataka"},560084:{city:"Bangalore",state:"Karnataka"},560085:{city:"Bangalore",state:"Karnataka"},560086:{city:"Bangalore",state:"Karnataka"},560087:{city:"Bangalore",state:"Karnataka"},500001:{city:"Hyderabad",state:"Telangana"},500002:{city:"Hyderabad",state:"Telangana"},500003:{city:"Hyderabad",state:"Telangana"},500004:{city:"Hyderabad",state:"Telangana"},500005:{city:"Hyderabad",state:"Telangana"},500006:{city:"Hyderabad",state:"Telangana"},500007:{city:"Hyderabad",state:"Telangana"},500008:{city:"Hyderabad",state:"Telangana"},500009:{city:"Hyderabad",state:"Telangana"},500010:{city:"Hyderabad",state:"Telangana"},500012:{city:"Hyderabad",state:"Telangana"},500013:{city:"Hyderabad",state:"Telangana"},500014:{city:"Hyderabad",state:"Telangana"},500015:{city:"Hyderabad",state:"Telangana"},500016:{city:"Hyderabad",state:"Telangana"},500017:{city:"Hyderabad",state:"Telangana"},500018:{city:"Hyderabad",state:"Telangana"},500019:{city:"Hyderabad",state:"Telangana"},500020:{city:"Hyderabad",state:"Telangana"},500021:{city:"Hyderabad",state:"Telangana"},500022:{city:"Hyderabad",state:"Telangana"},500023:{city:"Hyderabad",state:"Telangana"},500024:{city:"Hyderabad",state:"Telangana"},500025:{city:"Hyderabad",state:"Telangana"},500026:{city:"Hyderabad",state:"Telangana"},500027:{city:"Hyderabad",state:"Telangana"},500028:{city:"Hyderabad",state:"Telangana"},500029:{city:"Hyderabad",state:"Telangana"},500030:{city:"Hyderabad",state:"Telangana"},500031:{city:"Hyderabad",state:"Telangana"},500032:{city:"Hyderabad",state:"Telangana"},500033:{city:"Hyderabad",state:"Telangana"},500034:{city:"Hyderabad",state:"Telangana"},500035:{city:"Hyderabad",state:"Telangana"},500036:{city:"Hyderabad",state:"Telangana"},500037:{city:"Hyderabad",state:"Telangana"},500038:{city:"Hyderabad",state:"Telangana"},500039:{city:"Hyderabad",state:"Telangana"},500040:{city:"Hyderabad",state:"Telangana"},500048:{city:"Hyderabad",state:"Telangana"},500049:{city:"Hyderabad",state:"Telangana"},500050:{city:"Hyderabad",state:"Telangana"},600001:{city:"Chennai",state:"Tamil Nadu"},600002:{city:"Chennai",state:"Tamil Nadu"},600003:{city:"Chennai",state:"Tamil Nadu"},600004:{city:"Chennai",state:"Tamil Nadu"},600005:{city:"Chennai",state:"Tamil Nadu"},600006:{city:"Chennai",state:"Tamil Nadu"},600007:{city:"Chennai",state:"Tamil Nadu"},600008:{city:"Chennai",state:"Tamil Nadu"},600009:{city:"Chennai",state:"Tamil Nadu"},600010:{city:"Chennai",state:"Tamil Nadu"},600011:{city:"Chennai",state:"Tamil Nadu"},600012:{city:"Chennai",state:"Tamil Nadu"},600013:{city:"Chennai",state:"Tamil Nadu"},600014:{city:"Chennai",state:"Tamil Nadu"},600015:{city:"Chennai",state:"Tamil Nadu"},600017:{city:"Chennai",state:"Tamil Nadu"},600018:{city:"Chennai",state:"Tamil Nadu"},600019:{city:"Chennai",state:"Tamil Nadu"},600020:{city:"Chennai",state:"Tamil Nadu"},600021:{city:"Chennai",state:"Tamil Nadu"},600022:{city:"Chennai",state:"Tamil Nadu"},600023:{city:"Chennai",state:"Tamil Nadu"},600024:{city:"Chennai",state:"Tamil Nadu"},600025:{city:"Chennai",state:"Tamil Nadu"},600026:{city:"Chennai",state:"Tamil Nadu"},600028:{city:"Chennai",state:"Tamil Nadu"},600029:{city:"Chennai",state:"Tamil Nadu"},600030:{city:"Chennai",state:"Tamil Nadu"},600031:{city:"Chennai",state:"Tamil Nadu"},600032:{city:"Chennai",state:"Tamil Nadu"},600033:{city:"Chennai",state:"Tamil Nadu"},600034:{city:"Chennai",state:"Tamil Nadu"},600035:{city:"Chennai",state:"Tamil Nadu"},600036:{city:"Chennai",state:"Tamil Nadu"},600037:{city:"Chennai",state:"Tamil Nadu"},600038:{city:"Chennai",state:"Tamil Nadu"},600039:{city:"Chennai",state:"Tamil Nadu"},600040:{city:"Chennai",state:"Tamil Nadu"},600041:{city:"Chennai",state:"Tamil Nadu"},600042:{city:"Chennai",state:"Tamil Nadu"},600043:{city:"Chennai",state:"Tamil Nadu"},600044:{city:"Chennai",state:"Tamil Nadu"},700001:{city:"Kolkata",state:"West Bengal"},700002:{city:"Kolkata",state:"West Bengal"},700003:{city:"Kolkata",state:"West Bengal"},700004:{city:"Kolkata",state:"West Bengal"},700005:{city:"Kolkata",state:"West Bengal"},700006:{city:"Kolkata",state:"West Bengal"},700007:{city:"Kolkata",state:"West Bengal"},700008:{city:"Kolkata",state:"West Bengal"},700009:{city:"Kolkata",state:"West Bengal"},700010:{city:"Kolkata",state:"West Bengal"},700011:{city:"Kolkata",state:"West Bengal"},700012:{city:"Kolkata",state:"West Bengal"},700013:{city:"Kolkata",state:"West Bengal"},700014:{city:"Kolkata",state:"West Bengal"},700015:{city:"Kolkata",state:"West Bengal"},700016:{city:"Kolkata",state:"West Bengal"},700017:{city:"Kolkata",state:"West Bengal"},700019:{city:"Kolkata",state:"West Bengal"},700020:{city:"Kolkata",state:"West Bengal"},700021:{city:"Kolkata",state:"West Bengal"},700022:{city:"Kolkata",state:"West Bengal"},700023:{city:"Kolkata",state:"West Bengal"},700025:{city:"Kolkata",state:"West Bengal"},700026:{city:"Kolkata",state:"West Bengal"},700027:{city:"Kolkata",state:"West Bengal"},700028:{city:"Kolkata",state:"West Bengal"},700029:{city:"Kolkata",state:"West Bengal"},700030:{city:"Kolkata",state:"West Bengal"},700031:{city:"Kolkata",state:"West Bengal"},700032:{city:"Kolkata",state:"West Bengal"},700033:{city:"Kolkata",state:"West Bengal"},700034:{city:"Kolkata",state:"West Bengal"},700035:{city:"Kolkata",state:"West Bengal"},700036:{city:"Kolkata",state:"West Bengal"},700037:{city:"Kolkata",state:"West Bengal"},700038:{city:"Kolkata",state:"West Bengal"},700039:{city:"Kolkata",state:"West Bengal"},700040:{city:"Kolkata",state:"West Bengal"},700041:{city:"Kolkata",state:"West Bengal"},700042:{city:"Kolkata",state:"West Bengal"},700043:{city:"Kolkata",state:"West Bengal"},700044:{city:"Kolkata",state:"West Bengal"},700045:{city:"Kolkata",state:"West Bengal"},700046:{city:"Kolkata",state:"West Bengal"},700047:{city:"Kolkata",state:"West Bengal"},700048:{city:"Kolkata",state:"West Bengal"},700049:{city:"Kolkata",state:"West Bengal"},700050:{city:"Kolkata",state:"West Bengal"},700051:{city:"Kolkata",state:"West Bengal"},700052:{city:"Kolkata",state:"West Bengal"},700053:{city:"Kolkata",state:"West Bengal"},700054:{city:"Kolkata",state:"West Bengal"},700055:{city:"Kolkata",state:"West Bengal"},700056:{city:"Kolkata",state:"West Bengal"},700057:{city:"Kolkata",state:"West Bengal"},700058:{city:"Kolkata",state:"West Bengal"},700059:{city:"Kolkata",state:"West Bengal"},700060:{city:"Kolkata",state:"West Bengal"},700061:{city:"Kolkata",state:"West Bengal"},700062:{city:"Kolkata",state:"West Bengal"},700063:{city:"Kolkata",state:"West Bengal"},700064:{city:"Kolkata",state:"West Bengal"},700065:{city:"Kolkata",state:"West Bengal"},700066:{city:"Kolkata",state:"West Bengal"},700067:{city:"Kolkata",state:"West Bengal"},700068:{city:"Kolkata",state:"West Bengal"},411001:{city:"Pune",state:"Maharashtra"},411002:{city:"Pune",state:"Maharashtra"},411003:{city:"Pune",state:"Maharashtra"},411004:{city:"Pune",state:"Maharashtra"},411005:{city:"Pune",state:"Maharashtra"},411006:{city:"Pune",state:"Maharashtra"},411007:{city:"Pune",state:"Maharashtra"},411008:{city:"Pune",state:"Maharashtra"},411009:{city:"Pune",state:"Maharashtra"},411010:{city:"Pune",state:"Maharashtra"},411011:{city:"Pune",state:"Maharashtra"},411012:{city:"Pune",state:"Maharashtra"},411013:{city:"Pune",state:"Maharashtra"},411014:{city:"Pune",state:"Maharashtra"},411015:{city:"Pune",state:"Maharashtra"},411016:{city:"Pune",state:"Maharashtra"},411017:{city:"Pune",state:"Maharashtra"},411018:{city:"Pune",state:"Maharashtra"},411019:{city:"Pune",state:"Maharashtra"},411020:{city:"Pune",state:"Maharashtra"},411021:{city:"Pune",state:"Maharashtra"},411022:{city:"Pune",state:"Maharashtra"},411023:{city:"Pune",state:"Maharashtra"},411024:{city:"Pune",state:"Maharashtra"},411025:{city:"Pune",state:"Maharashtra"},411026:{city:"Pune",state:"Maharashtra"},411027:{city:"Pune",state:"Maharashtra"},411028:{city:"Pune",state:"Maharashtra"},411029:{city:"Pune",state:"Maharashtra"},411030:{city:"Pune",state:"Maharashtra"},411031:{city:"Pune",state:"Maharashtra"},411032:{city:"Pune",state:"Maharashtra"},411033:{city:"Pune",state:"Maharashtra"},411034:{city:"Pune",state:"Maharashtra"},411035:{city:"Pune",state:"Maharashtra"},411036:{city:"Pune",state:"Maharashtra"},411037:{city:"Pune",state:"Maharashtra"},411038:{city:"Pune",state:"Maharashtra"},411039:{city:"Pune",state:"Maharashtra"},411040:{city:"Pune",state:"Maharashtra"},411041:{city:"Pune",state:"Maharashtra"},411042:{city:"Pune",state:"Maharashtra"},411043:{city:"Pune",state:"Maharashtra"},411044:{city:"Pune",state:"Maharashtra"},411045:{city:"Pune",state:"Maharashtra"},411046:{city:"Pune",state:"Maharashtra"},411047:{city:"Pune",state:"Maharashtra"},411048:{city:"Pune",state:"Maharashtra"},411049:{city:"Pune",state:"Maharashtra"},380001:{city:"Ahmedabad",state:"Gujarat"},380002:{city:"Ahmedabad",state:"Gujarat"},380003:{city:"Ahmedabad",state:"Gujarat"},380004:{city:"Ahmedabad",state:"Gujarat"},380005:{city:"Ahmedabad",state:"Gujarat"},380006:{city:"Ahmedabad",state:"Gujarat"},380007:{city:"Ahmedabad",state:"Gujarat"},380008:{city:"Ahmedabad",state:"Gujarat"},380009:{city:"Ahmedabad",state:"Gujarat"},380010:{city:"Ahmedabad",state:"Gujarat"},380011:{city:"Ahmedabad",state:"Gujarat"},380012:{city:"Ahmedabad",state:"Gujarat"},380013:{city:"Ahmedabad",state:"Gujarat"},380014:{city:"Ahmedabad",state:"Gujarat"},380015:{city:"Ahmedabad",state:"Gujarat"},380016:{city:"Ahmedabad",state:"Gujarat"},380017:{city:"Ahmedabad",state:"Gujarat"},380018:{city:"Ahmedabad",state:"Gujarat"},380019:{city:"Ahmedabad",state:"Gujarat"},380020:{city:"Ahmedabad",state:"Gujarat"},380021:{city:"Ahmedabad",state:"Gujarat"},380022:{city:"Ahmedabad",state:"Gujarat"},380023:{city:"Ahmedabad",state:"Gujarat"},380024:{city:"Ahmedabad",state:"Gujarat"},380025:{city:"Ahmedabad",state:"Gujarat"},380026:{city:"Ahmedabad",state:"Gujarat"},380028:{city:"Ahmedabad",state:"Gujarat"},302001:{city:"Jaipur",state:"Rajasthan"},302002:{city:"Jaipur",state:"Rajasthan"},302003:{city:"Jaipur",state:"Rajasthan"},302004:{city:"Jaipur",state:"Rajasthan"},302005:{city:"Jaipur",state:"Rajasthan"},302006:{city:"Jaipur",state:"Rajasthan"},302012:{city:"Jaipur",state:"Rajasthan"},302013:{city:"Jaipur",state:"Rajasthan"},302014:{city:"Jaipur",state:"Rajasthan"},302015:{city:"Jaipur",state:"Rajasthan"},302016:{city:"Jaipur",state:"Rajasthan"},302017:{city:"Jaipur",state:"Rajasthan"},302018:{city:"Jaipur",state:"Rajasthan"},302019:{city:"Jaipur",state:"Rajasthan"},302020:{city:"Jaipur",state:"Rajasthan"},302021:{city:"Jaipur",state:"Rajasthan"}},this.states=["Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chhattisgarh","Goa","Gujarat","Haryana","Himachal Pradesh","Jharkhand","Karnataka","Kerala","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttar Pradesh","Uttarakhand","West Bengal","Delhi","Puducherry","Chandigarh","Andaman and Nicobar Islands","Dadra and Nagar Haveli","Daman and Diu","Lakshadweep"]}getLocationByPincode(e){return this.pincodeDatabase[e]||null}getStates(){return this.states.sort()}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Dj=(()=>{class t{constructor(){this.ADDRESSES_KEY="drone_shop_addresses",this.authService=w(Qe)}getSavedAddresses(){const e=this.authService.currentUser();return e?this.getAllAddresses().filter(r=>r.userId===e.id):[]}saveAddress(e){const o=this.getAllAddresses(),r={...e,id:Date.now().toString(),savedAt:(new Date).toISOString()};return o.push(r),localStorage.setItem(this.ADDRESSES_KEY,JSON.stringify(o)),r}deleteAddress(e){let o=this.getAllAddresses();o=o.filter(r=>r.id!==e),localStorage.setItem(this.ADDRESSES_KEY,JSON.stringify(o))}setDefaultAddress(e){const o=this.getAllAddresses();o.forEach(r=>{r.isDefault=r.id===e}),localStorage.setItem(this.ADDRESSES_KEY,JSON.stringify(o))}getDefaultAddress(){const e=this.getSavedAddresses();return e.find(o=>o.isDefault)||e[0]||null}getAllAddresses(){const e=localStorage.getItem(this.ADDRESSES_KEY);return e?JSON.parse(e):[]}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const t_=()=>({standalone:!0});function Sj(t,n){1&t&&(a(0,"div",9),b(1,"i",10),a(2,"div")(3,"strong"),d(4,"Order Placed Successfully!"),c(),a(5,"p"),d(6,"Thank you! Your order has been received. You'll receive a confirmation email shortly."),c()()())}function Ij(t,n){if(1&t&&(a(0,"div",11),b(1,"i",12),a(2,"div")(3,"strong"),d(4,"Order Processing Error"),c(),a(5,"p"),d(6),c()()()),2&t){const e=f();p(6),S(e.submitError)}}function Tj(t,n){if(1&t&&(a(0,"span",86),d(1),c()),2&t){const e=f().$implicit;p(),S(e.label)}}function Ej(t,n){1&t&&(a(0,"span",87),d(1,"Default"),c())}function Aj(t,n){if(1&t){const e=R();a(0,"div",77)(1,"div",78)(2,"input",79),A("ngModelChange",function(r){y(e);const i=f(3);return F(i.selectedSavedAddressId,r)||(i.selectedSavedAddressId=r),v(r)}),C("change",function(){const r=y(e).$implicit;return v(f(3).selectSavedAddress(r.id))}),c(),a(3,"label",80)(4,"div",81),P(5,Tj,2,1,"span",82)(6,Ej,2,0,"span",83),c(),a(7,"div",84)(8,"p",85),d(9),c(),a(10,"p",85),d(11),c()()()()()}if(2&t){const e=n.$implicit,o=f(3);p(2),h("id","address-"+e.id)("value",e.id),E("ngModel",o.selectedSavedAddressId),h("ngModelOptions",Xe(11,t_)),p(),h("for","address-"+e.id),p(2),h("ngIf",e.label),p(),h("ngIf",e.isDefault),p(3),rn("",e.street,", ",e.city,""),p(2),rn("",e.state,", ",e.pincode,"")}}function Nj(t,n){if(1&t&&(a(0,"div",17)(1,"h2"),d(2,"Saved Addresses"),c(),a(3,"p",73),d(4,"Select one of your previously used addresses or enter a new one below"),c(),a(5,"div",74),P(6,Aj,12,12,"div",75),a(7,"div",76)(8,"span"),d(9,"OR"),c()()()()),2&t){const e=f(2);p(6),h("ngForOf",e.savedAddresses)}}function Fj(t,n){1&t&&(a(0,"span"),d(1,"First name is required"),c())}function Rj(t,n){1&t&&(a(0,"span"),d(1,"First name must be at least 2 characters"),c())}function Lj(t,n){if(1&t&&(a(0,"div",88),P(1,Fj,2,0,"span",47)(2,Rj,2,0,"span",47),c()),2&t){const e=f(2);p(),h("ngIf",null==e.firstName||null==e.firstName.errors?null:e.firstName.errors.required),p(),h("ngIf",null==e.firstName||null==e.firstName.errors?null:e.firstName.errors.minlength)}}function Uj(t,n){1&t&&(a(0,"span"),d(1,"Email is required"),c())}function Vj(t,n){1&t&&(a(0,"span"),d(1,"Please enter a valid email"),c())}function Bj(t,n){if(1&t&&(a(0,"div",88),P(1,Uj,2,0,"span",47)(2,Vj,2,0,"span",47),c()),2&t){const e=f(2);p(),h("ngIf",null==e.email||null==e.email.errors?null:e.email.errors.required),p(),h("ngIf",null==e.email||null==e.email.errors?null:e.email.errors.email)}}function zj(t,n){1&t&&(a(0,"span"),d(1,"Street address is required"),c())}function jj(t,n){if(1&t&&(a(0,"div",88),P(1,zj,2,0,"span",47),c()),2&t){const e=f(2);p(),h("ngIf",null==e.street||null==e.street.errors?null:e.street.errors.required)}}function $j(t,n){1&t&&(a(0,"span"),d(1,"City is required"),c())}function Hj(t,n){if(1&t&&(a(0,"div",88),P(1,$j,2,0,"span",47),c()),2&t){const e=f(2);p(),h("ngIf",null==e.city||null==e.city.errors?null:e.city.errors.required)}}function qj(t,n){if(1&t&&(a(0,"option",89),d(1),c()),2&t){const e=n.$implicit;h("value",e),p(),S(e)}}function Wj(t,n){1&t&&(a(0,"span"),d(1,"State is required"),c())}function Gj(t,n){if(1&t&&(a(0,"div",88),P(1,Wj,2,0,"span",47),c()),2&t){const e=f(2);p(),h("ngIf",null==e.state||null==e.state.errors?null:e.state.errors.required)}}function Yj(t,n){1&t&&(a(0,"span"),d(1,"Pincode is required"),c())}function Kj(t,n){1&t&&(a(0,"span"),d(1,"Please enter a valid 6-digit pincode"),c())}function Qj(t,n){if(1&t&&(a(0,"div",88),P(1,Yj,2,0,"span",47)(2,Kj,2,0,"span",47),c()),2&t){const e=f(2);p(),h("ngIf",null==e.pincode||null==e.pincode.errors?null:e.pincode.errors.required),p(),h("ngIf",null==e.pincode||null==e.pincode.errors?null:e.pincode.errors.pattern)}}function Jj(t,n){if(1&t&&(a(0,"option",89),d(1),c()),2&t){const e=n.$implicit;h("value",e),p(),S(e)}}function Xj(t,n){if(1&t){const e=R();a(0,"div")(1,"div",19)(2,"label",90),d(3,"Street Address *"),c(),b(4,"input",91),c(),a(5,"div",18)(6,"div",19)(7,"label",92),d(8,"City *"),c(),b(9,"input",93),c(),a(10,"div",19)(11,"label",94),d(12,"State *"),c(),a(13,"select",95)(14,"option",40),d(15,"Select your state"),c(),P(16,Jj,2,2,"option",41),c()(),a(17,"div",19)(18,"label",96),d(19,"Pincode *"),c(),a(20,"input",97),C("change",function(){return y(e),v(f(2).onDeliveryPincodeChange())}),c(),a(21,"small"),d(22,"City and State will be auto-filled based on pincode"),c()()()()}if(2&t){const e=f(2);p(16),h("ngForOf",e.deliveryStates),p(4),B("is-invalid",(null==e.deliveryPincode?null:e.deliveryPincode.invalid)&&(null==e.deliveryPincode?null:e.deliveryPincode.touched)&&!(null!=e.sameAsShipping&&e.sameAsShipping.value))}}function Zj(t,n){if(1&t){const e=R();a(0,"div",98)(1,"div",19)(2,"label",99),d(3,"Address Label (e.g., Home, Office, Shop)"),c(),a(4,"input",100),A("ngModelChange",function(r){y(e);const i=f(2);return F(i.addressLabel,r)||(i.addressLabel=r),v(r)}),c(),a(5,"small"),d(6,"This label helps you identify the address later"),c()()()}if(2&t){const e=f(2);p(4),E("ngModel",e.addressLabel),h("ngModelOptions",Xe(2,t_))}}function e$(t,n){1&t&&(a(0,"span"),d(1,"You must accept the terms"),c())}function t$(t,n){if(1&t&&(a(0,"div",88),P(1,e$,2,0,"span",47),c()),2&t){const e=f(2);p(),h("ngIf",null==e.termsAccepted||null==e.termsAccepted.errors?null:e.termsAccepted.errors.required)}}function n$(t,n){1&t&&(a(0,"span"),b(1,"i",101),d(2," Place Order "),c())}function o$(t,n){1&t&&(a(0,"span"),b(1,"i",102),d(2," Processing... "),c())}function r$(t,n){if(1&t&&(a(0,"div",103)(1,"div",104),b(2,"img",105),c(),a(3,"div",106)(4,"h4"),d(5),c(),a(6,"p",107),d(7),Q(8,"number"),c(),a(9,"p",108),d(10),c()(),a(11,"div",109),d(12),Q(13,"number"),c()()),2&t){const e=n.$implicit;p(2),h("src",e.product.image,ue)("alt",e.product.name),p(3),S(e.product.name),p(2),D("\u20b9",Ne(8,6,e.product.price),""),p(3),D("Qty: ",e.quantity,""),p(2),D(" \u20b9",Ne(13,8,e.product.price*e.quantity)," ")}}function i$(t,n){1&t&&(a(0,"span",110),d(1,"FREE"),c())}function s$(t,n){if(1&t&&(a(0,"span"),d(1),Q(2,"number"),c()),2&t){const e=f(2);p(),D("\u20b9",Ne(2,1,e.calculateShipping()),"")}}function a$(t,n){if(1&t){const e=R();a(0,"div",13)(1,"div",14)(2,"form",15),C("ngSubmit",function(){return y(e),v(f().submitOrder())}),P(3,Nj,10,1,"div",16),a(4,"div",17)(5,"h2"),d(6,"Shipping Information"),c(),a(7,"div",18)(8,"div",19)(9,"label",20),d(10,"First Name *"),c(),b(11,"input",21),P(12,Lj,3,2,"div",22),c(),a(13,"div",19)(14,"label",23),d(15,"Last Name (Optional)"),c(),b(16,"input",24),a(17,"small",25),d(18,"Pre-filled from your profile, edit if needed"),c()()(),a(19,"div",18)(20,"div",19)(21,"label",26),d(22,"Email *"),c(),b(23,"input",27),P(24,Bj,3,2,"div",22),c(),a(25,"div",19)(26,"label",28),d(27,"Phone (Optional)"),c(),b(28,"input",29),a(29,"small",25),d(30,"Pre-filled from your profile, edit if needed"),c()()()(),a(31,"div",17)(32,"h2"),d(33,"Company Information (Optional)"),c(),a(34,"div",18)(35,"div",19)(36,"label",30),d(37,"Company Name"),c(),b(38,"input",31),c(),a(39,"div",19)(40,"label",32),d(41,"Designation"),c(),b(42,"input",33),c()()(),a(43,"div",17)(44,"h2"),d(45,"Billing Address"),c(),a(46,"div",19)(47,"label",34),d(48,"Street Address *"),c(),b(49,"input",35),P(50,jj,2,1,"div",22),c(),a(51,"div",18)(52,"div",19)(53,"label",36),d(54,"City *"),c(),b(55,"input",37),P(56,Hj,2,1,"div",22),c(),a(57,"div",19)(58,"label",38),d(59,"State *"),c(),a(60,"select",39)(61,"option",40),d(62,"Select your state"),c(),P(63,qj,2,2,"option",41),c(),P(64,Gj,2,1,"div",22),c(),a(65,"div",19)(66,"label",42),d(67,"Pincode *"),c(),a(68,"input",43),C("change",function(){return y(e),v(f().onPincodeChange())}),c(),P(69,Qj,3,2,"div",22),a(70,"small"),d(71,"City and State will be auto-filled based on pincode"),c()()()(),a(72,"div",17)(73,"h2"),d(74,"Delivery Address"),c(),a(75,"div",44)(76,"input",45),C("change",function(){return y(e),v(f().onSameAsShippingChange())}),c(),a(77,"label",46),d(78,"Same as billing address"),c()(),P(79,Xj,23,3,"div",47),c(),a(80,"div",48)(81,"h2"),d(82,"Save This Address"),c(),a(83,"div",44)(84,"input",49),A("ngModelChange",function(r){y(e);const i=f();return F(i.saveCurrentAddress,r)||(i.saveCurrentAddress=r),v(r)}),c(),a(85,"label",50),d(86,"Save this address for future orders"),c()(),P(87,Zj,7,3,"div",51),c(),a(88,"div",17)(89,"h2"),d(90,"Additional Information"),c(),a(91,"div",19)(92,"label",52),d(93,"Order Notes"),c(),b(94,"textarea",53),a(95,"small"),d(96,"Maximum 500 characters"),c()()(),a(97,"div",17)(98,"div",44),b(99,"input",54),a(100,"label",55),d(101," I agree to the terms and conditions and privacy policy * "),c()(),P(102,t$,2,1,"div",22),c(),a(103,"div",56)(104,"button",57),P(105,n$,3,0,"span",47)(106,o$,3,0,"span",47),c(),a(107,"button",58),C("click",function(){return y(e),v(f().goBackToCart())}),b(108,"i",4),d(109," Back to Cart "),c()()()(),a(110,"div",59)(111,"div",60)(112,"h3"),d(113,"Order Summary"),c(),a(114,"div",61),P(115,r$,14,10,"div",62),c(),b(116,"div",63),a(117,"div",64)(118,"span"),d(119,"Subtotal:"),c(),a(120,"strong"),d(121),Q(122,"number"),c()(),a(123,"div",64)(124,"span"),d(125,"Shipping:"),c(),a(126,"strong"),P(127,i$,2,0,"span",65)(128,s$,3,3,"span",47),c()(),a(129,"div",64)(130,"span"),d(131,"Tax (18% GST):"),c(),a(132,"strong"),d(133),Q(134,"number"),c()(),a(135,"div",66)(136,"span"),d(137,"Order Total:"),c(),a(138,"strong"),d(139),Q(140,"number"),c()(),a(141,"div",67),b(142,"i",68),a(143,"p"),d(144,"Your payment information is secure and encrypted."),c()(),a(145,"div",69)(146,"h4"),d(147,"Shipping Details"),c(),a(148,"p"),b(149,"i",70),d(150," Standard Delivery: 3-5 business days "),c(),a(151,"p"),b(152,"i",71),d(153," 30-Day Returns Policy "),c(),a(154,"p"),b(155,"i",72),d(156," 24/7 Customer Support "),c()()()()()}if(2&t){const e=f();p(2),h("formGroup",e.checkoutForm),p(),h("ngIf",e.savedAddresses.length>0),p(8),B("is-invalid",(null==e.firstName?null:e.firstName.invalid)&&(null==e.firstName?null:e.firstName.touched)),p(),h("ngIf",(null==e.firstName?null:e.firstName.invalid)&&(null==e.firstName?null:e.firstName.touched)),p(11),B("is-invalid",(null==e.email?null:e.email.invalid)&&(null==e.email?null:e.email.touched)),p(),h("ngIf",(null==e.email?null:e.email.invalid)&&(null==e.email?null:e.email.touched)),p(25),B("is-invalid",(null==e.street?null:e.street.invalid)&&(null==e.street?null:e.street.touched)),p(),h("ngIf",(null==e.street?null:e.street.invalid)&&(null==e.street?null:e.street.touched)),p(5),B("is-invalid",(null==e.city?null:e.city.invalid)&&(null==e.city?null:e.city.touched)),p(),h("ngIf",(null==e.city?null:e.city.invalid)&&(null==e.city?null:e.city.touched)),p(4),B("is-invalid",(null==e.state?null:e.state.invalid)&&(null==e.state?null:e.state.touched)),p(3),h("ngForOf",e.states),p(),h("ngIf",(null==e.state?null:e.state.invalid)&&(null==e.state?null:e.state.touched)),p(4),B("is-invalid",(null==e.pincode?null:e.pincode.invalid)&&(null==e.pincode?null:e.pincode.touched)),p(),h("ngIf",(null==e.pincode?null:e.pincode.invalid)&&(null==e.pincode?null:e.pincode.touched)),p(10),h("ngIf",!(null!=e.sameAsShipping&&e.sameAsShipping.value)),p(5),E("ngModel",e.saveCurrentAddress),h("ngModelOptions",Xe(44,t_)),p(3),h("ngIf",e.saveCurrentAddress),p(15),h("ngIf",(null==e.termsAccepted?null:e.termsAccepted.invalid)&&(null==e.termsAccepted?null:e.termsAccepted.touched)),p(2),h("disabled",e.isSubmitting),p(),h("ngIf",!e.isSubmitting),p(),h("ngIf",e.isSubmitting),p(),h("disabled",e.isSubmitting),p(8),h("ngForOf",e.cartService.getCartItems()),p(6),D("\u20b9",Ne(122,38,e.calculateSubtotal()),""),p(2),B("free-shipping",0===e.calculateShipping()),p(4),h("ngIf",0===e.calculateShipping()),p(),h("ngIf",e.calculateShipping()>0),p(5),D("\u20b9",Ne(134,40,e.calculateTax()),""),p(6),D("\u20b9",Ne(140,42,e.calculateTotal()),"")}}let c$=(()=>{class t{constructor(){this.cartService=w(fr),this.emailService=w(du),this.orderService=w(hr),this.pincodeService=w(kj),this.formBuilder=w(y2),this.router=w(me),this.navigationHistory=w(e_),this.analyticsService=w(gr),this.authService=w(Qe),this.addressService=w(Dj),this.isSubmitting=!1,this.submitError="",this.submitSuccess=!1,this.states=[],this.deliveryStates=[],this.savedAddresses=[],this.selectedSavedAddressId=null,this.saveCurrentAddress=!1,this.addressLabel="",this.states=this.pincodeService.getStates(),this.deliveryStates=this.pincodeService.getStates(),this.checkoutForm=this.formBuilder.group({firstName:["",[Se.required,Se.minLength(2)]],lastName:[""],email:["",[Se.required,Se.email]],phone:[""],company:[""],designation:[""],street:["",Se.required],city:["",Se.required],state:["",Se.required],pincode:["",[Se.required,Se.pattern(/^\d{6}$/)]],country:["India",Se.required],sameAsShipping:[!0],deliveryStreet:[""],deliveryCity:[""],deliveryState:[""],deliveryPincode:[""],notes:["",Se.maxLength(500)],termsAccepted:[!1,Se.requiredTrue]}),0===this.cartService.getCartItems().length&&this.router.navigate(["/cart"]),this.loadSavedAddresses(),this.prefillUserData()}loadSavedAddresses(){this.savedAddresses=this.addressService.getSavedAddresses()}prefillUserData(){const e=this.authService.currentUser();if(e){const o=e.firstName||e.name||"",r=o.split(" ")[0]||"",i=o.split(" ").slice(1).join(" ")||"";this.checkoutForm.patchValue({firstName:r,lastName:i,email:e.email||"",phone:e.phone||""})}}selectSavedAddress(e){const o=this.savedAddresses.find(r=>r.id===e);o&&(this.selectedSavedAddressId=e,this.checkoutForm.patchValue({street:o.street,city:o.city,state:o.state,pincode:o.pincode,country:o.country}))}get firstName(){return this.checkoutForm.get("firstName")}get lastName(){return this.checkoutForm.get("lastName")}get email(){return this.checkoutForm.get("email")}get phone(){return this.checkoutForm.get("phone")}get street(){return this.checkoutForm.get("street")}get city(){return this.checkoutForm.get("city")}get state(){return this.checkoutForm.get("state")}get pincode(){return this.checkoutForm.get("pincode")}get deliveryPincode(){return this.checkoutForm.get("deliveryPincode")}get termsAccepted(){return this.checkoutForm.get("termsAccepted")}get sameAsShipping(){return this.checkoutForm.get("sameAsShipping")}calculateSubtotal(){return this.cartService.getCartItems().reduce((e,o)=>e+o.product.price*o.quantity,0)}calculateShipping(){return this.calculateSubtotal()>5e3?0:100}calculateTax(){return Math.round(.18*this.calculateSubtotal())}calculateTotal(){return this.calculateSubtotal()+this.calculateShipping()+this.calculateTax()}onSameAsShippingChange(){const e=this.sameAsShipping?.value;["deliveryStreet","deliveryCity","deliveryState","deliveryPincode"].forEach(r=>{const i=this.checkoutForm.get(r);e?(i?.clearValidators(),i?.setValue("")):i?.setValidators([Se.required]),i?.updateValueAndValidity()})}onPincodeChange(){const e=this.checkoutForm.get("pincode")?.value;if(e&&6===e.length){const o=this.pincodeService.getLocationByPincode(e);this.checkoutForm.patchValue(o?{city:o.city,state:o.state}:{city:"",state:""})}}onDeliveryPincodeChange(){const e=this.checkoutForm.get("deliveryPincode")?.value;if(e&&6===e.length){const o=this.pincodeService.getLocationByPincode(e);this.checkoutForm.patchValue(o?{deliveryCity:o.city,deliveryState:o.state}:{deliveryCity:"",deliveryState:""})}}submitOrder(){var e=this;return xe(function*(){if(e.checkoutForm.invalid)e.markFormGroupTouched(e.checkoutForm);else{e.isSubmitting=!0,e.submitError="",e.submitSuccess=!1;try{const o=e.checkoutForm.value,r=e.cartService.getCartItems(),i=e.calculateSubtotal(),s=e.calculateShipping(),l=e.calculateTax(),u=e.calculateTotal(),g=`ORD-${Date.now()}`,_=(r.map(k=>({productId:k.product.id,productName:k.product.name,quantity:k.quantity,price:k.product.price,total:k.product.price*k.quantity})),(new Date).toISOString(),e.authService.currentUser()),x={customer:{firstName:o.firstName,lastName:o.lastName,email:o.email,phone:o.phone},items:r.map(k=>({productId:k.product.id,product:k.product,productName:k.product.name,quantity:k.quantity,price:k.product.price,subtotal:k.product.price*k.quantity})),deliveryAddress:o.sameAsShipping?{street:o.street,city:o.city,state:o.state,pincode:o.pincode,country:o.country}:{street:o.deliveryStreet,city:o.deliveryCity,state:o.deliveryState,pincode:o.deliveryPincode,country:o.country},pricing:{subtotal:i,shipping:s,tax:l,total:u},paymentMethod:"cod",paymentStatus:"pending",status:"pending",userId:_?.id||null};console.log("\u{1f4e4} Saving order to localStorage:",x);const M={...x,id:g,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},O=JSON.parse(localStorage.getItem("orders")||"[]");O.push(M),localStorage.setItem("orders",JSON.stringify(O)),console.log("\u2705 Order saved to localStorage:",g),sessionStorage.setItem("lastOrderId",g),e.saveCurrentAddress&&_&&e.addressService.saveAddress({...o.sameAsShipping?{street:o.street,city:o.city,state:o.state,pincode:o.pincode,country:o.country}:{street:o.deliveryStreet,city:o.deliveryCity,state:o.deliveryState,pincode:o.deliveryPincode,country:o.country},label:e.addressLabel||"Saved Address",userId:_?.id||""}),_&&e.analyticsService.trackTransaction({userId:_?.id||"",userName:_?.firstName||_?.name||"",type:"order",items:r.length,amount:u}),e.cartService.clearCart(),e.submitSuccess=!0,e.isSubmitting=!1,setTimeout(()=>{e.router.navigate(["/order-confirmation",g])},2e3)}catch(o){console.error("Error submitting order:",o),e.submitError="Failed to process order. Please try again.",e.isSubmitting=!1}}})()}markFormGroupTouched(e){Object.keys(e.controls).forEach(o=>{e.get(o)?.markAsTouched()})}goBackToCart(){this.router.navigate(["/cart"])}goBack(){this.navigationHistory.goBack()}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=se({type:t,selectors:[["app-checkout"]],standalone:!0,features:[ae],decls:14,vars:3,consts:[[1,"checkout-page"],[1,"container"],[1,"back-button-container"],["title","Go back",1,"back-button",3,"click"],[1,"fas","fa-arrow-left"],[1,"checkout-header"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","checkout-content",4,"ngIf"],[1,"alert","alert-success"],[1,"fas","fa-check-circle"],[1,"alert","alert-danger"],[1,"fas","fa-exclamation-circle"],[1,"checkout-content"],[1,"checkout-main"],[3,"ngSubmit","formGroup"],["class","form-section",4,"ngIf"],[1,"form-section"],[1,"form-row"],[1,"form-group"],["for","firstName"],["type","text","id","firstName","formControlName","firstName","placeholder","Enter your first name",1,"form-control"],["class","error-message",4,"ngIf"],["for","lastName"],["type","text","id","lastName","formControlName","lastName","placeholder","Enter your last name",1,"form-control"],[1,"field-hint"],["for","email"],["type","email","id","email","formControlName","email","placeholder","Enter your email",1,"form-control"],["for","phone"],["type","tel","id","phone","formControlName","phone","placeholder","Enter 10-digit phone number",1,"form-control"],["for","company"],["type","text","id","company","formControlName","company","placeholder","Enter your company name",1,"form-control"],["for","designation"],["type","text","id","designation","formControlName","designation","placeholder","Enter your designation",1,"form-control"],["for","street"],["type","text","id","street","formControlName","street","placeholder","Enter your street address",1,"form-control"],["for","city"],["type","text","id","city","formControlName","city","placeholder","Enter your city",1,"form-control"],["for","state"],["id","state","formControlName","state",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","pincode"],["type","text","id","pincode","formControlName","pincode","placeholder","Enter 6-digit pincode",1,"form-control",3,"change"],[1,"checkbox-group"],["type","checkbox","id","sameAsShipping","formControlName","sameAsShipping",3,"change"],["for","sameAsShipping"],[4,"ngIf"],[1,"form-section","save-address-section"],["type","checkbox","id","saveAddress",3,"ngModelChange","ngModel","ngModelOptions"],["for","saveAddress"],["class","address-label-input",4,"ngIf"],["for","notes"],["id","notes","formControlName","notes","placeholder","Add any special requests or instructions...","rows","4",1,"form-control"],["type","checkbox","id","termsAccepted","formControlName","termsAccepted"],["for","termsAccepted"],[1,"form-actions"],["type","submit",1,"btn","btn-primary","btn-lg",3,"disabled"],["type","button",1,"btn","btn-secondary","btn-lg",3,"click","disabled"],[1,"checkout-sidebar"],[1,"summary-box"],[1,"cart-items"],["class","cart-item",4,"ngFor","ngForOf"],[1,"summary-divider"],[1,"summary-row"],["class","free-label",4,"ngIf"],[1,"summary-row","total"],[1,"info-box"],[1,"fas","fa-lock"],[1,"shipping-info"],[1,"fas","fa-truck"],[1,"fas","fa-undo"],[1,"fas","fa-headset"],[1,"section-hint"],[1,"saved-addresses-list"],["class","saved-address-option",4,"ngFor","ngForOf"],[1,"divider-with-text"],[1,"saved-address-option"],[1,"address-radio"],["type","radio",1,"address-checkbox",3,"ngModelChange","change","id","value","ngModel","ngModelOptions"],[1,"address-label",3,"for"],[1,"address-header"],["class","address-label-text",4,"ngIf"],["class","address-default-badge",4,"ngIf"],[1,"address-details"],[1,"address-text"],[1,"address-label-text"],[1,"address-default-badge"],[1,"error-message"],[3,"value"],["for","deliveryStreet"],["type","text","id","deliveryStreet","formControlName","deliveryStreet","placeholder","Enter delivery street address",1,"form-control"],["for","deliveryCity"],["type","text","id","deliveryCity","formControlName","deliveryCity","placeholder","Enter delivery city",1,"form-control"],["for","deliveryState"],["id","deliveryState","formControlName","deliveryState",1,"form-control"],["for","deliveryPincode"],["type","text","id","deliveryPincode","formControlName","deliveryPincode","placeholder","Enter 6-digit pincode",1,"form-control",3,"change"],[1,"address-label-input"],["for","addressLabel"],["type","text","id","addressLabel","placeholder","e.g., Home, Office, Warehouse","maxlength","30",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],[1,"fas","fa-check"],[1,"fas","fa-spinner","fa-spin"],[1,"cart-item"],[1,"item-image"],["onerror","this.src='assets/images/placeholder.jpg'",3,"src","alt"],[1,"item-info"],[1,"item-price"],[1,"item-qty"],[1,"item-total"],[1,"free-label"]],template:function(o,r){1&o&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),C("click",function(){return r.goBack()}),b(4,"i",4),d(5," Back "),c()(),a(6,"div",5)(7,"h1"),d(8,"Checkout"),c(),a(9,"p"),d(10,"Complete your purchase with secure payment"),c()(),P(11,Sj,7,0,"div",6)(12,Ij,7,1,"div",7)(13,a$,157,45,"div",8),c()()),2&o&&(p(11),h("ngIf",r.submitSuccess),p(),h("ngIf",r.submitError),p(),h("ngIf",!r.submitSuccess))},dependencies:[pe,De,ve,co,nt,bo,vo,Co,et,yn,$n,wm,rt,mo,ps,tt,gs,pc,ru,Ge],styles:['.checkout-page[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:40px 0;min-height:100vh}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 20px}.back-button-container[_ngcontent-%COMP%]{margin-bottom:20px}.back-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:8px 16px;background:var(--primary-brown, #8B6F47);color:#fff;border:none;border-radius:4px;font-size:14px;cursor:pointer;transition:background .3s ease}.back-button[_ngcontent-%COMP%]:hover{background:var(--dark-brown, #6B4F2C)}.back-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.checkout-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:40px;padding-bottom:30px;border-bottom:2px solid #e0e0e0}.checkout-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;color:#333;margin-bottom:10px;font-weight:700}.checkout-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#666}.alert[_ngcontent-%COMP%]{padding:16px 20px;border-radius:8px;margin-bottom:30px;display:flex;align-items:flex-start;gap:15px;animation:_ngcontent-%COMP%_slideDown .3s ease-out}.alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;min-width:20px;margin-top:2px}.alert[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-size:16px}.alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}.alert-success[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;border:1px solid #c3e6cb}.alert-success[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#155724}.alert-danger[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border:1px solid #f5c6cb}.alert-danger[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#721c24}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.checkout-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 350px;gap:40px;margin-top:40px}.checkout-main[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:40px;box-shadow:0 1px 3px #0000001a}.form-section[_ngcontent-%COMP%]{margin-bottom:40px;padding-bottom:30px;border-bottom:1px solid #e0e0e0}.form-section[_ngcontent-%COMP%]:last-of-type{border-bottom:none}.form-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#333;margin-bottom:20px;display:flex;align-items:center;gap:10px}.form-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:before{content:"";width:4px;height:20px;background-color:#0056b3;border-radius:2px}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:20px}.form-row.full[_ngcontent-%COMP%]{grid-template-columns:1fr}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:8px;font-weight:500;color:#333;font-size:14px}.form-control[_ngcontent-%COMP%]{padding:12px 16px;border:1px solid #ddd;border-radius:6px;font-size:14px;transition:all .3s ease;font-family:inherit}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#0056b3;box-shadow:0 0 0 3px #0056b31a;background-color:#f8fbfd}.form-control.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545;background-color:#fff5f5}.form-control.is-invalid[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #dc35451a}textarea.form-control[_ngcontent-%COMP%]{resize:vertical;min-height:100px}.error-message[_ngcontent-%COMP%]{color:#dc3545;font-size:13px;margin-top:6px;display:flex;align-items:center;gap:5px}.form-group[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{margin-top:6px;color:#666;font-size:12px}.checkbox-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin:20px 0}.checkbox-group[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%], .checkbox-group[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer;accent-color:#0056b3}.checkbox-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0;cursor:pointer;font-weight:500;color:#333;font-size:14px}.payment-options[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:15px}.payment-option[_ngcontent-%COMP%]{position:relative;margin:10px 0}.payment-option[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer}.payment-option[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;border:2px solid #ddd;padding:16px;border-radius:6px;cursor:pointer;transition:all .3s ease;margin:0}.payment-option[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{border-color:#0056b3;background-color:#f0f5ff}.radio-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-weight:500;color:#333;margin-bottom:5px}.radio-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px;color:#0056b3}.radio-desc[_ngcontent-%COMP%]{display:block;font-size:12px;color:#666;margin-left:28px}.form-actions[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:15px;margin-top:40px;padding-top:30px;border-top:1px solid #e0e0e0}.btn[_ngcontent-%COMP%]{padding:14px 28px;border:none;border-radius:6px;font-size:15px;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:10px;text-decoration:none}.btn-lg[_ngcontent-%COMP%]{padding:16px 32px;font-size:16px;min-height:50px}.btn-primary[_ngcontent-%COMP%]{background-color:#0056b3;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#004085;box-shadow:0 2px 8px #0056b34d}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#5a6268}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.checkout-sidebar[_ngcontent-%COMP%]{position:sticky;top:20px;height:-moz-fit-content;height:fit-content}.summary-box[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:25px;box-shadow:0 1px 3px #0000001a;border:1px solid #e0e0e0}.summary-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;margin-bottom:20px;color:#333}.cart-items[_ngcontent-%COMP%]{margin-bottom:20px;max-height:300px;overflow-y:auto;padding-right:8px}.cart-items[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.cart-items[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}.cart-items[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ddd;border-radius:3px}.cart-items[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#bbb}.cart-item[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:15px;padding-bottom:15px;border-bottom:1px solid #f0f0f0}.cart-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.item-image[_ngcontent-%COMP%]{flex-shrink:0;width:60px;height:60px;background:#f8f9fa;border-radius:4px;overflow:hidden}.item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.item-info[_ngcontent-%COMP%]{flex:1;min-width:0}.item-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:#333;margin:0 0 5px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.item-price[_ngcontent-%COMP%]{color:#0056b3;font-weight:600;font-size:13px;margin:3px 0}.item-qty[_ngcontent-%COMP%]{color:#666;font-size:12px;margin:0}.item-total[_ngcontent-%COMP%]{flex-shrink:0;font-weight:600;color:#333;font-size:13px;text-align:right}.summary-divider[_ngcontent-%COMP%]{height:1px;background:#e0e0e0;margin:15px 0}.summary-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:14px;margin-bottom:12px;color:#666}.summary-row.free-shipping[_ngcontent-%COMP%]{color:#28a745}.summary-row.total[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#333;padding:12px 0;margin:12px 0;border-top:1px solid #e0e0e0;border-bottom:1px solid #e0e0e0}.summary-row[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600;color:#333}.free-label[_ngcontent-%COMP%]{color:#28a745;font-weight:600}.info-box[_ngcontent-%COMP%]{background:#e7f3ff;border-left:4px solid #0056b3;padding:12px 15px;border-radius:4px;margin-top:20px;display:flex;gap:10px}.info-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0056b3;font-size:16px;flex-shrink:0}.info-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#0056b3;font-size:13px}.shipping-info[_ngcontent-%COMP%]{background:#f8f9fa;padding:15px;border-radius:6px;margin-top:20px}.shipping-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#333;margin:0 0 12px}.shipping-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0;font-size:13px;color:#666;display:flex;align-items:center;gap:8px}.shipping-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0056b3;min-width:16px}@media (max-width: 768px){.checkout-content[_ngcontent-%COMP%]{grid-template-columns:1fr}.checkout-sidebar[_ngcontent-%COMP%]{position:static}.form-row[_ngcontent-%COMP%], .form-actions[_ngcontent-%COMP%], .payment-options[_ngcontent-%COMP%]{grid-template-columns:1fr}.checkout-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.checkout-main[_ngcontent-%COMP%]{padding:25px}.form-section[_ngcontent-%COMP%]{margin-bottom:30px;padding-bottom:20px}}.saved-addresses-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;margin-bottom:20px}.saved-address-option[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.address-radio[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;width:100%;cursor:pointer}.address-checkbox[_ngcontent-%COMP%]{width:20px;height:20px;margin-top:8px;cursor:pointer;accent-color:var(--primary-brown, #8B6F47);flex-shrink:0}.address-label[_ngcontent-%COMP%]{flex:1;padding:12px;border:2px solid #e0e0e0;border-radius:8px;cursor:pointer;transition:all .3s ease}.address-radio[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + .address-label[_ngcontent-%COMP%]{border-color:var(--primary-brown, #8B6F47);background-color:#8b6f470d;box-shadow:0 2px 8px #8b6f471a}.address-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:8px}.address-label-text[_ngcontent-%COMP%]{font-weight:600;color:#333;font-size:15px}.address-default-badge[_ngcontent-%COMP%]{display:inline-block;background-color:var(--primary-brown, #8B6F47);color:#fff;padding:2px 8px;border-radius:12px;font-size:11px;font-weight:600;text-transform:uppercase}.address-details[_ngcontent-%COMP%]{margin:0}.address-text[_ngcontent-%COMP%]{margin:4px 0;color:#666;font-size:14px}.divider-with-text[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;margin:20px 0;color:#999;font-size:14px}.divider-with-text[_ngcontent-%COMP%]:before, .divider-with-text[_ngcontent-%COMP%]:after{content:"";flex:1;height:1px;background-color:#e0e0e0}.save-address-section[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:20px;border-radius:8px;border-left:4px solid var(--primary-brown, #8B6F47)}.save-address-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px;margin-bottom:15px;color:#333}.address-label-input[_ngcontent-%COMP%]{margin-top:15px;padding-top:15px;border-top:1px solid #e0e0e0}.section-hint[_ngcontent-%COMP%]{color:#666;font-size:14px;margin-bottom:15px;font-style:italic}@media (max-width: 480px){.checkout-page[_ngcontent-%COMP%]{padding:20px 0}.checkout-header[_ngcontent-%COMP%]{margin-bottom:20px;padding-bottom:20px}.checkout-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}.checkout-main[_ngcontent-%COMP%]{padding:15px}.form-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:16px}.btn[_ngcontent-%COMP%]{padding:12px 20px;font-size:14px}.form-control[_ngcontent-%COMP%]{padding:10px 12px;font-size:14px}.address-label[_ngcontent-%COMP%]{padding:10px}.address-label-text[_ngcontent-%COMP%]{font-size:14px}.address-text[_ngcontent-%COMP%]{font-size:13px}}']})}}return t})(),l$=(()=>{class t{constructor(){this.http=w(kt),this.authService=w(Qe),this.apiUrl=ot_apiUrl,this.whatsappApiUrl=`${this.apiUrl}/whatsapp`,this.emailApiUrl=`${this.apiUrl}/email`,this.ordersApiUrl=`${this.apiUrl}/orders`}sendOrderConfirmation(e,o={sendWhatsApp:!0,sendEmail:!0,sendBoth:!0}){const r=this.authService.currentUser();if(!r)return ir(()=>new Error("User not authenticated"));const i=[];return o.sendWhatsApp&&o.phoneNumber&&i.push(this.sendWhatsAppOrderConfirmation(e,r,o.phoneNumber)),o.sendEmail&&o.email&&i.push(this.sendEmailOrderConfirmation(e,r,o.email)),0===i.length?q({success:!1,message:"No notification method selected"}):this.combineNotifications(i)}sendOrderStatusUpdate(e,o,r){const i=this.generateStatusUpdateMessage(e,r);return this.http.post(`${this.whatsappApiUrl}/send`,{phoneNumber:o,message:i,orderId:e.id,templateName:"order_status_update"}).pipe(Ce(s=>(console.error("WhatsApp notification error:",s),q({success:!1,message:"Failed to send WhatsApp notification",whatsappStatus:s.message}))))}sendTrackingUpdate(e,o,r){const i=this.generateTrackingMessage(e,r);return this.http.post(`${this.whatsappApiUrl}/send`,{phoneNumber:o,message:i,orderId:e.id,templateName:"order_tracking_update"}).pipe(Ce(s=>(console.error("Tracking notification error:",s),q({success:!1,message:"Failed to send tracking notification"}))))}sendWhatsAppOrderConfirmation(e,o,r){const i=this.generateOrderConfirmationMessage(e,o);return this.http.post(`${this.whatsappApiUrl}/send`,{phoneNumber:r,message:i,orderId:e.id,templateName:"order_confirmation"}).pipe(Ce(s=>(console.error("WhatsApp error:",s),q({success:!1,message:"WhatsApp failed",whatsappStatus:s.message}))))}sendEmailOrderConfirmation(e,o,r){const i=`Order Confirmation - ${e.id||"ORD-"+Date.now()}`,s=this.generateOrderConfirmationHtml(e,o);return this.http.post(`${this.emailApiUrl}/send-order-confirmation`,{to:r,subject:i,htmlContent:s,orderId:e.id}).pipe(Ce(l=>(console.error("Email error:",l),q({success:!1,message:"Email failed",emailStatus:l.message}))))}generateOrderConfirmationMessage(e,o){const r=new Date(e.createdAt).toLocaleDateString("en-IN"),i=new Date(e.createdAt).toLocaleTimeString("en-IN");let s="";return e.items&&Array.isArray(e.items)&&(s=e.items.map((l,u)=>`${u+1}. ${l.name||"Product"}\n   Qty: ${l.quantity} \xd7 \u20b9${l.price}`).join("\n")),`\u{1f389} *Order Confirmation - VSP Electronics* \u{1f389}\n\nHello ${o.firstName||o.name},\n\nThank you for your order! Your order has been successfully placed.\n\n\u{1f4cb} *Order Details:*\nOrder ID: ${e.id}\nDate: ${r}\nTime: ${i}\n\n\u{1f4e6} *Items Ordered:*\n${s}\n\n\u{1f4b0} *Order Summary:*\nSubtotal: \u20b9${e.pricing?.subtotal||0}\nShipping: \u20b9${e.pricing?.shipping||0}\nTax: \u20b9${e.pricing?.tax||0}\n*Total Amount: \u20b9${e.pricing?.total||0}*\n\n\u{1f4cd} *Delivery Address:*\n${e.deliveryAddress?e.deliveryAddress.street+", "+e.deliveryAddress.city:"See order details"}\n\n\u2705 *What's Next:*\n1. Your order is being processed\n2. You'll receive tracking details within 24 hours\n3. Estimated delivery: 3-5 business days\n\n\u{1f4de} *Need Help?*\nFor order queries, reach out to us at:\nWhatsApp: wa.me/919951130198\nEmail: support@vspelectronics.com\n\nThank you for choosing VSP Electronics!`}generateStatusUpdateMessage(e,o){return`${{confirmed:"\u2705",processing:"\u2699\ufe0f",shipped:"\u{1f4e6}",in_transit:"\u{1f69a}",delivered:"\u{1f389}",cancelled:"\u274c",pending:"\u23f3"}[o]||"\u{1f4e2}"} *Order Status Update*\n\nYour order ${e.id} status has been updated!\n\n\u{1f4ca} *New Status: ${o.toUpperCase()}*\n\nFor complete tracking details, visit:\nOrder: ${window.location.origin}/orders/${e.id}\n\nNeed help? Contact us on WhatsApp: wa.me/919951130198`}generateTrackingMessage(e,o){return`\u{1f4e6} *Order Tracking Update*\n\nOrder ID: ${e.id}\n\n\u{1f4cd} *Current Status:* ${o.status||"In Transit"}\n\u{1f4c5} *Last Updated:* ${o.lastUpdated||(new Date).toLocaleDateString("en-IN")}\n\n\u{1f69a} *Tracking Details:*\nCarrier: ${o.carrier||"Standard Shipping"}\nTracking Number: ${o.trackingNumber||"N/A"}\n\n\u{1f4cc} *Current Location:* ${o.currentLocation||"In Transit"}\n\u23f0 *Expected Delivery:* ${o.estimatedDelivery||"See order details"}\n\nTrack your package in real-time:\n${window.location.origin}/orders/${e.id}/tracking\n\nThank you for your patience!`}generateOrderConfirmationHtml(e,o){const r=new Date(e.createdAt).toLocaleDateString("en-IN");let i="";return e.items&&Array.isArray(e.items)&&(i=e.items.map(s=>`\n        <tr>\n          <td style="padding: 10px; border-bottom: 1px solid #ddd;">${s.name||"Product"}</td>\n          <td style="padding: 10px; border-bottom: 1px solid #ddd; text-align: center;">${s.quantity}</td>\n          <td style="padding: 10px; border-bottom: 1px solid #ddd; text-align: right;">\u20b9${s.price}</td>\n          <td style="padding: 10px; border-bottom: 1px solid #ddd; text-align: right;">\u20b9${(s.quantity*s.price).toFixed(2)}</td>\n        </tr>\n      `).join("")),`\n      <!DOCTYPE html>\n      <html>\n      <head>\n        <style>\n          body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; }\n          .container { max-width: 600px; margin: 0 auto; padding: 20px; }\n          .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px; text-align: center; border-radius: 10px 10px 0 0; }\n          .header h1 { margin: 0; font-size: 28px; }\n          .content { background: #f9f9f9; padding: 30px; border-radius: 0 0 10px 10px; }\n          .section { margin: 20px 0; }\n          .section-title { font-size: 18px; font-weight: bold; color: #667eea; margin-bottom: 15px; }\n          table { width: 100%; border-collapse: collapse; margin: 15px 0; }\n          table th { background: #667eea; color: white; padding: 12px; text-align: left; }\n          .summary-row { display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid #ddd; }\n          .summary-total { display: flex; justify-content: space-between; padding: 15px 0; border-top: 2px solid #667eea; font-size: 18px; font-weight: bold; color: #667eea; }\n          .button { display: inline-block; background: #667eea; color: white; padding: 12px 30px; text-decoration: none; border-radius: 5px; margin: 20px 0; }\n          .footer { text-align: center; color: #777; font-size: 12px; margin-top: 30px; padding-top: 20px; border-top: 1px solid #ddd; }\n          .track-button { background: #28a745; }\n        </style>\n      </head>\n      <body>\n        <div class="container">\n          <div class="header">\n            <h1>\u{1f389} Order Confirmation</h1>\n            <p>Thank you for your purchase!</p>\n          </div>\n          <div class="content">\n            <p>Hello ${o.firstName||o.name},</p>\n            \n            <p>Your order has been successfully placed and confirmed. Below are your order details.</p>\n\n            <div class="section">\n              <div class="section-title">\u{1f4cb} Order Information</div>\n              <div class="summary-row">\n                <span><strong>Order ID:</strong></span>\n                <span>${e.id}</span>\n              </div>\n              <div class="summary-row">\n                <span><strong>Order Date:</strong></span>\n                <span>${r}</span>\n              </div>\n              <div class="summary-row">\n                <span><strong>Status:</strong></span>\n                <span><strong style="color: #28a745;">Confirmed</strong></span>\n              </div>\n            </div>\n\n            <div class="section">\n              <div class="section-title">\u{1f4e6} Order Items</div>\n              <table>\n                <thead>\n                  <tr>\n                    <th>Product</th>\n                    <th>Qty</th>\n                    <th>Price</th>\n                    <th>Total</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  ${i}\n                </tbody>\n              </table>\n            </div>\n\n            <div class="section">\n              <div class="section-title">\u{1f4b0} Order Summary</div>\n              <div class="summary-row">\n                <span>Subtotal:</span>\n                <span>\u20b9${e.pricing?.subtotal||0}</span>\n              </div>\n              <div class="summary-row">\n                <span>Shipping:</span>\n                <span>\u20b9${e.pricing?.shipping||0}</span>\n              </div>\n              <div class="summary-row">\n                <span>Tax:</span>\n                <span>\u20b9${e.pricing?.tax||0}</span>\n              </div>\n              <div class="summary-total">\n                <span>Total Amount:</span>\n                <span>\u20b9${e.pricing?.total||0}</span>\n              </div>\n            </div>\n\n            <div class="section">\n              <div class="section-title">\u{1f4cd} Delivery Address</div>\n              <p>\n                ${e.deliveryAddress?.street||"N/A"}<br>\n                ${e.deliveryAddress?.city||""}, ${e.deliveryAddress?.state||""}<br>\n                ${e.deliveryAddress?.pincode||""}\n              </p>\n            </div>\n\n            <div style="text-align: center;">\n              <a href="${window.location.origin}/orders/${e.id}" class="button">View Order Details</a>\n              <a href="${window.location.origin}/orders/${e.id}/tracking" class="button track-button">Track Order</a>\n            </div>\n\n            <div class="section">\n              <div class="section-title">\u2705 What's Next?</div>\n              <ol>\n                <li>Your order is being processed</li>\n                <li>You'll receive tracking details within 24 hours</li>\n                <li>Estimated delivery: 3-5 business days</li>\n              </ol>\n            </div>\n\n            <div class="footer">\n              <p>If you have any questions about your order, please reply to this email or contact us.</p>\n              <p>Email: support@vspelectronics.com | WhatsApp: +91 9951130198</p>\n              <p>&copy; 2026 VSP Electronics. All rights reserved.</p>\n            </div>\n          </div>\n        </div>\n      </body>\n      </html>\n    `}combineNotifications(e){return new it(o=>{const r={success:!0,message:"Notifications sent successfully",whatsappStatus:void 0,emailStatus:void 0};let i=0;e.forEach(s=>{s.subscribe({next:l=>{l.success&&(l.whatsappStatus&&(r.whatsappStatus=l.whatsappStatus),l.emailStatus&&(r.emailStatus=l.emailStatus)),i++,i===e.length&&(o.next(r),o.complete())},error:l=>{i++,r.success=!1,i===e.length&&(o.next(r),o.complete())}})})})}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function d$(t,n){if(1&t){const e=R();a(0,"button",26),C("click",function(){return y(e),v(f().shareViaWhatsApp())}),b(1,"i",27),d(2," Share via WhatsApp "),c()}}function u$(t,n){if(1&t&&(a(0,"div",46),d(1),c()),2&t){const e=f(2);p(),D(" ",e.notificationMessage," ")}}function p$(t,n){if(1&t&&(a(0,"div",47),d(1),c()),2&t){const e=f(2);p(),D(" ",e.notificationMessage," ")}}function g$(t,n){if(1&t){const e=R();a(0,"div",48)(1,"input",49),A("ngModelChange",function(r){y(e);const i=f(2);return F(i.notificationSettings.phoneNumber,r)||(i.notificationSettings.phoneNumber=r),v(r)}),c(),a(2,"small"),d(3,"Enter your WhatsApp-enabled phone number"),c()()}if(2&t){const e=f(2);p(),E("ngModel",e.notificationSettings.phoneNumber),h("disabled",e.notificationLoading)}}function f$(t,n){if(1&t){const e=R();a(0,"div",48)(1,"input",50),A("ngModelChange",function(r){y(e);const i=f(2);return F(i.notificationSettings.email,r)||(i.notificationSettings.email=r),v(r)}),c(),a(2,"small"),d(3,"Enter your email address"),c()()}if(2&t){const e=f(2);p(),E("ngModel",e.notificationSettings.email),h("disabled",e.notificationLoading)}}function h$(t,n){if(1&t&&(a(0,"div",51)(1,"h4"),d(2,"Order Summary"),c(),a(3,"div",52)(4,"span"),d(5,"Order ID:"),c(),a(6,"strong"),d(7),c()(),a(8,"div",52)(9,"span"),d(10,"Amount:"),c(),a(11,"strong"),d(12),Q(13,"number"),c()(),a(14,"div",52)(15,"span"),d(16,"Items:"),c(),a(17,"strong"),d(18),c()()()),2&t){const e=f(2);p(7),S(e.order.id),p(5),D("\u20b9",pt(13,3,e.order.pricing.total||0,"1.2-2"),""),p(6),S(e.order.items.length||0)}}function m$(t,n){1&t&&(a(0,"span"),b(1,"i",53),d(2," Send Notifications "),c())}function _$(t,n){1&t&&(a(0,"span"),b(1,"i",54),d(2," Sending... "),c())}function b$(t,n){if(1&t){const e=R();a(0,"div",28)(1,"div",29),C("click",function(){return y(e),v(f().closeNotificationModal())}),c(),a(2,"div",30)(3,"div",31)(4,"h2"),b(5,"i",21),d(6," Send Order Notifications "),c(),a(7,"button",32),C("click",function(){return y(e),v(f().closeNotificationModal())}),b(8,"i",33),c()(),a(9,"div",34),P(10,u$,2,1,"div",35)(11,p$,2,1,"div",36),a(12,"div",37)(13,"label",38)(14,"input",39),A("ngModelChange",function(r){y(e);const i=f();return F(i.notificationSettings.sendWhatsApp,r)||(i.notificationSettings.sendWhatsApp=r),v(r)}),c(),a(15,"span"),b(16,"i",27),d(17," Send via WhatsApp "),c()(),P(18,g$,4,2,"div",40),c(),a(19,"div",37)(20,"label",38)(21,"input",39),A("ngModelChange",function(r){y(e);const i=f();return F(i.notificationSettings.sendEmail,r)||(i.notificationSettings.sendEmail=r),v(r)}),c(),a(22,"span"),b(23,"i",11),d(24," Send via Email "),c()(),P(25,f$,4,2,"div",40),c(),P(26,h$,19,6,"div",41),c(),a(27,"div",42)(28,"button",43),C("click",function(){return y(e),v(f().closeNotificationModal())}),d(29," Cancel "),c(),a(30,"button",44),C("click",function(){return y(e),v(f().sendOrderNotifications())}),P(31,m$,3,0,"span",45)(32,_$,3,0,"span",45),c()()()()}if(2&t){const e=f();p(10),h("ngIf",e.notificationSuccess&&e.notificationMessage),p(),h("ngIf",!e.notificationSuccess&&e.notificationMessage),p(3),E("ngModel",e.notificationSettings.sendWhatsApp),h("disabled",e.notificationLoading),p(4),h("ngIf",e.notificationSettings.sendWhatsApp),p(3),E("ngModel",e.notificationSettings.sendEmail),h("disabled",e.notificationLoading),p(4),h("ngIf",e.notificationSettings.sendEmail),p(),h("ngIf",e.order),p(2),h("disabled",e.notificationLoading),p(2),h("disabled",e.notificationLoading||!e.notificationSettings.sendWhatsApp&&!e.notificationSettings.sendEmail),p(),h("ngIf",!e.notificationLoading),p(),h("ngIf",e.notificationLoading)}}let y$=(()=>{class t{constructor(){this.route=w(sn),this.orderService=w(hr),this.notificationService=w(l$),this.authService=w(Qe),this.orderId="",this.order=null,this.businessWhatsAppNumber="+919951130198",this.currentUser=null,this.showNotificationModal=!1,this.notificationSettings={sendWhatsApp:!0,sendEmail:!0,sendBoth:!0},this.notificationLoading=!1,this.notificationMessage="",this.notificationSuccess=!1}ngOnInit(){this.currentUser=this.authService.currentUser(),this.route.params.subscribe(e=>{this.orderId=e.id||sessionStorage.getItem("lastOrderId")||"",this.orderId&&this.loadOrder()})}loadOrder(){this.orderService.getOrder(this.orderId).subscribe({next:e=>{e?this.order=e:this.loadFromLocalStorage()},error:()=>{this.loadFromLocalStorage()}})}loadFromLocalStorage(){try{const o=`orders_${localStorage.getItem("userId")||"guest"}`,r=localStorage.getItem(o);if(r){const l=JSON.parse(r).find(u=>u.id===this.orderId);if(l)return void(this.order=l)}const i=localStorage.getItem("orders_guest");if(i){const l=JSON.parse(i).find(u=>u.id===this.orderId);if(l)return void(this.order=l)}this.createBasicOrder()}catch(e){console.error("Error loading from localStorage:",e),this.createBasicOrder()}}createBasicOrder(){this.order={id:this.orderId,userId:"guest",customer:{firstName:"Customer",lastName:"",email:"",phone:""},items:[],status:"confirmed",paymentStatus:"completed",paymentMethod:"cod",shippingAddress:{street:"",city:"",state:"",pincode:"",country:""},deliveryAddress:{street:"",city:"",state:"",pincode:"",country:""},pricing:{subtotal:0,shipping:0,tax:0,discount:0,total:0},createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()}}shareViaWhatsApp(){if(!this.order)return;const e=`\n*\u{1f389} ORDER CONFIRMATION* \u{1f4e6}\n\n\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\n*Order Details:*\n\u{1f539} Order ID: ${this.order.id}\n\u{1f539} Amount: \u20b9${this.order.pricing.total}\n\u{1f539} Status: ${this.order.status.toUpperCase()}\n\u{1f539} Payment Method: COD\n\n\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\n*\u{1f4e6} Items Ordered:*\n${this.order.items&&this.order.items.length>0?this.order.items.map(i=>`\u2022 ${i.name} (\u20b9${i.price})`).join("\n"):"\u2022 Order items will be shown"}\n\n\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\n*\u{1f69a} Delivery Address:*\n${this.order.deliveryAddress.street||"Not specified"}\n${this.order.deliveryAddress.city}, ${this.order.deliveryAddress.state}\n${this.order.deliveryAddress.pincode}\n\n\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\n\u23f1\ufe0f Expected Delivery: 3-5 business days\n\u{1f4de} Need Help? Contact our support team\n\nThank you for your purchase! \u{1f64f}\n    `.trim(),r=`https://wa.me/?text=${encodeURIComponent(e)}`;window.open(r,"_blank")}openNotificationModal(){this.showNotificationModal=!0,this.notificationMessage="",this.notificationSuccess=!1,this.currentUser&&(this.notificationSettings.phoneNumber=this.currentUser.phone||"",this.notificationSettings.email=this.currentUser.email||"")}closeNotificationModal(){this.showNotificationModal=!1}sendOrderNotifications(){if(!this.order)return void(this.notificationMessage="Order information not available");const e=this.notificationSettings.sendWhatsApp&&this.notificationSettings.phoneNumber?.trim(),o=this.notificationSettings.sendEmail&&this.notificationSettings.email?.trim();e||o?(this.notificationLoading=!0,this.notificationMessage="Sending notifications...",this.notificationService.sendOrderConfirmation(this.order,this.notificationSettings).subscribe({next:r=>{if(this.notificationLoading=!1,r.success){this.notificationSuccess=!0;const i=[];r.whatsappStatus&&i.push("WhatsApp"),r.emailStatus&&i.push("Email"),this.notificationMessage=i.length>0?`\u2705 Order confirmation sent via ${i.join(" and ")}!`:"\u2705 Notifications sent successfully!",setTimeout(()=>{this.showNotificationModal=!1},3e3)}else this.notificationSuccess=!1,this.notificationMessage=r.message||"Failed to send notifications"},error:r=>{this.notificationLoading=!1,this.notificationSuccess=!1,this.notificationMessage="Error sending notifications: "+(r?.message||"Unknown error")}})):this.notificationMessage="Please provide at least a phone number or email"}sendTrackingNotification(e){if(!this.order)return;const o=e||this.notificationSettings.phoneNumber;o?this.notificationService.sendTrackingUpdate(this.order,o,{status:"in_transit",currentLocation:"In Transit",estimatedDelivery:new Date(Date.now()+432e6).toLocaleDateString("en-IN")}).subscribe({next:r=>{r.success?alert("\u2705 Tracking notification sent via WhatsApp!"):alert("Failed to send tracking notification")},error:r=>{alert("Error sending tracking notification: "+r?.message)}}):alert("Please provide a phone number for tracking notification")}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=se({type:t,selectors:[["app-order-confirmation"]],standalone:!0,features:[ae],decls:60,vars:3,consts:[[1,"confirmation-page"],[1,"container"],[1,"confirmation-card"],[1,"success-icon"],[1,"fas","fa-check-circle"],[1,"confirmation-message"],[1,"order-id-box"],[1,"label"],[1,"order-id"],[1,"confirmation-details"],[1,"detail-item"],[1,"fas","fa-envelope"],[1,"detail-label"],[1,"detail-text"],[1,"fas","fa-truck"],[1,"fas","fa-headset"],[1,"action-buttons"],["routerLink","/shop",1,"btn","btn-primary"],[1,"fas","fa-shopping-bag"],["class","btn btn-success",3,"click",4,"ngIf"],[1,"btn","btn-info",3,"click"],[1,"fas","fa-bell"],["routerLink","/",1,"btn","btn-secondary"],[1,"fas","fa-home"],[1,"info-box"],["class","notification-modal",4,"ngIf"],[1,"btn","btn-success",3,"click"],[1,"fab","fa-whatsapp"],[1,"notification-modal"],[1,"modal-overlay",3,"click"],[1,"modal-content"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"fas","fa-times"],[1,"modal-body"],["class","alert alert-success",4,"ngIf"],["class","alert alert-info",4,"ngIf"],[1,"notification-option"],[1,"checkbox-label"],["type","checkbox",3,"ngModelChange","ngModel","disabled"],["class","option-input",4,"ngIf"],["class","order-summary",4,"ngIf"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click","disabled"],[1,"btn","btn-success",3,"click","disabled"],[4,"ngIf"],[1,"alert","alert-success"],[1,"alert","alert-info"],[1,"option-input"],["type","text","placeholder","Phone number (e.g., +919876543210)",1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","email","placeholder","Email address",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"order-summary"],[1,"summary-item"],[1,"fas","fa-send"],[1,"fas","fa-spinner","fa-spin"]],template:function(o,r){1&o&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),b(4,"i",4),c(),a(5,"h1"),d(6,"Order Confirmed!"),c(),a(7,"p",5),d(8," Thank you for your order. Your order has been successfully placed. "),c(),a(9,"div",6)(10,"p",7),d(11,"Order Number"),c(),a(12,"p",8),d(13),c()(),a(14,"div",9)(15,"div",10),b(16,"i",11),a(17,"div")(18,"p",12),d(19,"Confirmation Email"),c(),a(20,"p",13),d(21,"You will receive an order confirmation email shortly"),c()()(),a(22,"div",10),b(23,"i",14),a(24,"div")(25,"p",12),d(26,"Delivery Timeline"),c(),a(27,"p",13),d(28,"Expected delivery in 3-5 business days"),c()()(),a(29,"div",10),b(30,"i",15),a(31,"div")(32,"p",12),d(33,"Need Help?"),c(),a(34,"p",13),d(35,"Contact our customer support team 24/7"),c()()()(),a(36,"div",16)(37,"a",17),b(38,"i",18),d(39," Continue Shopping "),c(),P(40,d$,3,0,"button",19),a(41,"button",20),C("click",function(){return r.openNotificationModal()}),b(42,"i",21),d(43," Send Notifications "),c(),a(44,"a",22),b(45,"i",23),d(46," Back to Home "),c()(),a(47,"div",24)(48,"h3"),d(49,"What's Next?"),c(),a(50,"ol")(51,"li"),d(52,"You will receive an order confirmation email with tracking information"),c(),a(53,"li"),d(54,"Your order will be processed and prepared for shipment"),c(),a(55,"li"),d(56,"You'll receive a shipping notification with tracking number"),c(),a(57,"li"),d(58,"Track your order using the tracking number provided"),c()()()()(),P(59,b$,33,13,"div",25),c()),2&o&&(p(13),S(r.orderId),p(27),h("ngIf",r.order),p(19),h("ngIf",r.showNotificationModal))},dependencies:[pe,ve,co,Ge,Ze,nt,et,yn,rt,tt],styles:[".confirmation-page[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);min-height:100vh;padding:40px 0;display:flex;align-items:center;justify-content:center}.container[_ngcontent-%COMP%]{max-width:600px;padding:0 20px}.confirmation-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:50px 30px;text-align:center;box-shadow:0 10px 40px #0003;animation:_ngcontent-%COMP%_slideUp .5s ease-out}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.success-icon[_ngcontent-%COMP%]{width:80px;height:80px;background:#28a745;border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 30px;animation:_ngcontent-%COMP%_scaleIn .5s ease-out}.success-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:48px;color:#fff}@keyframes _ngcontent-%COMP%_scaleIn{0%{transform:scale(0)}to{transform:scale(1)}}h1[_ngcontent-%COMP%]{font-size:32px;color:#333;margin:0 0 15px;font-weight:700}.confirmation-message[_ngcontent-%COMP%]{font-size:16px;color:#666;margin:0 0 30px}.order-id-box[_ngcontent-%COMP%]{background:#f8f9fa;padding:20px;border-radius:8px;margin-bottom:30px;border:2px dashed #0056b3}.order-id-box[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:12px;text-transform:uppercase;color:#666;margin:0 0 8px;letter-spacing:1px}.order-id[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#0056b3;margin:0;font-family:Courier New,monospace}.confirmation-details[_ngcontent-%COMP%]{margin:30px 0;text-align:left}.detail-item[_ngcontent-%COMP%]{display:flex;gap:15px;margin-bottom:20px;align-items:flex-start}.detail-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:40px;height:40px;background:#e7f3ff;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#0056b3;font-size:18px;flex-shrink:0}.detail-label[_ngcontent-%COMP%]{font-weight:600;color:#333;margin:0 0 5px;font-size:14px}.detail-text[_ngcontent-%COMP%]{color:#666;margin:0;font-size:13px}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:15px;margin:30px 0;flex-wrap:wrap;justify-content:center}.btn[_ngcontent-%COMP%]{padding:14px 28px;border:none;border-radius:6px;font-size:15px;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:10px;text-decoration:none;min-width:200px}.btn-primary[_ngcontent-%COMP%]{background-color:#0056b3;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#004085;box-shadow:0 4px 12px #0056b34d;transform:translateY(-2px)}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#5a6268;box-shadow:0 4px 12px #6c757d4d;transform:translateY(-2px)}.btn-success[_ngcontent-%COMP%]{background-color:#25d366;color:#fff}.btn-success[_ngcontent-%COMP%]:hover{background-color:#20ba5a;box-shadow:0 4px 12px #25d3664d;transform:translateY(-2px)}.info-box[_ngcontent-%COMP%]{background:#e7f3ff;border-left:4px solid #0056b3;padding:20px;border-radius:6px;text-align:left;margin-top:30px}.info-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#0056b3;font-size:16px;margin:0 0 15px}.info-box[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin:0;padding-left:20px;color:#0056b3;font-size:14px}.info-box[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}@media (max-width: 480px){.confirmation-card[_ngcontent-%COMP%]{padding:30px 20px}h1[_ngcontent-%COMP%]{font-size:24px}.success-icon[_ngcontent-%COMP%]{width:60px;height:60px}.success-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:36px}.order-id[_ngcontent-%COMP%]{font-size:18px}.action-buttons[_ngcontent-%COMP%]{flex-direction:column}.btn[_ngcontent-%COMP%]{min-width:100%}}.notification-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1000;display:flex;align-items:center;justify-content:center}.modal-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#000000b3;cursor:pointer}.modal-content[_ngcontent-%COMP%]{position:relative;z-index:1001;background:#fff;border-radius:12px;box-shadow:0 15px 50px #0000004d;max-width:500px;width:90%;max-height:90vh;overflow-y:auto;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}.modal-header[_ngcontent-%COMP%]{padding:25px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;display:flex;justify-content:space-between;align-items:center;border-radius:12px 12px 0 0}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:22px;display:flex;align-items:center;gap:12px}.close-btn[_ngcontent-%COMP%]{background:#fff3;border:none;color:#fff;font-size:24px;cursor:pointer;padding:0;width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:background .3s}.close-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d}.modal-body[_ngcontent-%COMP%]{padding:25px}.modal-footer[_ngcontent-%COMP%]{padding:20px 25px;background:#f8f9fa;border-top:1px solid #e9ecef;display:flex;gap:12px;justify-content:flex-end;border-radius:0 0 12px 12px}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1;margin:0;max-width:200px}.alert[_ngcontent-%COMP%]{padding:15px;border-radius:8px;margin-bottom:20px;display:flex;align-items:center;gap:12px}.alert-success[_ngcontent-%COMP%]{background:#d4edda;color:#155724;border:1px solid #c3e6cb}.alert-info[_ngcontent-%COMP%]{background:#d1ecf1;color:#0c5460;border:1px solid #bee5eb}.alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}.notification-option[_ngcontent-%COMP%]{margin-bottom:25px;padding-bottom:20px;border-bottom:1px solid #e9ecef}.notification-option[_ngcontent-%COMP%]:last-child{border-bottom:none;margin-bottom:0;padding-bottom:0}.checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;cursor:pointer;font-weight:600;color:#333;margin-bottom:15px;-webkit-user-select:none;user-select:none}.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer;accent-color:#667eea}.checkbox-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.checkbox-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}.option-input[_ngcontent-%COMP%]{background:#f8f9fa;padding:15px;border-radius:8px;margin-top:12px}.option-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #e9ecef;border-radius:6px;font-size:14px;margin-bottom:8px;transition:border-color .3s}.option-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.option-input[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;color:#6c757d;font-size:12px;margin-top:5px}.order-summary[_ngcontent-%COMP%]{background:#f8f9fa;padding:20px;border-radius:8px;margin-top:25px;border-left:4px solid #667eea}.order-summary[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:0;margin-bottom:15px;color:#333;font-size:16px}.summary-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0;font-size:14px}.summary-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#6c757d}.summary-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333;font-weight:600}@media (max-width: 480px){.modal-content[_ngcontent-%COMP%]{width:95%;max-height:95vh}.modal-header[_ngcontent-%COMP%]{padding:20px}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px}.modal-body[_ngcontent-%COMP%]{padding:20px}.modal-footer[_ngcontent-%COMP%]{padding:15px 20px;flex-direction:column}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{max-width:100%}}"]})}}return t})();function v$(t,n){1&t&&b(0,"app-product-card",8),2&t&&h("product",n.$implicit)}function C$(t,n){if(1&t&&(a(0,"div",5)(1,"div",6),P(2,v$,1,1,"app-product-card",7),c()()),2&t){const e=f();p(2),h("ngForOf",e.wishlistService.getWishlistItems())}}function x$(t,n){1&t&&(a(0,"div",9),b(1,"i",10),a(2,"h2"),d(3,"Your wishlist is empty"),c(),a(4,"p"),d(5,"Save items you love to your wishlist!"),c(),a(6,"a",11),d(7,"Start Shopping"),c()())}let M$=(()=>{class t{constructor(){this.wishlistService=w(mc),this.cartService=w(fr)}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=se({type:t,selectors:[["app-wishlist"]],standalone:!0,features:[ae],decls:6,vars:2,consts:[[1,"wishlist-page"],[1,"container"],[1,"page-title"],["class","wishlist-content",4,"ngIf"],["class","empty-wishlist",4,"ngIf"],[1,"wishlist-content"],[1,"product-grid"],[3,"product",4,"ngFor","ngForOf"],[3,"product"],[1,"empty-wishlist"],[1,"fas","fa-heart"],["routerLink","/shop",1,"btn","btn-primary"]],template:function(o,r){1&o&&(a(0,"div",0)(1,"div",1)(2,"h1",2),d(3,"My Wishlist"),c(),P(4,C$,3,1,"div",3)(5,x$,8,0,"div",4),c()()),2&o&&(p(4),h("ngIf",r.wishlistService.getWishlistItems().length>0),p(),h("ngIf",0===r.wishlistService.getWishlistItems().length))},dependencies:[pe,De,ve,Ge,Ze,Um],styles:[".wishlist-page[_ngcontent-%COMP%]{padding:40px 0;min-height:60vh}.page-title[_ngcontent-%COMP%]{font-size:32px;font-weight:700;margin-bottom:30px;color:#333}.empty-wishlist[_ngcontent-%COMP%]{text-align:center;padding:80px 20px;background:#fff;border-radius:10px;box-shadow:0 2px 10px #0000001a}.empty-wishlist[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:100px;color:#ddd;margin-bottom:25px}.empty-wishlist[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;font-weight:700;margin-bottom:15px;color:#333}.empty-wishlist[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-bottom:30px;font-size:16px}"]})}}return t})();const P$=t=>["/product",t];function w$(t,n){if(1&t){const e=R();a(0,"button",7),C("click",function(){return y(e),v(f().clearCompare())}),d(1," Clear All "),c()}}function O$(t,n){1&t&&(a(0,"div",8),b(1,"i",9),a(2,"h2"),d(3,"No products to compare"),c(),a(4,"p"),d(5,"Add products to compare their features!"),c(),a(6,"a",10),d(7,"Start Shopping"),c()())}function k$(t,n){if(1&t){const e=R();a(0,"th")(1,"div",16)(2,"button",17),C("click",function(){const r=y(e).$implicit;return v(f(2).removeFromCompare(r.id))}),b(3,"i",18),c(),a(4,"a",19),b(5,"img",20),a(6,"span",21),d(7),c()(),a(8,"div",22),d(9),Q(10,"currency"),c(),a(11,"button",23),d(12,"Add to Cart"),c()()()}if(2&t){const e=n.$implicit;p(4),h("routerLink",Et(8,P$,e.id)),p(),h("src",e.image,ue)("alt",e.name),p(2),S(e.name),p(2),S(pt(10,5,e.price,"INR"))}}function D$(t,n){if(1&t&&(a(0,"td"),d(1),c()),2&t){const e=n.$implicit;p(),S(e.brand||"N/A")}}function S$(t,n){if(1&t&&(a(0,"td"),d(1),c()),2&t){const e=n.$implicit;p(),S(e.category)}}function I$(t,n){if(1&t&&(a(0,"td")(1,"span"),d(2),c()()),2&t){const e=n.$implicit;p(),B("in-stock",e.inStock)("out-of-stock",!e.inStock),p(),D(" ",e.inStock?"In Stock":"Out of Stock"," ")}}function T$(t,n){if(1&t&&(a(0,"td",24)(1,"p"),d(2),c()()),2&t){const e=n.$implicit;p(2),S(e.description||"No description available")}}function E$(t,n){if(1&t&&(a(0,"div",11)(1,"table",12)(2,"thead")(3,"tr")(4,"th"),d(5,"Feature"),c(),P(6,k$,13,10,"th",13),c()(),a(7,"tbody")(8,"tr")(9,"td",14),d(10,"Brand"),c(),P(11,D$,2,1,"td",13),c(),a(12,"tr")(13,"td",14),d(14,"Category"),c(),P(15,S$,2,1,"td",13),c(),a(16,"tr")(17,"td",14),d(18,"Availability"),c(),P(19,I$,3,5,"td",13),c(),a(20,"tr")(21,"td",14),d(22,"Description"),c(),P(23,T$,3,1,"td",15),c()()()()),2&t){const e=f();p(6),h("ngForOf",e.compareItems()),p(5),h("ngForOf",e.compareItems()),p(4),h("ngForOf",e.compareItems()),p(4),h("ngForOf",e.compareItems()),p(4),h("ngForOf",e.compareItems())}}let A$=(()=>{class t{constructor(){this.compareService=w(Y2),this.compareItems=this.compareService.getCompareItems()}removeFromCompare(e){this.compareService.removeFromCompare(e)}clearCompare(){this.compareService.clearCompare()}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=se({type:t,selectors:[["app-compare"]],standalone:!0,features:[ae],decls:8,vars:3,consts:[[1,"compare-page"],[1,"container"],[1,"page-header"],[1,"page-title"],["class","btn btn-outline-danger btn-sm",3,"click",4,"ngIf"],["class","empty-compare",4,"ngIf"],["class","compare-table-container",4,"ngIf"],[1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"empty-compare"],[1,"fas","fa-exchange-alt"],["routerLink","/shop",1,"btn","btn-primary"],[1,"compare-table-container"],[1,"compare-table"],[4,"ngFor","ngForOf"],[1,"feature-label"],["class","description-cell",4,"ngFor","ngForOf"],[1,"product-header"],["title","Remove",1,"remove-btn",3,"click"],[1,"fas","fa-times"],[1,"product-link",3,"routerLink"],[1,"product-image",3,"src","alt"],[1,"product-title"],[1,"product-price"],[1,"btn","btn-sm","btn-primary","add-cart-btn"],[1,"description-cell"]],template:function(o,r){1&o&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),d(4,"Compare Products"),c(),P(5,w$,2,0,"button",4),c(),P(6,O$,8,0,"div",5)(7,E$,24,5,"div",6),c()()),2&o&&(p(5),h("ngIf",r.compareItems().length>0),p(),h("ngIf",0===r.compareItems().length),p(),h("ngIf",r.compareItems().length>0))},dependencies:[pe,De,ve,kM,Ge,Ze],styles:[".compare-page[_ngcontent-%COMP%]{padding:40px 0;min-height:60vh}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px}.page-title[_ngcontent-%COMP%]{font-size:32px;font-weight:700;margin-bottom:0;color:#333}.empty-compare[_ngcontent-%COMP%]{text-align:center;padding:80px 20px;background:#fff;border-radius:10px;box-shadow:0 2px 10px #0000001a}.empty-compare[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:100px;color:#ddd;margin-bottom:25px}.empty-compare[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;font-weight:700;margin-bottom:15px;color:#333}.empty-compare[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-bottom:30px;font-size:16px}.compare-table-container[_ngcontent-%COMP%]{overflow-x:auto;background:#fff;border-radius:10px;box-shadow:0 2px 10px #0000000d;padding:20px}.compare-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;min-width:800px}.compare-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .compare-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #eee;padding:15px;text-align:left;vertical-align:middle}.compare-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f9f9f9;vertical-align:top;min-width:200px}.compare-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{width:150px;min-width:150px;background:#fff;font-weight:700;color:#333;font-size:16px;vertical-align:middle}.feature-label[_ngcontent-%COMP%]{font-weight:600;color:#555;background-color:#fcfcfc}.product-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;position:relative;padding-top:25px}.remove-btn[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;background:#fff;border:1px solid #ddd;border-radius:50%;width:24px;height:24px;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#999;transition:all .2s}.remove-btn[_ngcontent-%COMP%]:hover{color:#dc3545;border-color:#dc3545}.product-image[_ngcontent-%COMP%]{width:120px;height:120px;object-fit:contain;margin-bottom:10px}.product-title[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:5px;display:block;font-size:15px;line-height:1.3}.product-price[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#e72e2e;margin-bottom:10px}.add-cart-btn[_ngcontent-%COMP%]{width:100%;padding:8px;font-size:13px}.in-stock[_ngcontent-%COMP%]{color:#28a745;font-weight:600}.out-of-stock[_ngcontent-%COMP%]{color:#dc3545;font-weight:600}.description-cell[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:13px;color:#666;line-height:1.5;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}"]})}}return t})(),hO=(()=>{class t{constructor(){this.PHONE_OTP_KEY="drone_shop_phone_otps",this.MAX_ATTEMPTS=3,this.OTP_EXPIRY_MINUTES=5,this.COOLDOWN_MINUTES=5}sendOTP(e){try{if(!this.isValidPhone(e))return{success:!1,message:"Invalid phone number format"};const o=this.checkCooldown(e);if(o.inCooldown)return{success:!1,message:`Too many attempts. Please try again after ${o.remainingMinutes} minutes`};const r=this.generateOTP(),i=Date.now()+60*this.OTP_EXPIRY_MINUTES*1e3,s=this.getPhoneOTPs();return s[e]={phone:e,otp:r,expiresAt:i,attempts:0,verified:!1,createdAt:Date.now()},localStorage.setItem(this.PHONE_OTP_KEY,JSON.stringify(s)),console.log("\u{1f4f1} OTP SENT",{phone:e,otp:r,expiresIn:`${this.OTP_EXPIRY_MINUTES} minutes`}),{success:!0,message:"OTP sent to your phone",otp:r}}catch(o){return console.error("OTP generation error:",o),{success:!1,message:"Failed to send OTP"}}}verifyOTP(e,o){try{const r=this.getPhoneOTPs(),i=r[e];if(!i)return{success:!1,message:"No OTP requested for this phone"};if(i.verified)return{success:!1,message:"Phone already verified"};if(Date.now()>i.expiresAt)return delete r[e],localStorage.setItem(this.PHONE_OTP_KEY,JSON.stringify(r)),{success:!1,message:"OTP expired. Request a new one"};if(i.attempts>=this.MAX_ATTEMPTS)return{success:!1,message:"Too many failed attempts. Please request a new OTP"};if(i.otp!==o){i.attempts++,r[e]=i,localStorage.setItem(this.PHONE_OTP_KEY,JSON.stringify(r));const s=this.MAX_ATTEMPTS-i.attempts;return{success:!1,message:s>0?`Invalid OTP. ${s} attempts remaining`:"Too many failed attempts. Request a new OTP"}}return i.verified=!0,r[e]=i,localStorage.setItem(this.PHONE_OTP_KEY,JSON.stringify(r)),console.log("\u2705 Phone verified:",e),{success:!0,message:"Phone verified successfully"}}catch(r){return console.error("OTP verification error:",r),{success:!1,message:"Failed to verify OTP"}}}isPhoneVerified(e){const r=this.getPhoneOTPs()[e];return!!r&&r.verified}resendOTP(e){const o=this.getPhoneOTPs();return delete o[e],localStorage.setItem(this.PHONE_OTP_KEY,JSON.stringify(o)),this.sendOTP(e)}getOTPStatus(e){const r=this.getPhoneOTPs()[e];if(!r)return null;const i=Math.max(0,Math.ceil((r.expiresAt-Date.now())/1e3));return{status:r.verified?"verified":"pending",remainingTime:i,attempts:r.attempts}}clearOTP(e){const o=this.getPhoneOTPs();delete o[e],localStorage.setItem(this.PHONE_OTP_KEY,JSON.stringify(o))}generateOTP(){return Math.floor(1e5+9e5*Math.random()).toString()}isValidPhone(e){return/^\+[1-9]\d{1,14}$/.test(e)||/^\+91[6-9]\d{9}$/.test(e)}checkCooldown(e){const o=this.getPhoneOTPs(),r=o[e];if(!r||r.attempts<this.MAX_ATTEMPTS)return{inCooldown:!1,remainingMinutes:0};const i=r.createdAt+60*this.COOLDOWN_MINUTES*1e3,s=Date.now();return s<i?{inCooldown:!0,remainingMinutes:Math.ceil((i-s)/6e4)}:(delete o[e],localStorage.setItem(this.PHONE_OTP_KEY,JSON.stringify(o)),{inCooldown:!1,remainingMinutes:0})}getPhoneOTPs(){const e=localStorage.getItem(this.PHONE_OTP_KEY);return e?JSON.parse(e):{}}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function N$(t,n){1&t&&(a(0,"span"),b(1,"i",20),d(2," Send OTP "),c())}function F$(t,n){1&t&&(a(0,"span"),b(1,"i",21),d(2," Sending... "),c())}function R$(t,n){if(1&t){const e=R();a(0,"div",8)(1,"div",9),b(2,"i",10),a(3,"p"),d(4,"We'll send you a 6-digit code via SMS or WhatsApp to verify your phone number."),c()(),a(5,"div",11)(6,"label",12),d(7," Phone Number "),a(8,"span",13),d(9,"*"),c()(),a(10,"input",14),A("ngModelChange",function(r){y(e);const i=f();return F(i.phoneNumber,r)||(i.phoneNumber=r),v(r)}),c(),a(11,"small",15),d(12,"Format: +91XXXXXXXXXX or 10 digits"),c()(),a(13,"div",16)(14,"button",17),C("click",function(){return y(e),v(f().requestOTP())}),P(15,N$,3,0,"span",18)(16,F$,3,0,"span",18),c(),a(17,"button",19),C("click",function(){return y(e),v(f().skipVerification())}),d(18," Skip for Now "),c()()()}if(2&t){const e=f();p(10),E("ngModel",e.phoneNumber),h("disabled",e.loading),p(4),h("disabled",e.loading||!e.phoneNumber.trim()),p(),h("ngIf",!e.loading),p(),h("ngIf",e.loading),p(),h("disabled",e.loading)}}function L$(t,n){1&t&&(a(0,"span"),b(1,"i",33),d(2," Verify "),c())}function U$(t,n){1&t&&(a(0,"span"),b(1,"i",21),d(2," Verifying... "),c())}function V$(t,n){if(1&t&&(a(0,"span",34),d(1),c()),2&t){const e=f(2);p(),rn("(",e.resendCount,"/",e.maxResends,")")}}function B$(t,n){if(1&t){const e=R();a(0,"div",8)(1,"div",22),b(2,"i",23),a(3,"p"),d(4),c()(),a(5,"div",11)(6,"label",24),d(7," Enter 6-Digit Code "),a(8,"span",13),d(9,"*"),c()(),a(10,"input",25),A("ngModelChange",function(r){y(e);const i=f();return F(i.otp,r)||(i.otp=r),v(r)}),C("keyup.enter",function(){return y(e),v(f().verifyOTP())}),c(),a(11,"small",15),d(12,"Only numbers (0-9)"),c()(),a(13,"div",26)(14,"p",27),b(15,"i",28),d(16," Expires in: "),a(17,"span",29),d(18),c()()(),a(19,"div",16)(20,"button",17),C("click",function(){return y(e),v(f().verifyOTP())}),P(21,L$,3,0,"span",18)(22,U$,3,0,"span",18),c(),a(23,"button",30),C("click",function(){return y(e),v(f().resendOTP())}),b(24,"i",31),d(25," Resend Code "),P(26,V$,2,2,"span",32),c()(),a(27,"button",19),C("click",function(){return y(e),v(f().skipVerification())}),d(28," Skip for Now "),c()()}if(2&t){const e=f();p(4),D("We sent a code to ",e.maskedPhone,". Check your SMS/WhatsApp inbox."),p(6),E("ngModel",e.otp),h("disabled",e.loading),p(8),S(e.getFormattedTime()),p(2),h("disabled",e.loading||6!==e.otp.length),p(),h("ngIf",!e.loading),p(),h("ngIf",e.loading),p(),h("disabled",!e.canResend||e.loading||e.resendCount>=e.maxResends),p(3),h("ngIf",e.resendCount>0),p(),h("disabled",e.loading)}}function z$(t,n){if(1&t&&(a(0,"div",35),b(1,"i",36),a(2,"span"),d(3),c()()),2&t){const e=f();p(3),S(e.errorMessage)}}function j$(t,n){if(1&t&&(a(0,"div",37),b(1,"i",23),a(2,"span"),d(3),c()()),2&t){const e=f();p(3),S(e.successMessage)}}let $$=(()=>{class t{constructor(){this.phoneNumber="",this.userName="",this.verified=new Ee,this.skipped=new Ee,this.phoneVerificationService=w(hO),this.step="request",this.otp="",this.loading=!1,this.errorMessage="",this.successMessage="",this.otpSent=!1,this.timerSeconds=300,this.canResend=!1,this.resendCount=0,this.maxResends=3,this.maskedPhone=""}ngOnInit(){this.maskPhoneNumber()}requestOTP(){if(!this.phoneNumber.trim())return void(this.errorMessage="Please enter a phone number");this.loading=!0,this.errorMessage="",this.successMessage="";const e=this.formatPhoneNumber(this.phoneNumber);if(!e)return this.errorMessage="Please enter a valid phone number in format +91XXXXXXXXXX or 10 digits",void(this.loading=!1);const o=this.phoneVerificationService.sendOTP(e);o.success?(this.successMessage="OTP sent to your phone! Check SMS/WhatsApp",this.otpSent=!0,this.step="verify",this.phoneNumber=e,this.startTimer(),o.otp&&console.log("\u{1f4f1} TEST OTP:",o.otp)):this.errorMessage=o.message||"Failed to send OTP",this.loading=!1}verifyOTP(){if(!this.otp.trim())return void(this.errorMessage="Please enter the OTP");if(6!==this.otp.length)return void(this.errorMessage="OTP must be 6 digits");this.loading=!0,this.errorMessage="";const e=this.phoneVerificationService.verifyOTP(this.phoneNumber,this.otp);e.success?(this.successMessage="Phone verified successfully! \u2705",this.stopTimer(),setTimeout(()=>{this.verified.emit(!0)},1500)):this.errorMessage=e.message||"Verification failed",this.loading=!1}resendOTP(){if(this.resendCount>=this.maxResends)return void(this.errorMessage="Maximum resend attempts reached. Please try again later.");this.loading=!0,this.errorMessage="",this.successMessage="";const e=this.phoneVerificationService.resendOTP(this.phoneNumber);e.success?(this.successMessage="OTP resent to your phone!",this.otp="",this.canResend=!1,this.resendCount++,this.timerSeconds=300,this.startTimer(),e.otp&&console.log("\u{1f4f1} TEST OTP (Resend):",e.otp)):this.errorMessage=e.message||"Failed to resend OTP",this.loading=!1}skipVerification(){this.skipped.emit(!0)}closeModal(){this.stopTimer()}maskPhoneNumber(){if(this.phoneNumber.length>=10){const o=this.phoneNumber.replace(/\D/g,"").slice(-4);this.maskedPhone=`***${o}`}}formatPhoneNumber(e){let o=e.replace(/[^\d+]/g,"");return o.startsWith("+")||(o.startsWith("0")&&(o=o.substring(1)),10===o.length&&(o="+91"+o)),/^\+[1-9]\d{1,14}$/.test(o)?o:""}startTimer(){this.timerSeconds=300,this.canResend=!1,this.timerInterval=setInterval(()=>{this.timerSeconds--,this.timerSeconds<=0&&(this.stopTimer(),this.canResend=!0,this.errorMessage="OTP expired. Please request a new one.")},1e3)}stopTimer(){this.timerInterval&&(clearInterval(this.timerInterval),this.timerInterval=null)}getFormattedTime(){return`${Math.floor(this.timerSeconds/60)}:${(this.timerSeconds%60).toString().padStart(2,"0")}`}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=se({type:t,selectors:[["app-phone-verification-modal"]],inputs:{phoneNumber:"phoneNumber",userName:"userName"},outputs:{verified:"verified",skipped:"skipped"},standalone:!0,features:[ae],decls:12,vars:4,consts:[[1,"phone-verification-overlay"],[1,"phone-verification-modal"],[1,"modal-header"],[1,"subtitle"],[1,"modal-content"],["class","verification-step",4,"ngIf"],["class","alert alert-error",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[1,"verification-step"],[1,"info-box"],[1,"fas","fa-info-circle"],[1,"form-group"],["for","phone-number"],[1,"required"],["type","tel","id","phone-number","placeholder","+91 98765 43210",1,"phone-input",3,"ngModelChange","ngModel","disabled"],[1,"field-hint"],[1,"form-actions"],["type","button",1,"btn","btn-primary","btn-block",3,"click","disabled"],[4,"ngIf"],["type","button",1,"btn","btn-link",3,"click","disabled"],[1,"fas","fa-paper-plane"],[1,"fas","fa-spinner","fa-spin"],[1,"info-box","success"],[1,"fas","fa-check-circle"],["for","otp"],["type","text","id","otp","placeholder","000000","maxlength","6","inputmode","numeric",1,"otp-input",3,"ngModelChange","keyup.enter","ngModel","disabled"],[1,"timer-section"],[1,"timer-text"],[1,"fas","fa-hourglass-half"],[1,"timer-value"],["type","button",1,"btn","btn-secondary","btn-block",3,"click","disabled"],[1,"fas","fa-redo"],["class","resend-count",4,"ngIf"],[1,"fas","fa-check"],[1,"resend-count"],[1,"alert","alert-error"],[1,"fas","fa-exclamation-circle"],[1,"alert","alert-success"]],template:function(o,r){1&o&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),d(4,"Verify Your Phone Number"),c(),a(5,"p",3),d(6,"Complete your profile setup"),c()(),a(7,"div",4),P(8,R$,19,6,"div",5)(9,B$,29,10,"div",5),c(),P(10,z$,4,1,"div",6)(11,j$,4,1,"div",7),c()()),2&o&&(p(8),h("ngIf","request"===r.step),p(),h("ngIf","verify"===r.step),p(),h("ngIf",r.errorMessage),p(),h("ngIf",r.successMessage))},dependencies:[pe,ve,nt,et,rt,ps,tt],styles:[".phone-verification-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0009;display:flex;align-items:center;justify-content:center;z-index:1000;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);padding:20px}.phone-verification-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 40px #0003;max-width:450px;width:100%;overflow:hidden;animation:_ngcontent-%COMP%_slideUp .3s ease-out}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:30px 25px;text-align:center}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 8px;font-size:24px;font-weight:600}.modal-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:0;font-size:14px;opacity:.9}.modal-content[_ngcontent-%COMP%]{padding:30px 25px}.verification-step[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.info-box[_ngcontent-%COMP%]{background:#e3f2fd;border-left:4px solid #2196f3;padding:15px;margin-bottom:25px;border-radius:4px;display:flex;align-items:flex-start;gap:12px}.info-box.success[_ngcontent-%COMP%]{background:#e8f5e9;border-left-color:#4caf50}.info-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#2196f3;font-size:18px;margin-top:2px;flex-shrink:0}.info-box.success[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#4caf50}.info-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#333;font-size:14px;line-height:1.5}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#2c3e50;margin-bottom:8px;font-size:14px}.form-group[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#e74c3c}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:12px 15px;border:2px solid #e0e0e0;border-radius:8px;font-size:16px;font-family:inherit;transition:all .2s;background:#f9f9f9}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;background:#fff;box-shadow:0 0 0 3px #667eea1a}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{background:#f5f5f5;cursor:not-allowed;opacity:.6}.phone-input[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.5px}.otp-input[_ngcontent-%COMP%]{font-size:32px;text-align:center;letter-spacing:8px;font-weight:600;font-family:Courier New,monospace;tracking:letter}.field-hint[_ngcontent-%COMP%]{display:block;margin-top:6px;color:#7f8c8d;font-size:12px}.timer-section[_ngcontent-%COMP%]{background:#fff9e6;border-left:4px solid #ffc107;padding:12px 15px;border-radius:4px;margin-bottom:20px}.timer-text[_ngcontent-%COMP%]{margin:0;color:#f39c12;font-size:14px;display:flex;align-items:center;gap:8px}.timer-value[_ngcontent-%COMP%]{font-weight:600;font-size:16px;color:#e67e22;font-family:Courier New,monospace}.form-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;margin-bottom:15px}.btn[_ngcontent-%COMP%]{padding:12px 20px;border:none;border-radius:8px;font-size:15px;font-weight:600;cursor:pointer;transition:all .2s;display:inline-flex;align-items:center;justify-content:center;gap:8px;text-align:center}.btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;box-shadow:0 4px 15px #667eea66}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px #667eea99}.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#667eea;border:2px solid #667eea}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#f0f4ff}.btn-link[_ngcontent-%COMP%]{background:transparent;color:#667eea;text-decoration:underline;box-shadow:none}.btn-link[_ngcontent-%COMP%]:hover:not(:disabled){opacity:.8}.btn-block[_ngcontent-%COMP%]{width:100%}.resend-count[_ngcontent-%COMP%]{font-size:12px;opacity:.8}.alert[_ngcontent-%COMP%]{padding:15px 20px;border-radius:8px;display:flex;align-items:flex-start;gap:12px;margin-top:15px;font-size:14px;animation:_ngcontent-%COMP%_slideDown .3s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px;flex-shrink:0;margin-top:2px}.alert-error[_ngcontent-%COMP%]{background:#ffebee;border-left:4px solid #f44336;color:#c62828}.alert-error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#f44336}.alert-success[_ngcontent-%COMP%]{background:#e8f5e9;border-left:4px solid #4caf50;color:#2e7d32}.alert-success[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#4caf50}.fa-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 480px){.phone-verification-modal[_ngcontent-%COMP%]{max-width:100%;margin:20px}.modal-header[_ngcontent-%COMP%]{padding:25px 20px}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px}.modal-content[_ngcontent-%COMP%]{padding:20px}.info-box[_ngcontent-%COMP%]{padding:12px;gap:10px;margin-bottom:20px}.info-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.info-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px}.otp-input[_ngcontent-%COMP%]{font-size:24px;letter-spacing:4px}.form-actions[_ngcontent-%COMP%]{gap:10px}.btn[_ngcontent-%COMP%]{padding:10px 16px;font-size:14px}}"]})}}return t})();function H$(t,n){if(1&t){const e=R();a(0,"div",1),C("click",function(){return y(e),v(f().onCancel())}),a(1,"div",2),C("click",function(r){return y(e),v(r.stopPropagation())}),a(2,"div",3)(3,"h2",4),d(4),c(),a(5,"button",5),C("click",function(){return y(e),v(f().onCancel())}),b(6,"i",6),c()(),a(7,"div",7)(8,"p",8),d(9),c()(),a(10,"div",9)(11,"button",10),C("click",function(){return y(e),v(f().onCancel())}),b(12,"i",6),d(13),c(),a(14,"button",11),C("click",function(){return y(e),v(f().onConfirm())}),b(15,"i"),d(16),c()()()()}if(2&t){const e=f();p(4),S(e.title),p(5),S(e.message),p(4),D(" ",e.cancelText," "),p(),io("btn "+(e.isDangerous?"btn-danger":"btn-primary")),p(),io(e.isDangerous?"fas fa-exclamation-triangle":"fas fa-check"),p(),D(" ",e.confirmText," ")}}let q$=(()=>{class t{constructor(){this.isOpen=!1,this.title="Confirm Action",this.message="Are you sure?",this.confirmText="Confirm",this.cancelText="Cancel",this.isDangerous=!1,this.confirm=new Ee,this.cancel=new Ee}onConfirm(){this.confirm.emit()}onCancel(){this.cancel.emit()}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=se({type:t,selectors:[["app-confirmation-modal"]],inputs:{isOpen:"isOpen",title:"title",message:"message",confirmText:"confirmText",cancelText:"cancelText",isDangerous:"isDangerous"},outputs:{confirm:"confirm",cancel:"cancel"},standalone:!0,features:[ae],decls:1,vars:1,consts:[["class","modal-overlay",3,"click",4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"modal-dialog",3,"click"],[1,"modal-header"],[1,"modal-title"],["aria-label","Close",1,"modal-close",3,"click"],[1,"fas","fa-times"],[1,"modal-body"],[1,"modal-message"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[3,"click"]],template:function(o,r){1&o&&P(0,H$,17,8,"div",0),2&o&&h("ngIf",r.isOpen)},dependencies:[pe,ve],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.modal-dialog[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 20px 60px #0000004d;width:90%;max-width:420px;animation:_ngcontent-%COMP%_slideUp .3s ease-out}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.modal-header[_ngcontent-%COMP%]{padding:24px;border-bottom:1px solid #e0e0e0;display:flex;align-items:center;justify-content:space-between}.modal-title[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600;color:#2c3e50}.modal-close[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;color:#999;cursor:pointer;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .3s ease}.modal-close[_ngcontent-%COMP%]:hover{background:#f5f5f5;color:#333}.modal-body[_ngcontent-%COMP%]{padding:24px}.modal-message[_ngcontent-%COMP%]{margin:0;font-size:15px;color:#555;line-height:1.6}.modal-footer[_ngcontent-%COMP%]{padding:20px 24px;border-top:1px solid #e0e0e0;display:flex;align-items:center;justify-content:flex-end;gap:12px}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:1px solid #ddd;border-radius:6px;font-size:14px;font-weight:600;cursor:pointer;display:flex;align-items:center;gap:8px;transition:all .3s ease;background:#fff}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.btn-secondary[_ngcontent-%COMP%]{color:#666;border-color:#ddd}.btn-secondary[_ngcontent-%COMP%]:hover{background:#f5f5f5;color:#333;border-color:#999}.btn-primary[_ngcontent-%COMP%]{color:#fff;background:#667eea;border-color:#667eea}.btn-primary[_ngcontent-%COMP%]:hover{background:#764ba2;border-color:#764ba2;box-shadow:0 4px 12px #667eea66}.btn-danger[_ngcontent-%COMP%]{color:#fff;background:#dc3545;border-color:#dc3545}.btn-danger[_ngcontent-%COMP%]:hover{background:#c82333;border-color:#c82333;box-shadow:0 4px 12px #dc354566}@media (max-width: 480px){.modal-dialog[_ngcontent-%COMP%]{width:85%}.modal-header[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]{padding:20px}.modal-footer[_ngcontent-%COMP%]{padding:16px 20px;flex-direction:column}.btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}"]})}}return t})();function W$(t,n){if(1&t){const e=R();a(0,"div",32)(1,"div",33)(2,"h3"),d(3,"Personal Information"),c(),a(4,"button",34),C("click",function(){return y(e),v(f(2).startEditProfile())}),b(5,"i",35),d(6," Edit "),c()(),a(7,"div",36)(8,"div",37)(9,"span",38),d(10,"Full Name"),c(),a(11,"span",39),d(12),c()(),a(13,"div",37)(14,"span",38),d(15,"Email Address"),c(),a(16,"div",40)(17,"span",39),d(18),c(),a(19,"span",41),d(20),c()()(),a(21,"div",37)(22,"span",38),d(23,"Phone Number"),c(),a(24,"div",40)(25,"span",39),d(26),c(),a(27,"span",41),d(28),c()()(),a(29,"div",37)(30,"span",38),d(31,"Account Role"),c(),a(32,"span",39),b(33,"i",10),d(34),c()()(),a(35,"div",42)(36,"button",43),C("click",function(){return y(e),v(f(2).startChangeEmail())}),b(37,"i",44),d(38," Change Email "),c(),a(39,"button",43),C("click",function(){return y(e),v(f(2).startChangePhone())}),b(40,"i",45),d(41," Change Phone "),c()()()}if(2&t){const e=f(2);p(12),S(null==e.currentUser?null:e.currentUser.name),p(6),S(null==e.currentUser?null:e.currentUser.email),p(),B("verified",e.getEmailVerificationStatus().includes("\u2713")),p(),D(" ",e.getEmailVerificationStatus()," "),p(6),S(null==e.currentUser?null:e.currentUser.phone),p(),B("verified",e.getPhoneVerificationStatus().includes("\u2713")),p(),D(" ",e.getPhoneVerificationStatus()," "),p(5),B("fa-crown","admin"===(null==e.currentUser?null:e.currentUser.role))("fa-user-circle","admin"!==(null==e.currentUser?null:e.currentUser.role)),p(),D(" ","admin"===(null==e.currentUser?null:e.currentUser.role)?"Administrator":"Regular User"," ")}}function G$(t,n){1&t&&(a(0,"span"),b(1,"i",61),d(2," Save Changes"),c())}function Y$(t,n){1&t&&(a(0,"span"),b(1,"i",62),d(2," Saving..."),c())}function K$(t,n){if(1&t){const e=R();a(0,"div",46)(1,"form",47),C("ngSubmit",function(){return y(e),v(f(2).saveProfileChanges())}),a(2,"div",48)(3,"label",49),d(4,"Full Name "),a(5,"span",50),d(6,"*"),c()(),a(7,"input",51),A("ngModelChange",function(r){y(e);const i=f(2);return F(i.editFormData.name,r)||(i.editFormData.name=r),v(r)}),c()(),a(8,"div",48)(9,"label",52),d(10,"Email Address "),a(11,"span",50),d(12,"*"),c()(),a(13,"input",53),A("ngModelChange",function(r){y(e);const i=f(2);return F(i.editFormData.email,r)||(i.editFormData.email=r),v(r)}),c(),a(14,"small",54),d(15,"To change email, use the 'Change Email' button for verification"),c()(),a(16,"div",48)(17,"label",55),d(18,"Phone Number "),a(19,"span",50),d(20,"*"),c()(),a(21,"input",56),A("ngModelChange",function(r){y(e);const i=f(2);return F(i.editFormData.phone,r)||(i.editFormData.phone=r),v(r)}),c(),a(22,"small",54),d(23,"To change phone, use the 'Change Phone' button for verification"),c()(),a(24,"div",57)(25,"button",58),P(26,G$,3,0,"span",59)(27,Y$,3,0,"span",59),c(),a(28,"button",60),C("click",function(){return y(e),v(f(2).cancelEdit())}),d(29," Cancel "),c()()()()}if(2&t){const e=f(2);p(7),E("ngModel",e.editFormData.name),h("disabled",e.loading),p(6),E("ngModel",e.editFormData.email),h("disabled",e.loading),p(8),E("ngModel",e.editFormData.phone),h("disabled",e.loading),p(4),h("disabled",e.loading),p(),h("ngIf",!e.loading),p(),h("ngIf",e.loading),p(),h("disabled",e.loading)}}function Q$(t,n){1&t&&(a(0,"span"),b(1,"i",68),d(2," Send Verification"),c())}function J$(t,n){1&t&&(a(0,"span"),b(1,"i",62),d(2," Sending..."),c())}function X$(t,n){if(1&t){const e=R();a(0,"div",46)(1,"h3"),d(2,"Change Email Address"),c(),a(3,"p",63),d(4,"A verification email will be sent to your new email address"),c(),a(5,"div",64),b(6,"i",65),a(7,"div")(8,"strong"),d(9,"Current Email:"),c(),d(10),c()(),a(11,"form",47),C("ngSubmit",function(){return y(e),v(f(2).requestEmailChange())}),a(12,"div",48)(13,"label",66),d(14,"New Email Address "),a(15,"span",50),d(16,"*"),c()(),a(17,"input",67),A("ngModelChange",function(r){y(e);const i=f(2);return F(i.pendingNewEmail,r)||(i.pendingNewEmail=r),v(r)}),c()(),a(18,"div",57)(19,"button",58),P(20,Q$,3,0,"span",59)(21,J$,3,0,"span",59),c(),a(22,"button",60),C("click",function(){return y(e),v(f(2).cancelEdit())}),d(23," Cancel "),c()()()()}if(2&t){const e=f(2);p(10),D(" ",null==e.currentUser?null:e.currentUser.email," "),p(7),E("ngModel",e.pendingNewEmail),h("disabled",e.loading),p(2),h("disabled",e.loading),p(),h("ngIf",!e.loading),p(),h("ngIf",e.loading),p(),h("disabled",e.loading)}}function Z$(t,n){1&t&&(a(0,"span"),b(1,"i",45),d(2," Verify Phone"),c())}function eH(t,n){1&t&&(a(0,"span"),b(1,"i",62),d(2," Processing..."),c())}function tH(t,n){if(1&t){const e=R();a(0,"div",46)(1,"h3"),d(2,"Change Phone Number"),c(),a(3,"p",63),d(4,"Enter your new phone number and verify via OTP"),c(),a(5,"div",64),b(6,"i",65),a(7,"div")(8,"strong"),d(9,"Current Phone:"),c(),d(10),c()(),a(11,"form",47),C("ngSubmit",function(){return y(e),v(f(2).requestPhoneChange())}),a(12,"div",48)(13,"label",69),d(14,"New Phone Number "),a(15,"span",50),d(16,"*"),c()(),a(17,"input",70),A("ngModelChange",function(r){y(e);const i=f(2);return F(i.pendingPhoneNumber,r)||(i.pendingPhoneNumber=r),v(r)}),c(),a(18,"small",54),d(19,"Format: +91XXXXXXXXXX or 10 digits"),c()(),a(20,"div",57)(21,"button",58),P(22,Z$,3,0,"span",59)(23,eH,3,0,"span",59),c(),a(24,"button",60),C("click",function(){return y(e),v(f(2).cancelEdit())}),d(25," Cancel "),c()()()()}if(2&t){const e=f(2);p(10),D(" ",null==e.currentUser?null:e.currentUser.phone," "),p(7),E("ngModel",e.pendingPhoneNumber),h("disabled",e.loading),p(4),h("disabled",e.loading||!e.pendingPhoneNumber),p(),h("ngIf",!e.loading),p(),h("ngIf",e.loading),p(),h("disabled",e.loading)}}function nH(t,n){if(1&t&&(a(0,"div",28)(1,"div",29)(2,"h2"),d(3,"Profile Information"),c(),a(4,"p"),d(5,"View and manage your account details"),c()(),P(6,W$,42,14,"div",30)(7,K$,30,10,"div",31)(8,X$,24,7,"div",31)(9,tH,26,7,"div",31),c()),2&t){const e=f();p(6),h("ngIf","view"===e.editMode),p(),h("ngIf","edit-profile"===e.editMode),p(),h("ngIf","edit-email"===e.editMode),p(),h("ngIf","edit-phone"===e.editMode)}}function oH(t,n){if(1&t){const e=R();a(0,"div",72)(1,"div",73)(2,"div",33)(3,"h3"),d(4,"Password"),c(),a(5,"button",34),C("click",function(){return y(e),v(f(2).startChangePassword())}),b(6,"i",74),d(7," Change Password "),c()(),a(8,"p",63),d(9,"Keep your account secure with a strong password"),c(),a(10,"div",37)(11,"span",38),d(12,"Last Changed"),c(),a(13,"span",39),d(14),c()()(),a(15,"div",73)(16,"div",33)(17,"h3"),d(18,"Two-Factor Authentication"),c(),a(19,"span",75),d(20,"Coming Soon"),c()(),a(21,"p",63),d(22,"Add an extra layer of security to your account"),c()(),a(23,"div",73)(24,"div",33)(25,"h3"),d(26,"Active Sessions"),c()(),a(27,"p",63),d(28,"Manage your active login sessions"),c(),a(29,"div",76)(30,"div",77),b(31,"i",78),a(32,"div")(33,"p",79),d(34,"This Device"),c(),a(35,"p",80),d(36,"Current Session"),c()()(),a(37,"span",81),d(38,"Active Now"),c()()()()}if(2&t){const e=f(2);p(14),S(e.lastPasswordChange||"Never changed")}}function rH(t,n){1&t&&(a(0,"span"),b(1,"i",18),d(2," Update Password"),c())}function iH(t,n){1&t&&(a(0,"span"),b(1,"i",62),d(2," Updating..."),c())}function sH(t,n){if(1&t){const e=R();a(0,"div",46)(1,"h3"),d(2,"Change Password"),c(),a(3,"p",63),d(4,"Enter your current password and choose a new one"),c(),a(5,"form",47),C("ngSubmit",function(){return y(e),v(f(2).changePassword())}),a(6,"div",48)(7,"label",82),d(8,"Current Password "),a(9,"span",50),d(10,"*"),c()(),a(11,"div",83)(12,"input",84),A("ngModelChange",function(r){y(e);const i=f(2);return F(i.changePasswordData.currentPassword,r)||(i.changePasswordData.currentPassword=r),v(r)}),c(),a(13,"button",85),C("click",function(){return y(e),v(f(2).togglePasswordVisibility("current"))}),b(14,"i"),c()()(),a(15,"div",48)(16,"label",86),d(17,"New Password "),a(18,"span",50),d(19,"*"),c()(),a(20,"div",83)(21,"input",87),A("ngModelChange",function(r){y(e);const i=f(2);return F(i.changePasswordData.newPassword,r)||(i.changePasswordData.newPassword=r),v(r)}),c(),a(22,"button",85),C("click",function(){return y(e),v(f(2).togglePasswordVisibility("new"))}),b(23,"i"),c()(),a(24,"small",54),d(25,"Min 8 characters: uppercase, lowercase, number & special character"),c()(),a(26,"div",48)(27,"label",88),d(28,"Confirm Password "),a(29,"span",50),d(30,"*"),c()(),a(31,"div",83)(32,"input",89),A("ngModelChange",function(r){y(e);const i=f(2);return F(i.changePasswordData.confirmPassword,r)||(i.changePasswordData.confirmPassword=r),v(r)}),c(),a(33,"button",85),C("click",function(){return y(e),v(f(2).togglePasswordVisibility("confirm"))}),b(34,"i"),c()()(),a(35,"div",57)(36,"button",58),P(37,rH,3,0,"span",59)(38,iH,3,0,"span",59),c(),a(39,"button",60),C("click",function(){return y(e),v(f(2).cancelEdit())}),d(40," Cancel "),c()()()()}if(2&t){const e=f(2);p(12),h("type",e.showPassword.current?"text":"password"),E("ngModel",e.changePasswordData.currentPassword),h("disabled",e.loading),p(2),io(e.showPassword.current?"fas fa-eye-slash":"fas fa-eye"),p(7),h("type",e.showPassword.new?"text":"password"),E("ngModel",e.changePasswordData.newPassword),h("disabled",e.loading),p(2),io(e.showPassword.new?"fas fa-eye-slash":"fas fa-eye"),p(9),h("type",e.showPassword.confirm?"text":"password"),E("ngModel",e.changePasswordData.confirmPassword),h("disabled",e.loading),p(2),io(e.showPassword.confirm?"fas fa-eye-slash":"fas fa-eye"),p(2),h("disabled",e.loading),p(),h("ngIf",!e.loading),p(),h("ngIf",e.loading),p(),h("disabled",e.loading)}}function aH(t,n){if(1&t&&(a(0,"div",28)(1,"div",29)(2,"h2"),d(3,"Security Settings"),c(),a(4,"p"),d(5,"Manage your password and security options"),c()(),P(6,oH,39,1,"div",71)(7,sH,41,19,"div",31),c()),2&t){const e=f();p(6),h("ngIf","view"===e.editMode),p(),h("ngIf","change-password"===e.editMode)}}function cH(t,n){1&t&&(a(0,"div",28)(1,"div",29)(2,"h2"),d(3,"Notification Preferences"),c(),a(4,"p"),d(5,"Manage how you receive updates"),c()(),a(6,"div",90)(7,"div",91)(8,"div",92)(9,"h4"),d(10,"Order Updates"),c(),a(11,"p"),d(12,"Receive notifications about order status changes"),c()(),b(13,"input",93),c(),a(14,"div",91)(15,"div",92)(16,"h4"),d(17,"Promotions & Offers"),c(),a(18,"p"),d(19,"Get notified about special deals and discounts"),c()(),b(20,"input",93),c(),a(21,"div",91)(22,"div",92)(23,"h4"),d(24,"Account Security"),c(),a(25,"p"),d(26,"Alerts about login attempts and security changes"),c()(),b(27,"input",93),c(),a(28,"div",91)(29,"div",92)(30,"h4"),d(31,"Product Recommendations"),c(),a(32,"p"),d(33,"Personalized product suggestions based on your interests"),c()(),b(34,"input",94),c()()())}function lH(t,n){1&t&&(a(0,"div",101),b(1,"i",62),d(2," Loading your orders... "),c())}function dH(t,n){if(1&t){const e=R();a(0,"div",102),b(1,"i",103),d(2),a(3,"button",104),C("click",function(){return y(e),v(f(2).errorMessage="")}),d(4,"\xd7"),c()()}if(2&t){const e=f(2);p(2),D(" ",e.errorMessage," ")}}function uH(t,n){if(1&t){const e=R();a(0,"div",105),b(1,"i",106),d(2),a(3,"button",104),C("click",function(){return y(e),v(f(2).successMessage="")}),d(4,"\xd7"),c()()}if(2&t){const e=f(2);p(2),D(" ",e.successMessage," ")}}function pH(t,n){if(1&t){const e=R();a(0,"div",110)(1,"div",111)(2,"div",112)(3,"span",113),d(4),c(),a(5,"span",114),d(6),Q(7,"date"),c()(),a(8,"div",115)(9,"span"),d(10),Q(11,"uppercase"),c()()(),a(12,"div",116)(13,"div",117)(14,"span",118),d(15,"Amount"),c(),a(16,"span",119),d(17),Q(18,"number"),c()(),a(19,"div",117)(20,"span",118),d(21,"Items"),c(),a(22,"span",119),d(23),c()(),a(24,"div",117)(25,"span",118),d(26,"Delivery Address"),c(),a(27,"span",119),d(28),c()()(),a(29,"div",120)(30,"button",121),C("click",function(){const r=y(e).$implicit;return v(f(3).viewOrderDetails(r.id))}),b(31,"i",122),a(32,"span"),d(33,"View Details"),c()(),a(34,"button",123),C("click",function(){const r=y(e).$implicit;return v(f(3).trackOrder(r.id))}),b(35,"i",124),a(36,"span"),d(37,"Track Order"),c()(),a(38,"button",125),C("click",function(){const r=y(e).$implicit;return v(f(3).shareViaWhatsApp(r))}),b(39,"i",126),a(40,"span"),d(41,"WhatsApp"),c()(),a(42,"button",127),C("click",function(){const r=y(e).$implicit;return v(f(3).cancelOrder(r.id))}),b(43,"i",128),a(44,"span"),d(45,"Cancel Order"),c()()()()}if(2&t){const e=n.$implicit,o=f(3);p(4),D("Order #",e.id,""),p(2),S(pt(7,11,e.createdAt,"MMM dd, yyyy")),p(3),io("status-badge "+o.getStatusBadgeClass(e.status)),p(),D(" ",Ne(11,14,e.status)," "),p(7),D("\u20b9",Ne(18,16,e.pricing.total),""),p(6),D("",e.items.length||0," item(s)"),p(5),rn("",e.deliveryAddress.city,", ",e.deliveryAddress.state,""),p(14),h("disabled",!o.canCancelOrder(e)||o.ordersLoading)("title",o.canCancelOrder(e)?"Cancel this order":"Cannot cancel "+e.status+" orders")}}function gH(t,n){if(1&t&&(a(0,"div",107)(1,"div",108),P(2,pH,46,18,"div",109),c()()),2&t){const e=f(2);p(2),h("ngForOf",e.userOrders)}}function fH(t,n){1&t&&(a(0,"div",129),b(1,"i",20),a(2,"h3"),d(3,"No Orders Yet"),c(),a(4,"p"),d(5,"You haven't placed any orders yet. Start shopping to see your order history here."),c(),a(6,"button",130),b(7,"i",131),d(8," Start Shopping "),c()())}function hH(t,n){if(1&t&&(a(0,"div",28)(1,"div",29)(2,"h2"),d(3,"Order History"),c(),a(4,"p"),d(5,"View, track, and manage all your orders"),c()(),a(6,"div",95)(7,"div",96)(8,"div",97),d(9),c(),a(10,"div",98),d(11,"Total Orders"),c()(),a(12,"div",96)(13,"div",97),d(14),Q(15,"number"),c(),a(16,"div",98),d(17,"Total Spent"),c()()(),P(18,lH,3,0,"div",99)(19,dH,5,1,"div",26)(20,uH,5,1,"div",27)(21,gH,3,1,"div",100)(22,fH,9,0,"ng-template",null,0,Rf),c()),2&t){const e=wa(23),o=f();p(9),S(o.userOrders.length),p(5),D("\u20b9",Ne(15,7,o.totalOrderValue),""),p(4),h("ngIf",o.ordersLoading),p(),h("ngIf",o.errorMessage),p(),h("ngIf",o.successMessage),p(),h("ngIf",o.userOrders.length>0&&!o.ordersLoading)("ngIfElse",e)}}function mH(t,n){if(1&t){const e=R();a(0,"app-phone-verification-modal",132),C("verified",function(r){return y(e),v(f().onPhoneVerified(r))})("skipped",function(){return y(e),v(f().onPhoneVerified(!1))}),c()}if(2&t){const e=f();h("phoneNumber",e.pendingPhoneNumber)("userName",(null==e.currentUser?null:e.currentUser.name)||"")}}function _H(t,n){if(1&t&&(a(0,"div",102),b(1,"i",103),a(2,"span"),d(3),c()()),2&t){const e=f();p(3),S(e.errorMessage)}}function bH(t,n){if(1&t&&(a(0,"div",105),b(1,"i",106),a(2,"span"),d(3),c()()),2&t){const e=f();p(3),S(e.successMessage)}}let yH=(()=>{class t{constructor(){this.authService=w(Qe),this.analyticsService=w(gr),this.phoneVerificationService=w(hO),this.emailVerificationService=w(H2),this.orderService=w(hr),this.router=w(me),this.currentUser=null,this.editMode="view",this.activeTab="profile",this.userOrders=[],this.totalOrderValue=0,this.ordersLoading=!1,this.editFormData={name:"",email:"",phone:""},this.changePasswordData={currentPassword:"",newPassword:"",confirmPassword:""},this.loading=!1,this.errorMessage="",this.successMessage="",this.showPassword={current:!1,new:!1,confirm:!1},this.showPhoneVerificationModal=!1,this.pendingPhoneNumber="",this.emailChangeAwaitingVerification=!1,this.pendingNewEmail="",this.showCancelModal=!1,this.cancelingOrderId="",this.lastPasswordChange="",this.accountCreatedDate=""}ngOnInit(){this.loadUserData()}ngOnDestroy(){}loadUserData(){const e=this.authService.currentUser();e?(this.currentUser=e,this.initializeFormData(),this.formatTimestamps(),this.loadUserOrders()):this.router.navigate(["/"])}loadUserOrders(){this.currentUser&&(this.ordersLoading=!0,this.orderService.getUserOrders(this.currentUser.id).subscribe({next:e=>{this.userOrders=e.orders,this.totalOrderValue=this.userOrders.reduce((o,r)=>o+(r.pricing?.total||0),0),this.ordersLoading=!1},error:e=>{console.error("Error loading orders:",e),this.ordersLoading=!1}}))}initializeFormData(){this.currentUser&&(this.editFormData={name:this.currentUser.firstName||this.currentUser.name||"",email:this.currentUser.email,phone:this.currentUser.phone||""})}formatTimestamps(){this.currentUser?.createdAt&&(this.accountCreatedDate=new Date(this.currentUser.createdAt).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"}))}switchTab(e){this.activeTab=e,this.clearMessages()}startEditProfile(){this.editMode="edit-profile",this.clearMessages()}startChangeEmail(){this.editMode="edit-email",this.pendingNewEmail="",this.clearMessages()}startChangePhone(){this.editMode="edit-phone",this.pendingPhoneNumber="",this.clearMessages()}startChangePassword(){this.editMode="change-password",this.changePasswordData={currentPassword:"",newPassword:"",confirmPassword:""},this.clearMessages()}saveProfileChanges(){this.validateProfileForm()&&(this.loading=!0,this.errorMessage="",this.authService.updateProfile({name:this.editFormData.name,email:this.editFormData.email,phone:this.editFormData.phone}).subscribe({next:e=>{this.successMessage="Profile updated successfully!",this.loadUserData(),setTimeout(()=>{this.editMode="view",this.clearMessages()},2e3),this.loading=!1},error:e=>{this.errorMessage=e.message||"Failed to update profile",this.loading=!1}}))}requestEmailChange(){if(!this.pendingNewEmail.trim())return void(this.errorMessage="Please enter a new email address");if(!this.isValidEmail(this.pendingNewEmail))return void(this.errorMessage="Invalid email address");if(this.pendingNewEmail===this.currentUser?.email)return void(this.errorMessage="New email must be different from current email");this.loading=!0,this.errorMessage="";const e=this.emailVerificationService.sendVerificationEmail(this.currentUser.email,this.currentUser.firstName||this.currentUser.name||"","email_change",this.pendingNewEmail);e.success?(this.successMessage="Verification email sent! Check your inbox.",this.emailChangeAwaitingVerification=!0,setTimeout(()=>{this.editMode="view",this.clearMessages()},3e3)):this.errorMessage=e.message||"Failed to send verification email",this.loading=!1}requestPhoneChange(){this.pendingPhoneNumber.trim()?this.showPhoneVerificationModal=!0:this.errorMessage="Please enter a phone number"}onPhoneVerified(e){this.showPhoneVerificationModal=!1,e&&this.currentUser&&this.authService.updateProfile({phone:this.pendingPhoneNumber}).subscribe({next:o=>{this.successMessage="Phone number updated successfully!",this.loadUserData(),this.editMode="view",setTimeout(()=>{this.clearMessages()},2e3)},error:o=>{this.errorMessage="Failed to update phone number: "+(o.message||"")}})}changePassword(){if(this.validatePasswordForm()){if(this.loading=!0,this.errorMessage="",this.authService.getUsers?.()?.find(i=>i.id===this.currentUser?.id)?.password!==this.changePasswordData.currentPassword)return this.errorMessage="Current password is incorrect",void(this.loading=!1);if(this.authService.updateProfile({}),this.currentUser){const i=this.authService.getUsers?.(),s=i?.findIndex(l=>l.id===this.currentUser?.id);void 0!==s&&s>=0&&(i[s].password=this.changePasswordData.newPassword,this.authService.saveUsers?.(i),this.successMessage="Password changed successfully!",setTimeout(()=>{this.editMode="view",this.changePasswordData={currentPassword:"",newPassword:"",confirmPassword:""},this.clearMessages()},2e3))}this.loading=!1}}logout(){confirm("Are you sure you want to logout?")&&(this.authService.logout(),this.router.navigate(["/"]))}contactSupport(e){const o=encodeURIComponent(`Hi, I need help tracking order #${e}`);window.open(`https://wa.me/919951130198?text=${o}`,"_blank")}cancelEdit(){this.editMode="view",this.initializeFormData(),this.clearMessages()}togglePasswordVisibility(e){this.showPassword[e]=!this.showPassword[e]}validateProfileForm(){return this.editFormData.name.trim()?this.editFormData.name.trim().length<2?(this.errorMessage="Name must be at least 2 characters long",!1):this.isValidEmail(this.editFormData.email)?!!this.editFormData.phone.trim()||(this.errorMessage="Phone number is required",!1):(this.errorMessage="Invalid email address",!1):(this.errorMessage="Name is required",!1)}validatePasswordForm(){return this.changePasswordData.currentPassword.trim()?this.changePasswordData.newPassword.trim()?this.changePasswordData.confirmPassword.trim()?this.changePasswordData.newPassword!==this.changePasswordData.confirmPassword?(this.errorMessage="Passwords do not match",!1):this.changePasswordData.newPassword.length<8?(this.errorMessage="New password must be at least 8 characters long",!1):/[A-Z]/.test(this.changePasswordData.newPassword)?/[a-z]/.test(this.changePasswordData.newPassword)?/[0-9]/.test(this.changePasswordData.newPassword)?/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(this.changePasswordData.newPassword)?this.changePasswordData.currentPassword!==this.changePasswordData.newPassword||(this.errorMessage="New password must be different from current password",!1):(this.errorMessage="Password must contain at least one special character",!1):(this.errorMessage="Password must contain at least one number",!1):(this.errorMessage="Password must contain at least one lowercase letter",!1):(this.errorMessage="Password must contain at least one uppercase letter",!1):(this.errorMessage="Confirm password is required",!1):(this.errorMessage="New password is required",!1):(this.errorMessage="Current password is required",!1)}isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}clearMessages(){this.errorMessage="",this.successMessage=""}getPhoneVerificationStatus(){return this.currentUser?.phone?"verified"===this.phoneVerificationService.getOTPStatus(this.currentUser.phone)?.status?"\u2713 Verified":"\u26a0 Pending":"Not Added"}getEmailVerificationStatus(){return this.currentUser?.email?this.emailVerificationService.isEmailVerified(this.currentUser.email)?"\u2713 Verified":"\u26a0 Pending":"Not Added"}viewOrderDetails(e){this.router.navigate(["/order",e])}trackOrder(e){this.router.navigate(["/order",e,"track"])}cancelOrder(e){this.cancelingOrderId=e,this.showCancelModal=!0}confirmCancel(){this.cancelingOrderId&&(this.ordersLoading=!0,this.showCancelModal=!1,this.orderService.cancelOrder(this.cancelingOrderId).subscribe({next:e=>{this.successMessage="Order cancelled successfully!",this.ordersLoading=!1,this.cancelingOrderId="",this.loadUserOrders(),setTimeout(()=>this.clearMessages(),3e3)},error:e=>{this.errorMessage="Failed to cancel order. Please try again.",this.ordersLoading=!1,this.cancelingOrderId=""}}))}closeCancelModal(){this.showCancelModal=!1,this.cancelingOrderId=""}shareViaWhatsApp(e){const o=`\n*\u{1f389} ORDER CONFIRMATION* \u{1f4e6}\n\n\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\n*Order Details:*\n\u{1f539} Order ID: ${e.id}\n\u{1f539} Amount: \u20b9${e.pricing.total}\n\u{1f539} Status: ${e.status.toUpperCase()}\n\u{1f539} Payment Method: COD\n\n\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\n*\u{1f4e6} Items Ordered:*\n${e.items&&e.items.length>0?e.items.map(s=>`\u2022 ${s.name||s.productName} (\u20b9${s.price})`).join("\n"):"\u2022 Order items"}\n\n\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\n*\u{1f69a} Delivery Address:*\n${e.deliveryAddress.street||"Not specified"}\n${e.deliveryAddress.city}, ${e.deliveryAddress.state}\n${e.deliveryAddress.pincode}\n\n\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\n\u23f1\ufe0f Expected Delivery: 3-5 business days\n\u{1f4de} Need Help? Contact our support team\n\nThank you for your purchase! \u{1f64f}\n    `.trim(),i=`https://wa.me/?text=${encodeURIComponent(o)}`;window.open(i,"_blank")}canCancelOrder(e){return["pending","confirmed","processing"].includes(e.status)}getStatusBadgeClass(e){return{pending:"status-pending",confirmed:"status-confirmed",processing:"status-processing",shipped:"status-shipped",delivered:"status-delivered",cancelled:"status-cancelled"}[e]||"status-pending"}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=se({type:t,selectors:[["app-user-profile"]],standalone:!0,features:[ae],decls:44,vars:27,consts:[["noOrders",""],[1,"user-profile-container"],[1,"profile-sidebar"],[1,"user-avatar"],[1,"avatar-placeholder"],[1,"fas","fa-user"],[1,"user-info"],[1,"user-name"],[1,"user-email"],[1,"user-role"],[1,"fas"],[1,"account-stats"],[1,"stat"],[1,"stat-label"],[1,"stat-value"],[1,"sidebar-menu"],[1,"menu-item",3,"click"],[1,"fas","fa-user-cog"],[1,"fas","fa-lock"],[1,"fas","fa-bell"],[1,"fas","fa-shopping-bag"],[1,"fas","fa-sign-out-alt"],[1,"profile-content"],["class","tab-content",4,"ngIf"],["title","Cancel Order?","message","Are you sure you want to cancel this order? This action cannot be undone.","confirmText","Yes, Cancel Order","cancelText","Keep Order",3,"confirm","cancel","isOpen","isDangerous"],[3,"phoneNumber","userName","verified","skipped",4,"ngIf"],["class","alert alert-error",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[1,"tab-content"],[1,"content-header"],["class","profile-section",4,"ngIf"],["class","profile-form",4,"ngIf"],[1,"profile-section"],[1,"section-header"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"fas","fa-edit"],[1,"info-grid"],[1,"info-item"],[1,"info-label"],[1,"info-value"],[1,"info-value-with-status"],[1,"status-badge"],[1,"quick-actions"],[1,"quick-action-btn",3,"click"],[1,"fas","fa-envelope"],[1,"fas","fa-phone"],[1,"profile-form"],[3,"ngSubmit"],[1,"form-group"],["for","name"],[1,"required"],["type","text","id","name","name","name","placeholder","Enter your full name",3,"ngModelChange","ngModel","disabled"],["for","email"],["type","email","id","email","name","email","placeholder","Enter your email",3,"ngModelChange","ngModel","disabled"],[1,"field-hint"],["for","phone"],["type","tel","id","phone","name","phone","placeholder","+91 98765 43210",3,"ngModelChange","ngModel","disabled"],[1,"form-actions"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],[1,"fas","fa-save"],[1,"fas","fa-spinner","fa-spin"],[1,"section-desc"],[1,"info-box","info-alert"],[1,"fas","fa-info-circle"],["for","new-email"],["type","email","id","new-email","name","newEmail","placeholder","Enter new email address",3,"ngModelChange","ngModel","disabled"],[1,"fas","fa-paper-plane"],["for","new-phone"],["type","tel","id","new-phone","name","newPhone","placeholder","+91 98765 43210",3,"ngModelChange","ngModel","disabled"],["class","security-section",4,"ngIf"],[1,"security-section"],[1,"section-card"],[1,"fas","fa-key"],[1,"badge-coming"],[1,"active-session"],[1,"session-info"],[1,"fas","fa-laptop"],[1,"session-device"],[1,"session-location"],[1,"session-badge"],["for","current-password"],[1,"password-input-group"],["id","current-password","name","currentPassword","placeholder","Enter current password",3,"ngModelChange","type","ngModel","disabled"],["type","button",1,"toggle-password",3,"click"],["for","new-password"],["id","new-password","name","newPassword","placeholder","Enter new password",3,"ngModelChange","type","ngModel","disabled"],["for","confirm-password"],["id","confirm-password","name","confirmPassword","placeholder","Re-enter new password",3,"ngModelChange","type","ngModel","disabled"],[1,"notifications-section"],[1,"notification-item"],[1,"notification-info"],["type","checkbox","checked","",1,"toggle-switch"],["type","checkbox",1,"toggle-switch"],[1,"orders-summary"],[1,"summary-card"],[1,"summary-value"],[1,"summary-label"],["class","loading-state",4,"ngIf"],["class","orders-section",4,"ngIf","ngIfElse"],[1,"loading-state"],[1,"alert","alert-error"],[1,"fas","fa-exclamation-circle"],[1,"btn-close",3,"click"],[1,"alert","alert-success"],[1,"fas","fa-check-circle"],[1,"orders-section"],[1,"orders-list"],["class","order-item",4,"ngFor","ngForOf"],[1,"order-item"],[1,"order-header"],[1,"order-id"],[1,"label"],[1,"date"],[1,"order-status-badge"],[1,"order-details"],[1,"detail-item"],[1,"detail-label"],[1,"detail-value"],[1,"order-actions"],["title","View full order details",1,"action-btn","btn-info",3,"click"],[1,"fas","fa-eye"],["title","Track your order",1,"action-btn","btn-primary",3,"click"],[1,"fas","fa-map-marker-alt"],["title","Share order via WhatsApp",1,"action-btn","btn-success",3,"click"],[1,"fab","fa-whatsapp"],[1,"action-btn","btn-danger",3,"click","disabled","title"],[1,"fas","fa-times"],[1,"empty-state"],["routerLink","/shop",1,"btn","btn-primary"],[1,"fas","fa-shopping-cart"],[3,"verified","skipped","phoneNumber","userName"]],template:function(o,r){1&o&&(a(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),b(4,"i",5),c()(),a(5,"div",6)(6,"h2",7),d(7),c(),a(8,"p",8),d(9),c(),a(10,"p",9),b(11,"i",10),d(12),c()(),a(13,"div",11)(14,"div",12)(15,"span",13),d(16,"Member Since"),c(),a(17,"span",14),d(18),c()()(),a(19,"div",15)(20,"button",16),C("click",function(){return r.switchTab("profile")}),b(21,"i",17),d(22," Profile Settings "),c(),a(23,"button",16),C("click",function(){return r.switchTab("security")}),b(24,"i",18),d(25," Security "),c(),a(26,"button",16),C("click",function(){return r.switchTab("notifications")}),b(27,"i",19),d(28," Notifications "),c(),a(29,"button",16),C("click",function(){return r.switchTab("orders")}),b(30,"i",20),d(31," Order History "),c(),a(32,"button",16),C("click",function(){return r.logout()}),b(33,"i",21),d(34," Logout "),c()()(),a(35,"div",22),P(36,nH,10,4,"div",23)(37,aH,8,2,"div",23)(38,cH,35,0,"div",23)(39,hH,24,9,"div",23),c(),a(40,"app-confirmation-modal",24),C("confirm",function(){return r.confirmCancel()})("cancel",function(){return r.closeCancelModal()}),c(),P(41,mH,1,2,"app-phone-verification-modal",25)(42,_H,4,1,"div",26)(43,bH,4,1,"div",27),c()),2&o&&(p(7),S(null==r.currentUser?null:r.currentUser.name),p(2),S(null==r.currentUser?null:r.currentUser.email),p(),B("admin","admin"===(null==r.currentUser?null:r.currentUser.role)),p(),B("fa-crown","admin"===(null==r.currentUser?null:r.currentUser.role))("fa-user-circle","admin"!==(null==r.currentUser?null:r.currentUser.role)),p(),D(" ","admin"===(null==r.currentUser?null:r.currentUser.role)?"Administrator":"Regular User"," "),p(6),S(r.accountCreatedDate),p(2),B("active","profile"===r.activeTab),p(3),B("active","security"===r.activeTab),p(3),B("active","notifications"===r.activeTab),p(3),B("active","orders"===r.activeTab),p(7),h("ngIf","profile"===r.activeTab),p(),h("ngIf","security"===r.activeTab),p(),h("ngIf","notifications"===r.activeTab),p(),h("ngIf","orders"===r.activeTab),p(),h("isOpen",r.showCancelModal)("isDangerous",!0),p(),h("ngIf",r.showPhoneVerificationModal),p(),h("ngIf",r.errorMessage),p(),h("ngIf",r.successMessage))},dependencies:[pe,De,ve,yh,co,kd,nt,bo,et,rt,mo,tt,_o,Ge,Ze,$$,q$],styles:[".user-profile-container[_ngcontent-%COMP%]{display:flex;min-height:calc(100vh - 80px);background:#f5f7fa;gap:20px;padding:20px}.profile-sidebar[_ngcontent-%COMP%]{width:280px;background:#fff;border-radius:12px;padding:25px;box-shadow:0 2px 8px #00000014;height:-moz-fit-content;height:fit-content;position:sticky;top:20px}.user-avatar[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.avatar-placeholder[_ngcontent-%COMP%]{width:80px;height:80px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:40px;margin:0 auto}.user-info[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.user-name[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#2c3e50;margin:0 0 5px}.user-email[_ngcontent-%COMP%]{font-size:13px;color:#7f8c8d;margin:0 0 10px;word-break:break-all}.user-role[_ngcontent-%COMP%]{font-size:12px;color:#667eea;text-transform:uppercase;letter-spacing:.5px;margin:0;display:flex;align-items:center;justify-content:center;gap:5px}.user-role.admin[_ngcontent-%COMP%]{color:#f39c12}.user-role[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.account-stats[_ngcontent-%COMP%]{background:#f9f9f9;padding:15px;border-radius:8px;margin-bottom:20px}.stat[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}.stat-label[_ngcontent-%COMP%]{font-size:11px;color:#95a5a6;text-transform:uppercase;font-weight:600;letter-spacing:.5px}.stat-value[_ngcontent-%COMP%]{font-size:14px;color:#2c3e50;font-weight:500}.sidebar-menu[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.menu-item[_ngcontent-%COMP%]{background:transparent;border:none;padding:12px 15px;border-radius:8px;cursor:pointer;color:#555;font-size:14px;font-weight:500;text-align:left;transition:all .2s;display:flex;align-items:center;gap:10px}.menu-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:18px;text-align:center}.menu-item[_ngcontent-%COMP%]:hover{background:#f0f4ff;color:#667eea}.menu-item.active[_ngcontent-%COMP%]{background:#667eea;color:#fff}.profile-content[_ngcontent-%COMP%]{flex:1;background:#fff;border-radius:12px;box-shadow:0 2px 8px #00000014;overflow:hidden}.tab-content[_ngcontent-%COMP%]{padding:30px;animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.content-header[_ngcontent-%COMP%]{margin-bottom:30px}.content-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;color:#2c3e50;margin:0 0 8px}.content-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#7f8c8d;margin:0;font-size:14px}.profile-section[_ngcontent-%COMP%], .security-section[_ngcontent-%COMP%]{background:#f9f9f9;border-radius:12px;padding:20px;margin-bottom:20px}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:15px;border-bottom:2px solid #e0e0e0}.section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px;color:#2c3e50;font-weight:600}.section-desc[_ngcontent-%COMP%]{color:#7f8c8d;font-size:14px;margin:0 0 20px;line-height:1.5}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.info-label[_ngcontent-%COMP%]{font-size:12px;color:#95a5a6;text-transform:uppercase;font-weight:600;letter-spacing:.5px}.info-value[_ngcontent-%COMP%]{font-size:15px;color:#2c3e50;font-weight:500;display:flex;align-items:center;gap:8px}.info-value-with-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 10px;border-radius:20px;font-size:11px;font-weight:600;background:#fff3cd;color:#856404;white-space:nowrap}.status-badge.verified[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.quick-actions[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:20px;padding-top:20px;border-top:2px solid #e0e0e0}.quick-action-btn[_ngcontent-%COMP%]{padding:10px 15px;background:#fff;border:2px solid #667eea;color:#667eea;border-radius:8px;cursor:pointer;font-weight:500;font-size:13px;transition:all .2s;display:flex;align-items:center;gap:6px}.quick-action-btn[_ngcontent-%COMP%]:hover{background:#667eea;color:#fff}.profile-form[_ngcontent-%COMP%]{background:#f9f9f9;border-radius:12px;padding:25px}.profile-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;color:#2c3e50;margin:0 0 10px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#2c3e50;margin-bottom:8px;font-size:14px}.form-group[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#e74c3c}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:12px 15px;border:2px solid #e0e0e0;border-radius:8px;font-size:14px;font-family:inherit;transition:all .2s;background:#fff}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{background:#f5f5f5;cursor:not-allowed;opacity:.6}.field-hint[_ngcontent-%COMP%]{display:block;margin-top:6px;color:#7f8c8d;font-size:12px}.password-input-group[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.password-input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.toggle-password[_ngcontent-%COMP%]{position:absolute;right:15px;background:transparent;border:none;color:#667eea;cursor:pointer;font-size:16px;padding:0}.toggle-password[_ngcontent-%COMP%]:hover{opacity:.7}.form-actions[_ngcontent-%COMP%]{display:flex;gap:12px;margin-top:25px;padding-top:20px;border-top:2px solid #e0e0e0}.btn[_ngcontent-%COMP%]{padding:12px 20px;border:none;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s;display:inline-flex;align-items:center;gap:8px}.btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;box-shadow:0 4px 15px #667eea66}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px #667eea99}.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#667eea;border:2px solid #667eea}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#f0f4ff}.btn-sm[_ngcontent-%COMP%]{padding:8px 12px;font-size:12px}.info-box[_ngcontent-%COMP%]{background:#e3f2fd;border-left:4px solid #2196f3;padding:15px;border-radius:4px;margin-bottom:20px}.info-box.info-alert[_ngcontent-%COMP%]{background:#e3f2fd;border-left:4px solid #2196f3;display:flex;gap:12px}.info-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#2196f3;margin-top:2px}.info-box[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1}.info-box[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#2196f3}.section-card[_ngcontent-%COMP%]{background:#f9f9f9;border-radius:12px;padding:20px;margin-bottom:20px;border:1px solid #e0e0e0}.badge-coming[_ngcontent-%COMP%]{display:inline-block;padding:4px 8px;background:#e0e0e0;color:#666;border-radius:4px;font-size:11px;font-weight:600}.active-session[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background:#fff;padding:15px;border-radius:8px;border:1px solid #e0e0e0}.session-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.session-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;color:#667eea}.session-device[_ngcontent-%COMP%]{margin:0;color:#2c3e50;font-weight:500;font-size:14px}.session-location[_ngcontent-%COMP%]{margin:4px 0 0;color:#7f8c8d;font-size:12px}.session-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 10px;background:#d4edda;color:#155724;border-radius:20px;font-size:11px;font-weight:600}.notifications-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.notification-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background:#f9f9f9;padding:20px;border-radius:12px;border:1px solid #e0e0e0}.notification-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 5px;color:#2c3e50;font-size:15px;font-weight:600}.notification-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#7f8c8d;font-size:13px}.toggle-switch[_ngcontent-%COMP%]{width:50px;height:24px;cursor:pointer;accent-color:#667eea}.alert[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;padding:15px 20px;border-radius:8px;display:flex;align-items:center;gap:12px;font-size:14px;box-shadow:0 4px 12px #00000026;z-index:100;animation:_ngcontent-%COMP%_slideIn .3s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translate(20px)}to{opacity:1;transform:translate(0)}}.alert-error[_ngcontent-%COMP%]{background:#ffebee;color:#c62828;border-left:4px solid #f44336}.alert-success[_ngcontent-%COMP%]{background:#e8f5e9;color:#2e7d32;border-left:4px solid #4caf50}@media (max-width: 1024px){.user-profile-container[_ngcontent-%COMP%]{gap:15px}.profile-sidebar[_ngcontent-%COMP%]{width:250px;padding:20px}.info-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){.user-profile-container[_ngcontent-%COMP%]{flex-direction:column;padding:10px}.profile-sidebar[_ngcontent-%COMP%]{width:100%;position:relative;top:0}.tab-content[_ngcontent-%COMP%]{padding:20px}.info-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.section-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.quick-actions[_ngcontent-%COMP%]{flex-direction:column}.quick-action-btn[_ngcontent-%COMP%]{width:100%}.form-actions[_ngcontent-%COMP%]{flex-direction:column}.form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}.alert[_ngcontent-%COMP%]{left:10px;right:10px;bottom:10px}.notification-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:15px}.sidebar-menu[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}}@media (max-width: 480px){.user-profile-container[_ngcontent-%COMP%]{padding:5px}.profile-sidebar[_ngcontent-%COMP%]{padding:15px}.user-avatar[_ngcontent-%COMP%]   .avatar-placeholder[_ngcontent-%COMP%]{width:60px;height:60px;font-size:30px}.user-name[_ngcontent-%COMP%]{font-size:16px}.tab-content[_ngcontent-%COMP%], .profile-form[_ngcontent-%COMP%]{padding:15px}.section-header[_ngcontent-%COMP%]{gap:10px}.section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px}.sidebar-menu[_ngcontent-%COMP%]{grid-template-columns:1fr}.menu-item[_ngcontent-%COMP%]{padding:10px 12px;font-size:13px}}.orders-summary[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin-bottom:30px}.summary-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:25px;border-radius:12px;text-align:center;box-shadow:0 4px 15px #667eea33}.summary-value[_ngcontent-%COMP%]{font-size:32px;font-weight:700;margin-bottom:10px}.summary-label[_ngcontent-%COMP%]{font-size:14px;opacity:.9}.orders-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;box-shadow:0 2px 8px #00000014}.orders-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.order-item[_ngcontent-%COMP%]{border:1px solid #e0e0e0;border-radius:8px;padding:15px;transition:all .3s ease}.order-item[_ngcontent-%COMP%]:hover{border-color:#667eea;box-shadow:0 4px 12px #667eea1a}.order-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;flex-wrap:wrap;gap:10px}.order-id[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.order-id[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50;font-size:14px}.order-id[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:12px;color:#7f8c8d}.order-amount[_ngcontent-%COMP%]{text-align:right;display:flex;flex-direction:column;gap:4px}.order-amount[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:700;color:#667eea;font-size:16px}.order-amount[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]{font-size:12px;color:#7f8c8d}.order-status[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:10px;padding-top:12px;border-top:1px solid #f0f0f0}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:6px 12px;border-radius:20px;font-size:12px;font-weight:600;text-transform:uppercase}.status-badge.pending[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.btn-text[_ngcontent-%COMP%]{background:none;border:none;color:#667eea;cursor:pointer;font-size:13px;font-weight:600;display:flex;align-items:center;gap:6px;transition:all .3s ease;padding:6px 12px;border-radius:6px}.btn-text[_ngcontent-%COMP%]:hover{background:#667eea1a;color:#764ba2}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;background:#f9f9f9;border-radius:12px}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:48px;color:#ddd;margin-bottom:15px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#2c3e50;margin:15px 0}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#7f8c8d;margin-bottom:20px}.order-details[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:15px;margin:15px 0;padding:15px 0;border-top:1px solid #f0f0f0;border-bottom:1px solid #f0f0f0}.detail-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.detail-label[_ngcontent-%COMP%]{font-size:12px;color:#7f8c8d;text-transform:uppercase;font-weight:600}.detail-value[_ngcontent-%COMP%]{font-size:14px;color:#2c3e50;font-weight:500}.order-status-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:6px 12px;border-radius:20px;font-size:11px;font-weight:700;text-transform:uppercase}.status-badge.status-pending[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.status-badge.status-confirmed[_ngcontent-%COMP%]{background:#d1ecf1;color:#0c5460}.status-badge.status-processing[_ngcontent-%COMP%]{background:#cfe2ff;color:#084298}.status-badge.status-shipped[_ngcontent-%COMP%], .status-badge.status-delivered[_ngcontent-%COMP%]{background:#d1e7dd;color:#0f5132}.status-badge.status-cancelled[_ngcontent-%COMP%]{background:#f8d7da;color:#842029}.order-actions[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap;padding-top:12px}.action-btn[_ngcontent-%COMP%]{padding:8px 14px;border:1px solid #ddd;border-radius:6px;font-size:12px;font-weight:600;cursor:pointer;display:flex;align-items:center;gap:6px;transition:all .3s ease;background:#fff;white-space:nowrap}.action-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:13px}.action-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline}.action-btn.btn-info[_ngcontent-%COMP%]{color:#06c;border-color:#06c}.action-btn.btn-info[_ngcontent-%COMP%]:hover:not(:disabled){background:#06c;color:#fff}.action-btn.btn-primary[_ngcontent-%COMP%]{color:#667eea;border-color:#667eea}.action-btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#667eea;color:#fff}.action-btn.btn-success[_ngcontent-%COMP%]{color:#25d366;border-color:#25d366}.action-btn.btn-success[_ngcontent-%COMP%]:hover:not(:disabled){background:#25d366;color:#fff}.action-btn.btn-danger[_ngcontent-%COMP%]{color:#dc3545;border-color:#dc3545}.action-btn.btn-danger[_ngcontent-%COMP%]:hover:not(:disabled){background:#dc3545;color:#fff}.action-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;background:#f5f5f5}.loading-state[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#667eea;font-size:14px;display:flex;align-items:center;justify-content:center;gap:10px}.loading-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.alert[_ngcontent-%COMP%]{padding:12px 16px;border-radius:8px;margin-bottom:15px;display:flex;align-items:center;gap:10px;font-size:13px}.alert-error[_ngcontent-%COMP%]{background:#f8d7da;color:#842029;border:1px solid #f5c2c7}.alert-success[_ngcontent-%COMP%]{background:#d1e7dd;color:#0f5132;border:1px solid #badbcc}.alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.btn-close[_ngcontent-%COMP%]{background:none;border:none;color:inherit;font-size:18px;cursor:pointer;margin-left:auto;padding:0}.btn-close[_ngcontent-%COMP%]:hover{opacity:.7}@media (max-width: 768px){.order-details[_ngcontent-%COMP%]{grid-template-columns:1fr}.order-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.order-status-badge[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.action-btn[_ngcontent-%COMP%]{flex:1;min-width:100px;justify-content:center}.action-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.action-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:0}}"]})}}return t})(),vH=(()=>{class t{constructor(){this.authService=w(Qe),this.analyticsService=w(gr),this.cartService=w(fr),this.productService=w(hs),this.supportBusinessNumber="919951130198"}generateOrderConfirmationMessage(e,o){const r=new Date(o.timestamp||Date.now()).toLocaleDateString("en-IN"),i=new Date(o.timestamp||Date.now()).toLocaleTimeString("en-IN");let s="";return o.items&&Array.isArray(o.items)&&(s=o.items.map((u,g)=>`${g+1}. ${u.name||u.productName}\n   Qty: ${u.quantity} \xd7 \u20b9${u.price}`).join("\n")),`\u{1f389} *Order Confirmation - VSP Electronics* \u{1f389}\n\nHello ${e.name},\n\nThank you for your order! Your order has been successfully placed.\n\n\u{1f4cb} *Order Details:*\nOrder ID: ${o.orderId||"TXN"+Date.now()}\nDate: ${r}\nTime: ${i}\n\n\u{1f4e6} *Items Ordered:*\n${s||"Items: "+(o.items||"See order details")}\n\n\u{1f4b0} *Order Summary:*\nSubtotal: \u20b9${o.subtotal||o.amount||0}\nShipping: \u20b9${o.shipping||0}\n*Total Amount: \u20b9${o.amount||o.total||0}*\n\n\u2705 *What's Next:*\n1. Your order is being processed\n2. You'll receive tracking details within 24 hours\n3. Estimated delivery: 3-5 business days\n\n\u{1f4de} *Need Help?*\nFor order queries, reach out to us at:\nWhatsApp: https://wa.me/${this.supportBusinessNumber}\nEmail: support@vspelectronics.com\n\nThank you for choosing VSP Electronics!\n\nBest regards,\nVSP Electronics Team`}getUserOrders(){const e=this.authService.currentUser();return e?this.analyticsService.getTransactions().filter(r=>r.userId===e.id&&"order"===r.type):[]}getUserCart(){return this.cartService.getCartItems()}generateProductInquiryMessage(e,o){return`Hi VSP Electronics Team,\n\nI am interested in your products. I would like to know more about:\n${o?`- ${o}`:"- Your available products and specifications"}\n\nPlease share:\n\u2713 Product details and specifications\n\u2713 Pricing and available variants\n\u2713 Delivery timeline\n\u2713 Any bulk discounts available\n\nMy contact details:\nName: ${e.name}\nPhone: ${e.phone}\nEmail: ${e.email}\n\nLooking forward to hearing from you.\n\nThank you!`}generateOrderStatusMessage(e){const o=this.getUserOrders(),i=o.length>0?o[o.length-1]:null;let s=`Hi VSP Electronics Team,\n\nI would like to check the status of my order(s).\n\nMy Details:\nName: ${e.name}\nPhone: ${e.phone}\nEmail: ${e.email}`;return i&&(s+=`\n\nLast Order Details:\nOrder Date: ${new Date(i.timestamp).toLocaleDateString("en-IN")}\nItems Ordered: ${i.items}\nAmount: \u20b9${i.amount}`),s+="\n\nPlease provide:\n\u2713 Current order status\n\u2713 Estimated delivery date\n\u2713 Tracking information (if available)\n\u2713 Any updates on pending orders\n\nThank you!",s}generateTechnicalSupportMessage(e,o){return`Hi VSP Electronics Team,\n\nI need technical support for ${o?`my ${o}`:"my recent purchase"}.\n\nMy Details:\nName: ${e.name}\nPhone: ${e.phone}\nEmail: ${e.email}\n\nIssues/Questions:\n- Please let me know what technical assistance you can provide\n- I can provide more details about the issue\n\nCould you please help me with:\n\u2713 Troubleshooting assistance\n\u2713 Product documentation\n\u2713 Replacement/warranty information (if applicable)\n\u2713 Setup and configuration help\n\nThank you for your support!`}generateBulkOrderMessage(e,o,r){return`Hi VSP Electronics Team,\n\nI am interested in placing a bulk order.\n\nMy Details:\nName: ${e.name}\nPhone: ${e.phone}\nEmail: ${e.email}\n\nOrder Requirements:\n${o?`Approximate Quantity: ${o} units`:"Quantity: To be discussed"}\n${r?`Category: ${r}`:"Category: Open to suggestions"}\n\nCould you please provide:\n\u2713 Bulk pricing and available discounts\n\u2713 Minimum order quantity requirements\n\u2713 Lead time for bulk orders\n\u2713 Payment terms and conditions\n\u2713 Delivery options\n\u2713 Warranty and support for bulk orders\n\nI look forward to discussing this opportunity with you.\n\nThank you!`}generateReadyToDeliverMessage(e,o){return`Hi ${e.name},\n\nGood news! Your requested products are now ready for delivery:\n\n${o.map((i,s)=>`${s+1}. ${i}`).join("\n")}\n\nYour Contact Details:\nPhone: ${e.phone}\nEmail: ${e.email}\n\nWe can ship these items immediately. Please confirm:\n\u2713 Delivery address\n\u2713 Preferred delivery time\n\u2713 Any special delivery instructions\n\nClick on the link below or reply to confirm your delivery details:\nhttps://localhost:4200/order-confirmation\n\nThank you for your order!\nVSP Electronics Team`}generateQuoteRequestMessage(e,o){let r="";return o&&o.length>0&&(r=o.map(s=>`- ${s.name} (Qty: ${s.quantity})`).join("\n")),`Hi VSP Electronics Team,\n\nI would like to request a quote for the following items:\n\n${r||"Please provide a list of available products and pricing"}\n\nMy Details:\nName: ${e.name}\nPhone: ${e.phone}\nEmail: ${e.email}\n\nRequired Details:\n\u2713 Item-wise pricing\n\u2713 Total amount\n\u2713 Delivery timeline\n\u2713 Payment terms\n\u2713 Any available discounts\n\nPlease send me a detailed quote at your earliest convenience.\n\nThank you!`}sendToBusinessNumber(e){const o=encodeURIComponent(e);window.open(`https://wa.me/${this.supportBusinessNumber}?text=${o}`,"_blank")}sendOrderConfirmationToCustomer(e,o){const r=this.authService.currentUser();if(!r)return console.error("No user logged in"),!1;const i=o||r.phone;if(!i)return console.error("No phone number found for customer"),!1;const s=this.generateOrderConfirmationMessage(r,e),l=encodeURIComponent(s);let u=i.replace(/\D/g,"");u.startsWith("91")||(u="91"+u);const g=`https://wa.me/${u}?text=${l}`;return console.log("\u{1f4f1} Sending order confirmation to:",i),window.open(g,"_blank"),!0}sendToUserNumber(e,o){const r=encodeURIComponent(o);window.open(`https://wa.me/${e}?text=${r}`,"_blank")}getMessageTemplates(){return this.authService.currentUser()?[{title:"Product Inquiry",template:"Ask about product details and pricing",generateMessage:o=>this.generateProductInquiryMessage(o)},{title:"Order Status",template:"Check your order status",generateMessage:o=>this.generateOrderStatusMessage(o)},{title:"Technical Support",template:"Get technical assistance",generateMessage:o=>this.generateTechnicalSupportMessage(o)},{title:"Bulk Order",template:"Place a bulk order inquiry",generateMessage:o=>this.generateBulkOrderMessage(o)}]:[{title:"Product Inquiry",template:"Ask about product details and pricing",generateMessage:()=>"Hi, I would like to know more about your products."},{title:"Order Status",template:"Check your order status",generateMessage:()=>"Hi, I would like to check my order status."},{title:"Technical Support",template:"Get technical assistance",generateMessage:()=>"Hi, I need technical support for my purchase."},{title:"Bulk Order",template:"Place a bulk order inquiry",generateMessage:()=>"Hi, I am interested in placing a bulk order."}]}sendVerificationCodeViaWhatsapp(e,o,r="signup"){try{if(!e||e.length<10)return{success:!1,message:"Invalid phone number"};let i=e.replace(/\D/g,"");10===i.length&&(i="91"+i);const l={signup:`\u{1f389} *Welcome to VSP Electronics!*\n\nYour verification code is:\n\n*${o}*\n\nThis code expires in 24 hours.\n\nIf you didn't sign up, please ignore this message.`,"password-reset":`\u{1f510} *Password Reset Request*\n\nYour password reset code is:\n\n*${o}*\n\nThis code expires in 24 hours.\n\nIf you didn't request this, please ignore this message.`,"email-change":`\u{1f512} *Confirm Email Change*\n\nYour email change verification code is:\n\n*${o}*\n\nThis code expires in 24 hours.\n\nIf you didn't request this, please ignore this message.`}[r],u=`https://wa.me/${i}?text=${encodeURIComponent(l)}`;return typeof window<"u"&&window.open(u,"_blank"),console.log(`\u2705 WhatsApp verification code sent to ${i}`),{success:!0,message:`Verification code sent via WhatsApp to ${e}`}}catch(i){return console.error("WhatsApp verification error:",i),{success:!1,message:"Failed to send WhatsApp message. Please try again."}}}generateVerificationMessage(e,o,r="signup"){return`${{signup:"\u{1f389} Welcome to VSP Electronics! Your verification code is","password-reset":"\u{1f510} Password Reset Request. Your verification code is","email-change":"\u{1f512} Confirm Email Change. Your verification code is"}[r]}:\n\n*${o}*\n\nThis code expires in 24 hours.`}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function CH(t,n){if(1&t&&(a(0,"div",29)(1,"h2",24),d(2),c(),a(3,"p"),d(4,"Your registered mobile: "),a(5,"strong"),d(6),c()(),a(7,"p"),d(8,"We'll use your details to provide personalized responses to your inquiries."),c()()),2&t){const e=f();p(2),D("\u{1f44b} Welcome, ",null==e.currentUser?null:e.currentUser.name,"!"),p(4),S(e.currentUserPhone)}}function xH(t,n){1&t&&(a(0,"div",30),b(1,"i",31),a(2,"span"),d(3,"Please login with your phone number to receive personalized WhatsApp responses."),c()())}function MH(t,n){if(1&t){const e=R();a(0,"button",37),C("click",function(){const r=y(e).$implicit;return v(f(2).selectTemplate(r))}),a(1,"div",38),d(2),c(),a(3,"div",39),d(4),c()()}if(2&t){const e=n.$implicit,o=f(2);oo("border",(null==o.selectedTemplate?null:o.selectedTemplate.title)===e.title?"2px solid #4caf50":"2px solid #ddd")("background-color",(null==o.selectedTemplate?null:o.selectedTemplate.title)===e.title?"#e8f5e9":"white"),p(2),S(e.title),p(2),S(e.template)}}function PH(t,n){if(1&t&&(a(0,"div",40)(1,"h3",24),d(2,"\u{1f4dd} Message Preview:"),c(),a(3,"pre",41),d(4),c()()),2&t){const e=f(2);p(4),S(e.getMessagePreview())}}function wH(t,n){if(1&t&&(a(0,"div",32)(1,"h2"),d(2,"Select a Message Template"),c(),a(3,"p",33),d(4,"Choose a pre-written message that matches your need"),c(),a(5,"div",34),P(6,MH,5,6,"button",35),c(),P(7,PH,5,1,"div",36),c()),2&t){const e=f();p(6),h("ngForOf",e.messageTemplates),p(),h("ngIf",e.selectedTemplate)}}function OH(t,n){if(1&t&&(a(0,"div",45)(1,"h3",24),d(2,"\u{1f4dd} Message Preview:"),c(),a(3,"pre",41),d(4),c()()),2&t){const e=f(2);p(4),S(e.getMessagePreview())}}function kH(t,n){if(1&t){const e=R();a(0,"div",42)(1,"h2"),d(2,"Write Your Message"),c(),a(3,"textarea",43),A("ngModelChange",function(r){y(e);const i=f();return F(i.customMessage,r)||(i.customMessage=r),v(r)}),c(),P(4,OH,5,1,"div",44),c()}if(2&t){const e=f();p(3),E("ngModel",e.customMessage),p(),h("ngIf",e.customMessage)}}function DH(t,n){if(1&t){const e=R();a(0,"button",46),C("click",function(){return y(e),v(f().sendMessageToCustomer())}),b(1,"i",3),d(2," Send to My Number "),c()}}function SH(t,n){if(1&t&&(a(0,"div",52)(1,"div")(2,"strong"),d(3),c(),d(4),c(),a(5,"div",53),d(6),Q(7,"date"),c()()),2&t){const e=n.$implicit;p(3),D("",e.items," items"),p(),D(" - \u20b9",e.amount," "),p(2),D(" ",pt(7,3,e.timestamp,"short")," ")}}function IH(t,n){if(1&t&&(a(0,"div",47)(1,"h3",48),d(2,"\u{1f4e6} Your Recent Orders"),c(),a(3,"div",49),P(4,SH,8,6,"div",50),c(),a(5,"p",51),d(6,' \u{1f4a1} Use "Order Status" template to check delivery updates '),c()()),2&t){const e=f();p(4),h("ngForOf",e.getUserOrders())}}let TH=(()=>{class t{constructor(){this.authService=w(Qe),this.whatsappService=w(vH),this.currentUser=null,this.isUserLoggedIn=!1,this.currentUserPhone=null,this.messageTemplates=[],this.selectedTemplate=null,this.customMessage="",this.selectedMessageType="predefined"}ngOnInit(){this.currentUser=this.authService.currentUser(),this.currentUser&&this.currentUser.phone&&(this.isUserLoggedIn=!0,this.currentUserPhone=this.currentUser.phone),this.messageTemplates=this.whatsappService.getMessageTemplates(),this.messageTemplates.length>0&&(this.selectedTemplate=this.messageTemplates[0])}selectMessageType(e){this.selectedMessageType=e}selectTemplate(e){this.selectedTemplate=e}getCurrentMessage(){return"custom"===this.selectedMessageType?this.customMessage:this.selectedTemplate&&this.currentUser?this.selectedTemplate.generateMessage(this.currentUser):""}sendMessageToBusinessNumber(){const e=this.getCurrentMessage();e.trim()&&this.whatsappService.sendToBusinessNumber(e)}sendMessageToCustomer(){if(!this.isUserLoggedIn||!this.currentUserPhone)return void alert("Please login to receive messages");const e=this.getCurrentMessage();e.trim()&&this.whatsappService.sendToUserNumber(this.currentUserPhone,e)}getMessagePreview(){return this.getCurrentMessage()}getUserOrders(){return this.whatsappService.getUserOrders()}getUserCart(){return this.whatsappService.getUserCart()}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=se({type:t,selectors:[["app-whatsapp"]],standalone:!0,features:[ae],decls:83,vars:15,consts:[[1,"whatsapp-container"],[1,"whatsapp-header"],[1,"icon-wrapper"],[1,"fab","fa-whatsapp"],[1,"whatsapp-content"],["class","user-info-section","style","background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border-radius: 8px; padding: 20px; margin-bottom: 30px;",4,"ngIf"],["class","login-prompt","style","background-color: #fff3e0; border-left: 4px solid #ff9800; border-radius: 4px; padding: 15px; margin-bottom: 30px;",4,"ngIf"],[1,"message-type-selection",2,"margin-bottom","30px"],[2,"display","flex","gap","15px","flex-wrap","wrap"],[2,"padding","12px 20px","border","none","border-radius","4px","cursor","pointer","font-weight","bold","transition","all 0.3s",3,"click"],["class","template-selection","style","margin-bottom: 30px;",4,"ngIf"],["class","custom-message-input","style","margin-bottom: 30px;",4,"ngIf"],[1,"action-buttons",2,"display","flex","gap","15px","margin-bottom","30px","flex-wrap","wrap"],[1,"btn","btn-success",2,"flex","1","min-width","200px","padding","15px","font-size","16px","font-weight","bold",3,"click"],["class","btn btn-info","style","flex: 1; min-width: 200px; padding: 15px; font-size: 16px; font-weight: bold; background-color: #2196F3;",3,"click",4,"ngIf"],["class","user-orders","style","background-color: #e3f2fd; border-radius: 8px; padding: 20px; margin-bottom: 30px;",4,"ngIf"],[1,"benefits"],[1,"benefit-list",2,"display","grid","grid-template-columns","repeat(auto-fit, minmax(250px, 1fr))","gap","20px"],[1,"benefit-item",2,"text-align","center"],[1,"fas","fa-bolt",2,"font-size","32px","color","#4caf50","margin-bottom","10px"],[1,"fas","fa-user-check",2,"font-size","32px","color","#4caf50","margin-bottom","10px"],[1,"fas","fa-images",2,"font-size","32px","color","#4caf50","margin-bottom","10px"],[1,"fas","fa-shield-alt",2,"font-size","32px","color","#4caf50","margin-bottom","10px"],[1,"info-box",2,"background-color","#f5f5f5","border-left","4px solid #4caf50","border-radius","4px","padding","20px","margin-top","30px"],[2,"margin-top","0"],[2,"line-height","1.8"],[1,"contact-note",2,"text-align","center","padding","20px","background-color","#e8f5e9","border-radius","4px","margin-top","30px"],[2,"margin","0","color","#2e7d32"],[1,"fas","fa-info-circle"],[1,"user-info-section",2,"background","linear-gradient(135deg, #667eea 0%, #764ba2 100%)","color","white","border-radius","8px","padding","20px","margin-bottom","30px"],[1,"login-prompt",2,"background-color","#fff3e0","border-left","4px solid #ff9800","border-radius","4px","padding","15px","margin-bottom","30px"],[1,"fas","fa-exclamation-circle",2,"color","#ff9800","margin-right","10px"],[1,"template-selection",2,"margin-bottom","30px"],[1,"subtitle"],[1,"template-buttons",2,"display","grid","grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))","gap","15px","margin-bottom","20px"],["style","padding: 15px; border-radius: 4px; cursor: pointer; text-align: left; transition: all 0.3s; box-shadow: 0 2px 4px rgba(0,0,0,0.1);",3,"border","background-color","click",4,"ngFor","ngForOf"],["class","message-preview","style","background-color: #f5f5f5; border-radius: 4px; padding: 15px; margin-bottom: 20px; max-height: 300px; overflow-y: auto;",4,"ngIf"],[2,"padding","15px","border-radius","4px","cursor","pointer","text-align","left","transition","all 0.3s","box-shadow","0 2px 4px rgba(0,0,0,0.1)",3,"click"],[2,"font-weight","bold","color","#333"],[2,"font-size","12px","color","#666","margin-top","5px"],[1,"message-preview",2,"background-color","#f5f5f5","border-radius","4px","padding","15px","margin-bottom","20px","max-height","300px","overflow-y","auto"],[2,"white-space","pre-wrap","word-wrap","break-word","font-family","Arial, sans-serif","color","#333"],[1,"custom-message-input",2,"margin-bottom","30px"],["placeholder","Write your message here... (We'll include your contact details automatically if you're logged in)",2,"width","100%","min-height","200px","padding","12px","border","1px solid #ddd","border-radius","4px","font-family","Arial, sans-serif","font-size","14px","resize","vertical",3,"ngModelChange","ngModel"],["class","message-preview","style","background-color: #f5f5f5; border-radius: 4px; padding: 15px; margin-top: 15px; max-height: 300px; overflow-y: auto;",4,"ngIf"],[1,"message-preview",2,"background-color","#f5f5f5","border-radius","4px","padding","15px","margin-top","15px","max-height","300px","overflow-y","auto"],[1,"btn","btn-info",2,"flex","1","min-width","200px","padding","15px","font-size","16px","font-weight","bold","background-color","#2196F3",3,"click"],[1,"user-orders",2,"background-color","#e3f2fd","border-radius","8px","padding","20px","margin-bottom","30px"],[2,"margin-top","0","color","#1976d2"],[2,"max-height","200px","overflow-y","auto"],["style","padding: 10px; border-bottom: 1px solid #bbdefb; display: flex; justify-content: space-between;",4,"ngFor","ngForOf"],[2,"margin-top","10px","margin-bottom","0","font-size","12px","color","#1976d2"],[2,"padding","10px","border-bottom","1px solid #bbdefb","display","flex","justify-content","space-between"],[2,"font-size","12px","color","#666"]],template:function(o,r){1&o&&(a(0,"div",0)(1,"div",1)(2,"div",2),b(3,"i",3),c(),a(4,"h1"),d(5,"Connect with us on WhatsApp"),c(),a(6,"p"),d(7,"Get instant support and personalized assistance for all your queries"),c()(),a(8,"div",4),P(9,CH,9,2,"div",5)(10,xH,4,0,"div",6),a(11,"div",7)(12,"h2"),d(13,"Choose How to Connect"),c(),a(14,"div",8)(15,"button",9),C("click",function(){return r.selectMessageType("predefined")}),d(16," \u{1f4cb} Use Template "),c(),a(17,"button",9),C("click",function(){return r.selectMessageType("custom")}),d(18," \u270f\ufe0f Write Custom Message "),c()()(),P(19,wH,8,2,"div",10)(20,kH,5,2,"div",11),a(21,"div",12)(22,"button",13),C("click",function(){return r.sendMessageToBusinessNumber()}),b(23,"i",3),d(24," Send to VSP Electronics "),c(),P(25,DH,3,0,"button",14),c(),P(26,IH,7,1,"div",15),a(27,"div",16)(28,"h2"),d(29,"Why Choose WhatsApp Support?"),c(),a(30,"div",17)(31,"div",18),b(32,"i",19),a(33,"h3"),d(34,"\u26a1 Instant Response"),c(),a(35,"p"),d(36,"Get quick answers to your questions within minutes"),c()(),a(37,"div",18),b(38,"i",20),a(39,"h3"),d(40,"\u{1f464} Personalized Service"),c(),a(41,"p"),d(42,"We recognize you and provide customized responses"),c()(),a(43,"div",18),b(44,"i",21),a(45,"h3"),d(46,"\u{1f4f8} Share Images"),c(),a(47,"p"),d(48,"Send photos of products or issues for better assistance"),c()(),a(49,"div",18),b(50,"i",22),a(51,"h3"),d(52,"\u{1f512} Secure & Private"),c(),a(53,"p"),d(54,"Your conversations are encrypted and confidential"),c()()()(),a(55,"div",23)(56,"h3",24),d(57,"\u2139\ufe0f How It Works"),c(),a(58,"ol",25)(59,"li")(60,"strong"),d(61,"Choose or Write:"),c(),d(62," Select a template or write your custom message"),c(),a(63,"li")(64,"strong"),d(65,"Preview:"),c(),d(66," Check the message preview before sending"),c(),a(67,"li")(68,"strong"),d(69,"Send:"),c(),d(70,' Click "Send to VSP Electronics" to start chatting'),c(),a(71,"li")(72,"strong"),d(73,"Receive:"),c(),d(74," We'll respond with all the information you need"),c(),a(75,"li")(76,"strong"),d(77,"Personalized Service:"),c(),d(78," If logged in, we'll use your details for better assistance"),c()()(),a(79,"div",26)(80,"p",27),b(81,"i",28),d(82),c()()()()),2&o&&(p(9),h("ngIf",r.isUserLoggedIn),p(),h("ngIf",!r.isUserLoggedIn),p(5),oo("background-color","predefined"===r.selectedMessageType?"#4caf50":"#f0f0f0")("color","predefined"===r.selectedMessageType?"white":"#333"),p(2),oo("background-color","custom"===r.selectedMessageType?"#4caf50":"#f0f0f0")("color","custom"===r.selectedMessageType?"white":"#333"),p(2),h("ngIf","predefined"===r.selectedMessageType),p(),h("ngIf","custom"===r.selectedMessageType),p(5),h("ngIf",r.isUserLoggedIn),p(),h("ngIf",r.isUserLoggedIn&&r.getUserOrders().length>0),p(56),D(" Your phone number (",r.currentUserPhone||"from signup",") will be shared so we can reach back to you directly. "))},dependencies:[pe,De,ve,kd,nt,et,rt,tt],styles:[".whatsapp-container[_ngcontent-%COMP%]{max-width:1200px;margin:40px auto;padding:0 20px}.whatsapp-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:50px}.icon-wrapper[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:100px;height:100px;background:linear-gradient(135deg,#25d366,#128c7e);border-radius:50%;margin-bottom:20px;box-shadow:0 4px 15px #25d3664d}.icon-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:50px;color:#fff}.whatsapp-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;color:var(--primary-brown);margin-bottom:10px}.whatsapp-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;color:#666}.whatsapp-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:40px}.benefits[_ngcontent-%COMP%]{background:#fff;padding:40px;border-radius:12px;box-shadow:0 2px 8px #0000001a}.benefits[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;color:var(--primary-brown);margin-bottom:25px;text-align:center}.benefit-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:25px}.benefit-item[_ngcontent-%COMP%]{display:flex;gap:15px;align-items:flex-start}.benefit-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:28px;color:#25d366;flex-shrink:0}.benefit-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;color:#333;margin-bottom:5px}.benefit-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#666;margin:0}.quick-messages[_ngcontent-%COMP%]{background:#fff;padding:40px;border-radius:12px;box-shadow:0 2px 8px #0000001a}.quick-messages[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;color:var(--primary-brown);margin-bottom:10px;text-align:center}.subtitle[_ngcontent-%COMP%]{text-align:center;color:#666;margin-bottom:30px}.message-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px}.message-card[_ngcontent-%COMP%]{background:#f8f9fa;padding:25px;border-radius:10px;border:2px solid transparent;cursor:pointer;transition:all .3s ease}.message-card[_ngcontent-%COMP%]:hover{border-color:#25d366;transform:translateY(-3px);box-shadow:0 4px 12px #25d36633}.message-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;color:#333;margin-bottom:10px}.message-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#666;margin-bottom:15px;line-height:1.5}.message-card[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}.custom-message[_ngcontent-%COMP%]{text-align:center;background:#fff;padding:40px;border-radius:12px;box-shadow:0 2px 8px #0000001a}.custom-message[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;color:var(--primary-brown);margin-bottom:25px}.btn-large[_ngcontent-%COMP%]{padding:15px 40px;font-size:18px}.btn-success[_ngcontent-%COMP%]{background:#25d366;color:#fff;border:none}.btn-success[_ngcontent-%COMP%]:hover{background:#128c7e}.contact-info[_ngcontent-%COMP%]{text-align:center}.note[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:10px;padding:15px 25px;background:#fff3cd;border:1px solid #ffc107;border-radius:8px;color:#856404;font-size:14px}.note[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}@media (max-width: 768px){.whatsapp-container[_ngcontent-%COMP%]{margin:20px auto}.whatsapp-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.whatsapp-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.benefits[_ngcontent-%COMP%], .quick-messages[_ngcontent-%COMP%], .custom-message[_ngcontent-%COMP%]{padding:25px 20px}.benefit-list[_ngcontent-%COMP%], .message-cards[_ngcontent-%COMP%]{grid-template-columns:1fr}.btn-large[_ngcontent-%COMP%]{padding:12px 30px;font-size:16px}}"]})}}return t})();function EH(t,n){if(1&t&&(a(0,"tr")(1,"td"),d(2),c(),a(3,"td"),d(4),c(),a(5,"td")(6,"span",42),d(7),Q(8,"titlecase"),c()(),a(9,"td"),d(10),c(),a(11,"td"),d(12),c()()),2&t){const e=n.$implicit,o=f(2);p(2),D("#",e.id.slice(-6),""),p(2),S(e.userName),p(2),B("badge-order","order"===e.type)("badge-quote","quote"===e.type)("badge-cart","cart"===e.type),p(),D(" ",Ne(8,11,e.type)," "),p(3),S(e.items),p(2),S(o.formatDate(e.timestamp))}}function AH(t,n){if(1&t&&(a(0,"div",40)(1,"table")(2,"thead")(3,"tr")(4,"th"),d(5,"ID"),c(),a(6,"th"),d(7,"User"),c(),a(8,"th"),d(9,"Type"),c(),a(10,"th"),d(11,"Items"),c(),a(12,"th"),d(13,"Date & Time"),c()()(),a(14,"tbody"),P(15,EH,13,13,"tr",41),c()()()),2&t){const e=f();p(15),h("ngForOf",e.recentTransactions)}}function NH(t,n){1&t&&(a(0,"div",43),b(1,"i",44),a(2,"p"),d(3,"No transactions yet today"),c()())}let FH=(()=>{class t{constructor(){this.authService=w(Qe),this.analyticsService=w(gr),this.productService=w(hs),this.router=w(me),this.currentUser=this.authService.currentUser,this.analyticsSummary=null,this.totalProducts=0,this.totalUsers=0,this.recentTransactions=[]}ngOnInit(){this.authService.isAdmin()?this.loadDashboardData():this.router.navigate(["/"])}loadDashboardData(){this.analyticsSummary=this.analyticsService.getAnalyticsSummary(),this.totalProducts=this.productService.getAllProducts().length,this.totalUsers=0,this.recentTransactions=this.analyticsService.getTodayTransactions().slice(0,10)}formatDate(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=se({type:t,selectors:[["app-admin-dashboard"]],standalone:!0,features:[ae],decls:108,vars:12,consts:[["noTransactions",""],[1,"admin-dashboard"],[1,"dashboard-header"],[1,"fas","fa-tachometer-alt"],[1,"stats-grid"],[1,"stat-card","blue"],[1,"stat-icon"],[1,"fas","fa-users"],[1,"stat-content"],[1,"stat-detail"],[1,"stat-card","green"],[1,"fas","fa-shopping-cart"],[1,"stat-card","orange"],[1,"fas","fa-box"],[1,"stat-card","purple"],[1,"fas","fa-user-friends"],[1,"quick-actions"],[1,"fas","fa-bolt"],[1,"action-buttons"],["routerLink","/admin/products/add",1,"action-btn"],[1,"fas","fa-plus-circle"],["routerLink","/admin/products",1,"action-btn"],[1,"fas","fa-edit"],["routerLink","/admin/categories",1,"action-btn"],[1,"fas","fa-sitemap"],["routerLink","/admin/subcategories",1,"action-btn"],[1,"fas","fa-list"],["routerLink","/admin/brands",1,"action-btn"],[1,"fas","fa-trademark"],["routerLink","/admin/users",1,"action-btn"],[1,"fas","fa-users-cog"],[1,"action-btn",3,"click"],[1,"fas","fa-sync-alt"],[1,"recent-section"],[1,"fas","fa-receipt"],["class","transactions-table",4,"ngIf","ngIfElse"],[1,"analytics-section"],[1,"fas","fa-chart-line"],[1,"chart-info"],[1,"chart-stat"],[1,"transactions-table"],[4,"ngFor","ngForOf"],[1,"badge"],[1,"no-data"],[1,"fas","fa-inbox"]],template:function(o,r){if(1&o){const i=R();a(0,"div",1)(1,"div",2)(2,"h1"),b(3,"i",3),d(4," Admin Dashboard"),c(),a(5,"p"),d(6),c()(),a(7,"div",4)(8,"div",5)(9,"div",6),b(10,"i",7),c(),a(11,"div",8)(12,"h3"),d(13),c(),a(14,"p"),d(15,"Today's Active Users"),c(),a(16,"span",9),d(17),c()()(),a(18,"div",10)(19,"div",6),b(20,"i",11),c(),a(21,"div",8)(22,"h3"),d(23),c(),a(24,"p"),d(25,"Today's Transactions"),c(),a(26,"span",9),d(27),c()()(),a(28,"div",12)(29,"div",6),b(30,"i",13),c(),a(31,"div",8)(32,"h3"),d(33),c(),a(34,"p"),d(35,"Total Products"),c(),a(36,"span",9),d(37,"Across all categories"),c()()(),a(38,"div",14)(39,"div",6),b(40,"i",15),c(),a(41,"div",8)(42,"h3"),d(43),c(),a(44,"p"),d(45,"Registered Users"),c(),a(46,"span",9),d(47,"Total members"),c()()()(),a(48,"div",16)(49,"h2"),b(50,"i",17),d(51," Quick Actions"),c(),a(52,"div",18)(53,"a",19),b(54,"i",20),a(55,"span"),d(56,"Add New Product"),c()(),a(57,"a",21),b(58,"i",22),a(59,"span"),d(60,"Manage Products"),c()(),a(61,"a",23),b(62,"i",24),a(63,"span"),d(64,"Manage Categories"),c()(),a(65,"a",25),b(66,"i",26),a(67,"span"),d(68,"Manage Subcategories"),c()(),a(69,"a",27),b(70,"i",28),a(71,"span"),d(72,"Manage Brands"),c()(),a(73,"a",29),b(74,"i",30),a(75,"span"),d(76,"Manage Users"),c()(),a(77,"button",31),C("click",function(){return y(i),v(r.loadDashboardData())}),b(78,"i",32),a(79,"span"),d(80,"Refresh Data"),c()()()(),a(81,"div",33)(82,"h2"),b(83,"i",34),d(84," Recent Transactions"),c(),P(85,AH,16,1,"div",35)(86,NH,4,0,"ng-template",null,0,Rf),c(),a(88,"div",36)(89,"h2"),b(90,"i",37),d(91," Weekly Overview"),c(),a(92,"div",38)(93,"div",39)(94,"h4"),d(95),c(),a(96,"p"),d(97,"Active Users (7 days)"),c()(),a(98,"div",39)(99,"h4"),d(100),c(),a(101,"p"),d(102,"Transactions (7 days)"),c()(),a(103,"div",39)(104,"h4"),d(105),c(),a(106,"p"),d(107,"Total Page Views"),c()()()()()}if(2&o){let i;const s=wa(87);p(6),D("Welcome back, ",null==(i=r.currentUser())?null:i.name,""),p(7),S((null==r.analyticsSummary?null:r.analyticsSummary.todayActiveUsers)||0),p(4),D("",(null==r.analyticsSummary?null:r.analyticsSummary.last7DaysUsers)||0," in last 7 days"),p(6),S((null==r.analyticsSummary?null:r.analyticsSummary.todayTransactions)||0),p(4),D("",(null==r.analyticsSummary?null:r.analyticsSummary.totalTransactions)||0," total"),p(6),S(r.totalProducts),p(10),S(r.totalUsers),p(42),h("ngIf",r.recentTransactions.length>0)("ngIfElse",s),p(10),S((null==r.analyticsSummary?null:r.analyticsSummary.last7DaysUsers)||0),p(5),S((null==r.analyticsSummary?null:r.analyticsSummary.last7DaysTransactions)||0),p(5),S((null==r.analyticsSummary?null:r.analyticsSummary.totalPageViews)||0)}},dependencies:[pe,De,ve,bh,Ge,Ze],styles:[".admin-dashboard[_ngcontent-%COMP%]{padding:30px;max-width:1400px;margin:0 auto;background:#f5f5f5;min-height:100vh}.dashboard-header[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:8px;margin-bottom:30px;box-shadow:0 2px 4px #0000001a}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 10px;color:#333;font-size:32px;display:flex;align-items:center;gap:15px}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#06c}.dashboard-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666;font-size:16px}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-bottom:30px}.stat-card[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:8px;box-shadow:0 2px 4px #0000001a;display:flex;align-items:center;gap:20px;transition:transform .3s,box-shadow .3s}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 4px 12px #00000026}.stat-icon[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:28px;color:#fff}.stat-card.blue[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.stat-card.green[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f093fb,#f5576c)}.stat-card.orange[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe)}.stat-card.purple[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#43e97b,#38f9d7)}.stat-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:32px;color:#333;font-weight:700}.stat-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;color:#666;font-size:14px;font-weight:500}.stat-detail[_ngcontent-%COMP%]{font-size:12px;color:#999}.quick-actions[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:8px;margin-bottom:30px;box-shadow:0 2px 4px #0000001a}.quick-actions[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 20px;color:#333;font-size:22px;display:flex;align-items:center;gap:10px}.quick-actions[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#06c}.action-buttons[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px}.action-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0066cc 0%,var(--dark-brown) 100%);color:#fff;padding:20px;border-radius:8px;border:none;cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:10px;transition:transform .3s,box-shadow .3s;text-decoration:none}.action-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 4px 12px #6b44234d}.action-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:28px}.action-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.recent-section[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:8px;margin-bottom:30px;box-shadow:0 2px 4px #0000001a}.recent-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 20px;color:#333;font-size:22px;display:flex;align-items:center;gap:10px}.recent-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#06c}.transactions-table[_ngcontent-%COMP%]{overflow-x:auto}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}thead[_ngcontent-%COMP%]{background:#f5f5f5}th[_ngcontent-%COMP%]{padding:15px;text-align:left;font-weight:600;color:#333;border-bottom:2px solid #e0e0e0}td[_ngcontent-%COMP%]{padding:15px;border-bottom:1px solid #f0f0f0;color:#666}tr[_ngcontent-%COMP%]:hover{background:#fafafa}.badge[_ngcontent-%COMP%]{padding:5px 12px;border-radius:20px;font-size:12px;font-weight:600;display:inline-block}.badge-order[_ngcontent-%COMP%]{background:#e8f5e9;color:#2e7d32}.badge-quote[_ngcontent-%COMP%]{background:#e3f2fd;color:#1565c0}.badge-cart[_ngcontent-%COMP%]{background:#fff3e0;color:#ef6c00}.no-data[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#999}.no-data[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:64px;margin-bottom:20px;opacity:.3}.no-data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin:0}.analytics-section[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:8px;box-shadow:0 2px 4px #0000001a}.analytics-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 20px;color:#333;font-size:22px;display:flex;align-items:center;gap:10px}.analytics-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#06c}.chart-info[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px}.chart-stat[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f5f5f5,#e0e0e0);padding:20px;border-radius:8px;text-align:center}.chart-stat[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:36px;color:#06c;font-weight:700}.chart-stat[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0 0;color:#666;font-size:14px}@media (max-width: 768px){.admin-dashboard[_ngcontent-%COMP%]{padding:15px}.stats-grid[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}}return t})();function RH(t,n){if(1&t&&(a(0,"option",26),d(1),c()),2&t){const e=n.$implicit;h("value",e.slug),p(),D(" ",e.name," ")}}function LH(t,n){if(1&t&&(a(0,"span",37),d(1),c()),2&t){const e=f().$implicit;p(),D("\u20b9",e.originalPrice,"")}}function UH(t,n){if(1&t){const e=R();a(0,"tr")(1,"td"),d(2),c(),a(3,"td"),b(4,"img",27),c(),a(5,"td")(6,"strong"),d(7),c()(),a(8,"td"),d(9),c(),a(10,"td"),d(11),c(),a(12,"td")(13,"span",28),d(14),c(),P(15,LH,2,1,"span",29),c(),a(16,"td")(17,"button",30),C("click",function(){const r=y(e).$implicit;return v(f().toggleStock(r))}),d(18),c(),a(19,"div",31),d(20),c()(),a(21,"td")(22,"button",30),C("click",function(){const r=y(e).$implicit;return v(f().toggleHot(r))}),d(23),c()(),a(24,"td")(25,"div",32)(26,"button",33),C("click",function(){const r=y(e).$implicit;return v(f().openEditModal(r))}),b(27,"i",34),c(),a(28,"button",35),C("click",function(){const r=y(e).$implicit;return v(f().deleteProduct(r))}),b(29,"i",36),c()()()()}if(2&t){const e=n.$implicit;p(2),D("#",e.id,""),p(2),h("src",e.image,ue)("alt",e.name),p(3),S(e.name),p(2),S(e.category),p(2),S(e.brand),p(3),D("\u20b9",e.price,""),p(),h("ngIf",e.originalPrice),p(2),B("active",e.inStock),p(),D(" ",e.inStock?"In Stock":"Out of Stock"," "),p(2),D(" Qty: ",e.stockCount||0," "),p(2),B("active",e.isHot),p(),D(" ",e.isHot?"Yes":"No"," ")}}function VH(t,n){1&t&&(a(0,"div",38),b(1,"i",39),a(2,"p"),d(3,"No products found"),c()())}function BH(t,n){if(1&t&&(a(0,"div",74),b(1,"i",75),d(2),c()),2&t){const e=f(2);p(2),D(" ",e.errorMessage," ")}}function zH(t,n){if(1&t&&(a(0,"div",76),b(1,"i",77),d(2),c()),2&t){const e=f(2);p(2),D(" ",e.successMessage," ")}}function jH(t,n){if(1&t&&(a(0,"option",26),d(1),c()),2&t){const e=n.$implicit;h("value",e.name),p(),D(" ",e.name," ")}}function $H(t,n){if(1&t&&(a(0,"option",26),d(1),c()),2&t){const e=n.$implicit;h("value",e.slug),p(),D(" ",e.name," ")}}function HH(t,n){if(1&t&&(a(0,"option",26),d(1),c()),2&t){const e=n.$implicit;h("value",e.name),p(),D(" ",e.name," ")}}function qH(t,n){if(1&t){const e=R();a(0,"div",50)(1,"label"),d(2,"Subcategory"),c(),a(3,"select",78),A("ngModelChange",function(r){y(e);const i=f(2);return F(i.productForm.subcategory,r)||(i.productForm.subcategory=r),v(r)}),a(4,"option",17),d(5,"None"),c(),P(6,HH,2,2,"option",18),c()()}if(2&t){const e=f(2);p(3),E("ngModel",e.productForm.subcategory),p(3),h("ngForOf",e.getSubcategories())}}function WH(t,n){if(1&t&&(a(0,"span",84),d(1),c()),2&t){const e=f(3);p(),S(e.selectedImageFile.name)}}function GH(t,n){if(1&t){const e=R();a(0,"div",79)(1,"input",80,0),C("change",function(r){return y(e),v(f(2).onImageSelect(r))}),c(),a(3,"button",81),C("click",function(){return y(e),v(wa(2).click())}),b(4,"i",82),d(5," Choose Image "),c(),P(6,WH,2,1,"span",83),c()}if(2&t){const e=f(2);p(6),h("ngIf",e.selectedImageFile)}}function YH(t,n){if(1&t){const e=R();a(0,"div",85)(1,"input",86),A("ngModelChange",function(r){y(e);const i=f(2);return F(i.imageUrlInput,r)||(i.imageUrlInput=r),v(r)}),c(),a(2,"button",87),C("click",function(){return y(e),v(f(2).onImageUrlInput())}),b(3,"i",88),d(4," Use URL "),c()()}if(2&t){const e=f(2);p(),E("ngModel",e.imageUrlInput)}}function KH(t,n){if(1&t){const e=R();a(0,"div",89)(1,"div",90),b(2,"img",91),a(3,"button",92),C("click",function(){return y(e),v(f(2).clearImage())}),b(4,"i",45),c()(),a(5,"div",93),b(6,"i",77),a(7,"p")(8,"strong"),d(9,"Image Ready!"),c(),d(10," The image will be saved with the product data."),c(),a(11,"p",94),d(12,"No manual file copy needed - image is stored automatically!"),c()()()}if(2&t){const e=f(2);p(2),h("src",e.imagePreview,ue)}}function QH(t,n){if(1&t){const e=R();a(0,"div",40),C("click",function(){return y(e),v(f().closeModals())}),a(1,"div",41),C("click",function(r){return y(e),v(r.stopPropagation())}),a(2,"div",42)(3,"h2"),b(4,"i",43),d(5," Add New Product"),c(),a(6,"button",44),C("click",function(){return y(e),v(f().closeModals())}),b(7,"i",45),c()(),P(8,BH,3,1,"div",46)(9,zH,3,1,"div",47),a(10,"form",48),C("ngSubmit",function(){return y(e),v(f().addProduct())}),a(11,"div",49)(12,"div",50)(13,"label"),d(14,"Product Name *"),c(),a(15,"input",51),A("ngModelChange",function(r){y(e);const i=f();return F(i.productForm.name,r)||(i.productForm.name=r),v(r)}),c()(),a(16,"div",50)(17,"label"),d(18,"Brand *"),c(),a(19,"select",52),A("ngModelChange",function(r){y(e);const i=f();return F(i.productForm.brand,r)||(i.productForm.brand=r),v(r)}),a(20,"option",17),d(21,"Select Brand"),c(),P(22,jH,2,2,"option",18),c()()(),a(23,"div",49)(24,"div",50)(25,"label"),d(26,"Category *"),c(),a(27,"select",53),A("ngModelChange",function(r){y(e);const i=f();return F(i.productForm.category,r)||(i.productForm.category=r),v(r)}),C("ngModelChange",function(){return y(e),v(f().productForm.subcategory="")}),a(28,"option",17),d(29,"Select Category"),c(),P(30,$H,2,2,"option",18),c()(),P(31,qH,7,2,"div",54),c(),a(32,"div",49)(33,"div",50)(34,"label"),d(35,"Price (\u20b9) *"),c(),a(36,"input",55),A("ngModelChange",function(r){y(e);const i=f();return F(i.productForm.price,r)||(i.productForm.price=r),v(r)}),c()()(),a(37,"div",49)(38,"div",50)(39,"label"),d(40,"Original Price (\u20b9)"),c(),a(41,"input",56),A("ngModelChange",function(r){y(e);const i=f();return F(i.productForm.originalPrice,r)||(i.productForm.originalPrice=r),v(r)}),c()(),a(42,"div",50)(43,"label"),d(44,"Product Image *"),c(),a(45,"div",57)(46,"button",58),C("click",function(){return y(e),v(f().switchImageMode("file"))}),b(47,"i",59),d(48," Upload File "),c(),a(49,"button",58),C("click",function(){return y(e),v(f().switchImageMode("url"))}),b(50,"i",60),d(51," Image URL "),c()(),P(52,GH,7,1,"div",61)(53,YH,5,1,"div",62),c()(),P(54,KH,13,1,"div",63),a(55,"div",50)(56,"label"),d(57,"Description"),c(),a(58,"textarea",64),A("ngModelChange",function(r){y(e);const i=f();return F(i.productForm.description,r)||(i.productForm.description=r),v(r)}),c()(),a(59,"div",50)(60,"label"),d(61,"About Product (Detailed)"),c(),a(62,"textarea",65),A("ngModelChange",function(r){y(e);const i=f();return F(i.productForm.aboutProduct,r)||(i.productForm.aboutProduct=r),v(r)}),c()(),a(63,"div",66)(64,"label",67)(65,"input",68),A("ngModelChange",function(r){y(e);const i=f();return F(i.productForm.inStock,r)||(i.productForm.inStock=r),v(r)}),c(),a(66,"span"),d(67,"In Stock"),c()(),a(68,"label",67)(69,"input",69),A("ngModelChange",function(r){y(e);const i=f();return F(i.productForm.isHot,r)||(i.productForm.isHot=r),v(r)}),c(),a(70,"span"),d(71,"Featured Product"),c()()(),a(72,"div",70)(73,"button",71),C("click",function(){return y(e),v(f().closeModals())}),d(74,"Cancel"),c(),a(75,"button",72),b(76,"i",73),d(77," Add Product "),c()()()()()}if(2&t){const e=f();p(8),h("ngIf",e.errorMessage),p(),h("ngIf",e.successMessage),p(6),E("ngModel",e.productForm.name),p(4),E("ngModel",e.productForm.brand),p(3),h("ngForOf",e.brands),p(5),E("ngModel",e.productForm.category),p(3),h("ngForOf",e.categories),p(),h("ngIf",e.getSubcategories().length>0),p(5),E("ngModel",e.productForm.price),p(5),E("ngModel",e.productForm.originalPrice),p(5),B("active","file"===e.imageUploadMode),p(3),B("active","url"===e.imageUploadMode),p(3),h("ngIf","file"===e.imageUploadMode),p(),h("ngIf","url"===e.imageUploadMode),p(),h("ngIf",e.imagePreview),p(4),E("ngModel",e.productForm.description),p(4),E("ngModel",e.productForm.aboutProduct),p(3),E("ngModel",e.productForm.inStock),p(4),E("ngModel",e.productForm.isHot)}}function JH(t,n){if(1&t&&(a(0,"div",74),b(1,"i",75),d(2),c()),2&t){const e=f(2);p(2),D(" ",e.errorMessage," ")}}function XH(t,n){if(1&t&&(a(0,"div",76),b(1,"i",77),d(2),c()),2&t){const e=f(2);p(2),D(" ",e.successMessage," ")}}function ZH(t,n){if(1&t&&(a(0,"option",26),d(1),c()),2&t){const e=n.$implicit;h("value",e.name),p(),D(" ",e.name," ")}}function eq(t,n){if(1&t&&(a(0,"option",26),d(1),c()),2&t){const e=n.$implicit;h("value",e.slug),p(),D(" ",e.name," ")}}function tq(t,n){if(1&t&&(a(0,"option",26),d(1),c()),2&t){const e=n.$implicit;h("value",e.name),p(),D(" ",e.name," ")}}function nq(t,n){if(1&t){const e=R();a(0,"div",50)(1,"label"),d(2,"Subcategory"),c(),a(3,"select",78),A("ngModelChange",function(r){y(e);const i=f(2);return F(i.productForm.subcategory,r)||(i.productForm.subcategory=r),v(r)}),a(4,"option",17),d(5,"None"),c(),P(6,tq,2,2,"option",18),c()()}if(2&t){const e=f(2);p(3),E("ngModel",e.productForm.subcategory),p(3),h("ngForOf",e.getSubcategories())}}function oq(t,n){if(1&t&&(a(0,"span",84),d(1),c()),2&t){const e=f(3);p(),S(e.selectedImageFile.name)}}function rq(t,n){if(1&t){const e=R();a(0,"div",79)(1,"input",80,1),C("change",function(r){return y(e),v(f(2).onImageSelect(r))}),c(),a(3,"button",81),C("click",function(){return y(e),v(wa(2).click())}),b(4,"i",82),d(5," Choose Image "),c(),P(6,oq,2,1,"span",83),c()}if(2&t){const e=f(2);p(6),h("ngIf",e.selectedImageFile)}}function iq(t,n){if(1&t){const e=R();a(0,"div",85)(1,"input",95),A("ngModelChange",function(r){y(e);const i=f(2);return F(i.imageUrlInput,r)||(i.imageUrlInput=r),v(r)}),c(),a(2,"button",87),C("click",function(){return y(e),v(f(2).onImageUrlInput())}),b(3,"i",88),d(4," Use URL "),c()()}if(2&t){const e=f(2);p(),E("ngModel",e.imageUrlInput)}}function sq(t,n){if(1&t){const e=R();a(0,"div",89)(1,"div",90),b(2,"img",91),a(3,"button",92),C("click",function(){return y(e),v(f(2).clearImage())}),b(4,"i",45),c()(),a(5,"div",93),b(6,"i",77),a(7,"p")(8,"strong"),d(9,"Image Ready!"),c(),d(10," The image will be saved with the product data."),c(),a(11,"p",94),d(12,"No manual file copy needed - image is stored automatically!"),c()()()}if(2&t){const e=f(2);p(2),h("src",e.imagePreview,ue)}}function aq(t,n){if(1&t){const e=R();a(0,"div",40),C("click",function(){return y(e),v(f().closeModals())}),a(1,"div",41),C("click",function(r){return y(e),v(r.stopPropagation())}),a(2,"div",42)(3,"h2"),b(4,"i",34),d(5," Edit Product"),c(),a(6,"button",44),C("click",function(){return y(e),v(f().closeModals())}),b(7,"i",45),c()(),P(8,JH,3,1,"div",46)(9,XH,3,1,"div",47),a(10,"form",48),C("ngSubmit",function(){return y(e),v(f().updateProduct())}),a(11,"div",49)(12,"div",50)(13,"label"),d(14,"Product Name *"),c(),a(15,"input",51),A("ngModelChange",function(r){y(e);const i=f();return F(i.productForm.name,r)||(i.productForm.name=r),v(r)}),c()(),a(16,"div",50)(17,"label"),d(18,"Brand *"),c(),a(19,"select",52),A("ngModelChange",function(r){y(e);const i=f();return F(i.productForm.brand,r)||(i.productForm.brand=r),v(r)}),a(20,"option",17),d(21,"Select Brand"),c(),P(22,ZH,2,2,"option",18),c()()(),a(23,"div",49)(24,"div",50)(25,"label"),d(26,"Category *"),c(),a(27,"select",53),A("ngModelChange",function(r){y(e);const i=f();return F(i.productForm.category,r)||(i.productForm.category=r),v(r)}),C("ngModelChange",function(){return y(e),v(f().productForm.subcategory="")}),a(28,"option",17),d(29,"Select Category"),c(),P(30,eq,2,2,"option",18),c()(),P(31,nq,7,2,"div",54),c(),a(32,"div",49)(33,"div",50)(34,"label"),d(35,"Price (\u20b9) *"),c(),a(36,"input",55),A("ngModelChange",function(r){y(e);const i=f();return F(i.productForm.price,r)||(i.productForm.price=r),v(r)}),c()()(),a(37,"div",49)(38,"div",50)(39,"label"),d(40,"Original Price (\u20b9)"),c(),a(41,"input",56),A("ngModelChange",function(r){y(e);const i=f();return F(i.productForm.originalPrice,r)||(i.productForm.originalPrice=r),v(r)}),c()(),a(42,"div",50)(43,"label"),d(44,"Product Image *"),c(),a(45,"div",57)(46,"button",58),C("click",function(){return y(e),v(f().switchImageMode("file"))}),b(47,"i",59),d(48," Upload File "),c(),a(49,"button",58),C("click",function(){return y(e),v(f().switchImageMode("url"))}),b(50,"i",60),d(51," Image URL "),c()(),P(52,rq,7,1,"div",61)(53,iq,5,1,"div",62),c()(),P(54,sq,13,1,"div",63),a(55,"div",50)(56,"label"),d(57,"Description"),c(),a(58,"textarea",64),A("ngModelChange",function(r){y(e);const i=f();return F(i.productForm.description,r)||(i.productForm.description=r),v(r)}),c()(),a(59,"div",50)(60,"label"),d(61,"About Product (Detailed)"),c(),a(62,"textarea",65),A("ngModelChange",function(r){y(e);const i=f();return F(i.productForm.aboutProduct,r)||(i.productForm.aboutProduct=r),v(r)}),c()(),a(63,"div",66)(64,"label",67)(65,"input",68),A("ngModelChange",function(r){y(e);const i=f();return F(i.productForm.inStock,r)||(i.productForm.inStock=r),v(r)}),c(),a(66,"span"),d(67,"In Stock"),c()(),a(68,"label",67)(69,"input",69),A("ngModelChange",function(r){y(e);const i=f();return F(i.productForm.isHot,r)||(i.productForm.isHot=r),v(r)}),c(),a(70,"span"),d(71,"Featured Product"),c()()(),a(72,"div",70)(73,"button",71),C("click",function(){return y(e),v(f().closeModals())}),d(74,"Cancel"),c(),a(75,"button",72),b(76,"i",73),d(77," Update Product "),c()()()()()}if(2&t){const e=f();p(8),h("ngIf",e.errorMessage),p(),h("ngIf",e.successMessage),p(6),E("ngModel",e.productForm.name),p(4),E("ngModel",e.productForm.brand),p(3),h("ngForOf",e.brands),p(5),E("ngModel",e.productForm.category),p(3),h("ngForOf",e.categories),p(),h("ngIf",e.getSubcategories().length>0),p(5),E("ngModel",e.productForm.price),p(5),E("ngModel",e.productForm.originalPrice),p(5),B("active","file"===e.imageUploadMode),p(3),B("active","url"===e.imageUploadMode),p(3),h("ngIf","file"===e.imageUploadMode),p(),h("ngIf","url"===e.imageUploadMode),p(),h("ngIf",e.imagePreview),p(4),E("ngModel",e.productForm.description),p(4),E("ngModel",e.productForm.aboutProduct),p(3),E("ngModel",e.productForm.inStock),p(4),E("ngModel",e.productForm.isHot)}}let cq=(()=>{class t{constructor(){this.authService=w(Qe),this.productService=w(hs),this.backendService=w(Vo),this.router=w(me),this.location=w(ao),this.products=[],this.categories=[],this.brands=[],this.filteredProducts=[],this.showAddModal=!1,this.showEditModal=!1,this.selectedProduct=null,this.productForm={name:"",brand:"ACEBOTT",category:"",price:0,originalPrice:0,image:"",inStock:!0,isHot:!1,description:"",aboutProduct:""},this.searchTerm="",this.selectedCategory="",this.selectedBrand="",this.successMessage="",this.errorMessage="",this.selectedImageFile=null,this.imagePreview=null,this.imageUploadMode="file",this.imageUrlInput=""}ngOnInit(){this.authService.isAdmin()?this.loadData():this.router.navigate(["/"])}loadData(){this.products=this.productService.getAllProducts(),this.categories=this.productService.getAllCategories(),this.brands=this.productService.getBrands(),this.filteredProducts=[...this.products]}goBack(){this.location.back()}filterProducts(){this.filteredProducts=this.products.filter(e=>{const o=!this.searchTerm||e.name.toLowerCase().includes(this.searchTerm.toLowerCase())||e.id.toString().includes(this.searchTerm),r=!this.selectedCategory||e.category.toLowerCase()===this.selectedCategory.toLowerCase(),i=!this.selectedBrand||e.brand.toLowerCase()===this.selectedBrand.toLowerCase();return o&&r&&i})}getSubcategories(){return this.categories.find(o=>o.slug===this.productForm.category)?.subcategories||[]}openAddModal(){this.productForm={name:"",brand:"ACEBOTT",category:"",subcategory:"",price:0,originalPrice:0,image:"",inStock:!0,isHot:!1,description:"",aboutProduct:""},this.selectedImageFile=null,this.imagePreview=null,this.imageUrlInput="",this.imageUploadMode="file",this.showAddModal=!0,this.errorMessage="",this.successMessage=""}openEditModal(e){this.selectedProduct=e,this.productForm={...e};const o=this.categories.find(r=>r.name.toLowerCase()===e.category.toLowerCase()||r.slug===e.category);o&&(this.productForm.category=o.slug),e.image&&(this.imagePreview=e.image,this.imageUrlInput=e.image,this.imageUploadMode=e.image.startsWith("assets/")||e.image.startsWith("/assets/")?"file":"url"),this.showEditModal=!0,this.errorMessage="",this.successMessage=""}closeModals(){this.showAddModal=!1,this.showEditModal=!1,this.selectedProduct=null,this.selectedImageFile=null,this.imagePreview=null,this.imageUrlInput="",this.errorMessage="",this.successMessage=""}addProduct(){if(this.errorMessage="",this.successMessage="",this.validateForm())try{const e=this.categories.find(s=>s.slug===this.productForm.category),o=e?e.name:this.productForm.category||"",r=Math.max(...this.products.map(s=>parseInt(s.id)),0),i={...this.productForm,id:(r+1).toString(),category:o,rating:5,isNew:!1};this.backendService.createProduct(i).subscribe(s=>{console.log("Product created successfully:",s),this.products.push(s.data||i),this.filteredProducts=[...this.products],this.successMessage="Product added successfully!",setTimeout(()=>{this.closeModals(),this.filterProducts()},1500)},s=>{console.error("Error adding product:",s),this.errorMessage=s.error?.error||"Failed to add product. Please try again."})}catch(e){console.error("Error adding product:",e),this.errorMessage="Failed to add product. Please try again."}}updateProduct(){if(this.errorMessage="",this.successMessage="",this.validateForm()&&this.selectedProduct)try{const e=this.categories.find(i=>i.slug===this.productForm.category),r={...this.productForm,id:this.selectedProduct.id,category:e?e.name:this.productForm.category||""};this.backendService.updateProduct(this.selectedProduct.id,r).subscribe(i=>{console.log("Product updated successfully:",i);const s=this.products.findIndex(l=>l.id===this.selectedProduct.id);-1!==s&&(this.products[s]=r,this.filteredProducts=[...this.products]),this.successMessage="Product updated successfully!",setTimeout(()=>{this.closeModals(),this.filterProducts()},1500)},i=>{console.error("Error updating product:",i),this.errorMessage=i.error?.error||"Failed to update product. Please try again."})}catch(e){console.error("Error updating product:",e),this.errorMessage="Failed to update product. Please try again."}}deleteProduct(e){confirm(`Are you sure you want to delete "${e.name}"?`)&&this.backendService.deleteProduct(e.id).subscribe(o=>{console.log("Product deleted successfully:",o),this.products=this.products.filter(r=>r.id!==e.id),this.filteredProducts=[...this.products],this.successMessage="Product deleted successfully!",setTimeout(()=>{this.successMessage=""},2e3)},o=>{console.error("Error deleting product:",o),this.errorMessage=o.error?.error||"Failed to delete product. Please try again."})}validateForm(){return this.productForm.name&&this.productForm.category?!(!this.productForm.price||this.productForm.price<=0)||(this.errorMessage="Valid price is required",!1):(this.errorMessage="Product name and category are required",!1)}toggleStock(e){const o=this.products.findIndex(r=>r.id===e.id);if(-1!==o){const r={...this.products[o],inStock:!this.products[o].inStock};this.backendService.updateProduct(e.id,r).subscribe(i=>{this.products[o]=r,this.filteredProducts=[...this.products]},i=>{console.error("Error toggling stock:",i)})}}toggleHot(e){const o=this.products.findIndex(r=>r.id===e.id);if(-1!==o){const r={...this.products[o],isHot:!this.products[o].isHot};this.backendService.updateProduct(e.id,r).subscribe(i=>{this.products[o]=r,this.filteredProducts=[...this.products]},i=>{console.error("Error toggling hot:",i)})}}onImageSelect(e){const o=e.target;if(o.files&&o.files[0]){if(this.selectedImageFile=o.files[0],console.log("File selected:",this.selectedImageFile.name,"Size:",this.selectedImageFile.size),!this.selectedImageFile.type.startsWith("image/"))return this.errorMessage="Please select a valid image file",void(this.selectedImageFile=null);if(this.selectedImageFile.size>5242880)return this.errorMessage="Image size should be less than 5MB",void(this.selectedImageFile=null);const r=new FileReader;r.onload=i=>{this.imagePreview=i.target?.result,this.productForm.image=i.target?.result,console.log("Image loaded, base64 length:",this.productForm.image?.length)},r.readAsDataURL(this.selectedImageFile),this.errorMessage=""}}clearImage(){this.selectedImageFile=null,this.imagePreview=null,this.imageUrlInput="",this.productForm.image=""}switchImageMode(e){this.imageUploadMode=e,this.clearImage()}onImageUrlInput(){if(this.imageUrlInput&&this.imageUrlInput.trim()){try{new URL(this.imageUrlInput)}catch{return void(this.errorMessage="Please enter a valid URL")}this.imagePreview=this.imageUrlInput,this.errorMessage="",this.productForm.name&&this.productForm.category&&this.downloadAndSaveImage()}else this.errorMessage="Please enter a valid image URL"}downloadAndSaveImage(){var e=this;return xe(function*(){try{if(!e.productForm.name||!e.productForm.category||!e.imageUrlInput)return;const o=e.categories.find(l=>l.slug===e.productForm.category),r=o?o.name:e.productForm.category,s=yield(yield fetch("/api/products/download-image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:e.imageUrlInput,productName:e.productForm.name,category:r})})).json();s.success?(e.productForm.image=s.imagePath,e.imagePreview=s.imagePath,e.successMessage=`\u2705 Image saved as: ${e.productForm.name.toLowerCase().replace(/\s+/g,"-")}.jpg`,console.log("Image downloaded and saved successfully",s.imagePath)):(console.warn("Failed to download image:",s.error),e.productForm.image=e.imageUrlInput)}catch(o){console.error("Error downloading image:",o),e.productForm.image=e.imageUrlInput}})()}resetToDefaults(){confirm("This will reset all products to the default data from the code. Are you sure?")&&(this.productService.resetToDefaultProducts()?(alert("Products reset successfully! The page will reload."),window.location.reload()):alert("Failed to reset products. Please try again."))}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=se({type:t,selectors:[["app-product-management"]],standalone:!0,features:[ae],decls:65,vars:9,consts:[["fileInput1",""],["fileInput2",""],[1,"product-management"],[1,"page-header"],["title","Go back to dashboard",1,"btn-back",3,"click"],[1,"fas","fa-arrow-left"],[1,"fas","fa-boxes"],[2,"display","flex","gap","10px"],["title","Reset products to default values from code",1,"btn","btn-secondary",3,"click"],[1,"fas","fa-sync"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"filters-section"],[1,"filter-group"],[1,"fas","fa-search"],["type","text","placeholder","Search by name or ID...",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["value","acebott"],["value","other"],[1,"results-info"],[1,"products-table"],[4,"ngFor","ngForOf"],["class","no-results",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[3,"value"],[1,"product-thumb",3,"src","alt"],[1,"price"],["class","original-price",4,"ngIf"],[1,"toggle-btn",3,"click"],[2,"font-size","0.8rem","margin-top","4px","color","#666"],[1,"action-buttons"],["title","Edit",1,"btn-icon","edit",3,"click"],[1,"fas","fa-edit"],["title","Delete",1,"btn-icon","delete",3,"click"],[1,"fas","fa-trash"],[1,"original-price"],[1,"no-results"],[1,"fas","fa-box-open"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"fas","fa-plus-circle"],[1,"close-btn",3,"click"],[1,"fas","fa-times"],["class","alert alert-error",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[3,"ngSubmit"],[1,"form-row"],[1,"form-group"],["type","text","name","name","required","",3,"ngModelChange","ngModel"],["name","brand","required","",3,"ngModelChange","ngModel"],["name","category","required","",3,"ngModelChange","ngModel"],["class","form-group",4,"ngIf"],["type","number","name","price","required","",3,"ngModelChange","ngModel"],["type","number","name","originalPrice",3,"ngModelChange","ngModel"],[1,"image-mode-toggle"],["type","button",1,"mode-btn",3,"click"],[1,"fas","fa-upload"],[1,"fas","fa-link"],["class","image-upload-container",4,"ngIf"],["class","image-url-container",4,"ngIf"],["class","image-preview-section",4,"ngIf"],["name","description","rows","3","placeholder","Short description for product listing",3,"ngModelChange","ngModel"],["name","aboutProduct","rows","5","placeholder","Detailed product information, features, specifications",3,"ngModelChange","ngModel"],[1,"form-checkboxes"],[1,"checkbox-label"],["type","checkbox","name","inStock",3,"ngModelChange","ngModel"],["type","checkbox","name","isHot",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary"],[1,"fas","fa-save"],[1,"alert","alert-error"],[1,"fas","fa-exclamation-circle"],[1,"alert","alert-success"],[1,"fas","fa-check-circle"],["name","subcategory",3,"ngModelChange","ngModel"],[1,"image-upload-container"],["type","file","accept","image/*",2,"display","none",3,"change"],["type","button",1,"btn-upload",3,"click"],[1,"fas","fa-cloud-upload-alt"],["class","file-name",4,"ngIf"],[1,"file-name"],[1,"image-url-container"],["type","url","name","imageUrl","placeholder","https://example.com/image.jpg",1,"url-input",3,"ngModelChange","ngModel"],["type","button",1,"btn-url",3,"click"],[1,"fas","fa-download"],[1,"image-preview-section"],[1,"image-preview"],["alt","Preview",3,"src"],["type","button",1,"btn-clear",3,"click"],[1,"image-instructions"],[1,"hint"],["type","url","name","imageUrl2","placeholder","https://example.com/image.jpg",1,"url-input",3,"ngModelChange","ngModel"]],template:function(o,r){1&o&&(a(0,"div",2)(1,"div",3)(2,"div")(3,"button",4),C("click",function(){return r.goBack()}),b(4,"i",5),d(5," Back "),c(),a(6,"h1"),b(7,"i",6),d(8," Product Management"),c(),a(9,"p"),d(10,"Add, edit, and manage your product catalog"),c()(),a(11,"div",7)(12,"button",8),C("click",function(){return r.resetToDefaults()}),b(13,"i",9),d(14," Reset to Defaults "),c(),a(15,"button",10),C("click",function(){return r.openAddModal()}),b(16,"i",11),d(17," Add New Product "),c()()(),a(18,"div",12)(19,"div",13),b(20,"i",14),a(21,"input",15),A("ngModelChange",function(s){return F(r.searchTerm,s)||(r.searchTerm=s),s}),C("ngModelChange",function(){return r.filterProducts()}),c()(),a(22,"div",13)(23,"select",16),A("ngModelChange",function(s){return F(r.selectedCategory,s)||(r.selectedCategory=s),s}),C("ngModelChange",function(){return r.filterProducts()}),a(24,"option",17),d(25,"All Categories"),c(),P(26,RH,2,2,"option",18),c()(),a(27,"div",13)(28,"select",16),A("ngModelChange",function(s){return F(r.selectedBrand,s)||(r.selectedBrand=s),s}),C("ngModelChange",function(){return r.filterProducts()}),a(29,"option",17),d(30,"All Brands"),c(),a(31,"option",19),d(32,"ACEBOTT"),c(),a(33,"option",20),d(34,"Other"),c()()(),a(35,"div",21)(36,"span"),d(37),c()()(),a(38,"div",22)(39,"table")(40,"thead")(41,"tr")(42,"th"),d(43,"ID"),c(),a(44,"th"),d(45,"Image"),c(),a(46,"th"),d(47,"Name"),c(),a(48,"th"),d(49,"Category"),c(),a(50,"th"),d(51,"Brand"),c(),a(52,"th"),d(53,"Price"),c(),a(54,"th"),d(55,"Stock"),c(),a(56,"th"),d(57,"Featured"),c(),a(58,"th"),d(59,"Actions"),c()()(),a(60,"tbody"),P(61,UH,30,15,"tr",23),c()(),P(62,VH,4,0,"div",24),c()(),P(63,QH,78,21,"div",25)(64,aq,78,21,"div",25)),2&o&&(p(21),E("ngModel",r.searchTerm),p(2),E("ngModel",r.selectedCategory),p(3),h("ngForOf",r.categories),p(2),E("ngModel",r.selectedBrand),p(9),D("",r.filteredProducts.length," products found"),p(24),h("ngForOf",r.filteredProducts),p(),h("ngIf",0===r.filteredProducts.length),p(),h("ngIf",r.showAddModal),p(),h("ngIf",r.showEditModal))},dependencies:[pe,De,ve,nt,bo,vo,Co,et,yo,yn,$n,rt,mo,dr,tt,_o,Ge],styles:[".product-management[_ngcontent-%COMP%]{padding:30px;max-width:1600px;margin:0 auto;background:#f5f5f5;min-height:100vh}.page-header[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:8px;margin-bottom:30px;box-shadow:0 2px 4px #0000001a;display:flex;justify-content:space-between;align-items:flex-start}.page-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{display:flex;flex-direction:column;gap:15px}.btn-back[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:10px 16px;background:#f0f0f0;border:1px solid #ddd;border-radius:4px;color:#333;font-size:14px;cursor:pointer;transition:all .3s ease;font-weight:500;width:-moz-fit-content;width:fit-content}.btn-back[_ngcontent-%COMP%]:hover{background:#e0e0e0;border-color:#999;color:#000}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 5px;color:#333;font-size:28px;display:flex;align-items:center;gap:12px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#06c}.page-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666;font-size:14px}.filters-section[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;margin-bottom:20px;box-shadow:0 2px 4px #0000001a;display:flex;gap:15px;flex-wrap:wrap;align-items:center}.filter-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;flex:1;min-width:200px}.filter-group[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#06c}.filter-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{flex:1;padding:10px;border:1px solid #ddd;border-radius:4px;font-size:14px}.results-info[_ngcontent-%COMP%]{color:#666;font-size:14px;font-weight:500}.products-table[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;overflow:hidden}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}thead[_ngcontent-%COMP%]{background:#06c;color:#fff}th[_ngcontent-%COMP%]{padding:15px;text-align:left;font-weight:600;font-size:14px}td[_ngcontent-%COMP%]{padding:15px;border-bottom:1px solid #f0f0f0;vertical-align:middle}tr[_ngcontent-%COMP%]:hover{background:#fafafa}.product-thumb[_ngcontent-%COMP%]{width:50px;height:50px;object-fit:cover;border-radius:4px}.price[_ngcontent-%COMP%]{color:#06c;font-weight:600;font-size:16px}.original-price[_ngcontent-%COMP%]{text-decoration:line-through;color:#999;font-size:14px;margin-left:8px}.toggle-btn[_ngcontent-%COMP%]{padding:6px 12px;border:1px solid #ddd;background:#f5f5f5;color:#666;border-radius:4px;cursor:pointer;font-size:12px;transition:all .3s}.toggle-btn.active[_ngcontent-%COMP%]{background:#06c;color:#fff;border-color:#06c}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.btn-icon[_ngcontent-%COMP%]{width:35px;height:35px;border:none;border-radius:4px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s}.btn-icon.edit[_ngcontent-%COMP%]{background:#e3f2fd;color:#1976d2}.btn-icon.edit[_ngcontent-%COMP%]:hover{background:#1976d2;color:#fff}.btn-icon.delete[_ngcontent-%COMP%]{background:#ffebee;color:#d32f2f}.btn-icon.delete[_ngcontent-%COMP%]:hover{background:#d32f2f;color:#fff}.no-results[_ngcontent-%COMP%]{text-align:center;padding:80px 20px;color:#999}.no-results[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:80px;margin-bottom:20px;opacity:.3}.no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;margin:0}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:10000;padding:20px}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:100%;max-width:700px;max-height:90vh;overflow-y:auto;box-shadow:0 4px 20px #0003}.modal-header[_ngcontent-%COMP%]{padding:25px 30px;border-bottom:1px solid #e0e0e0;display:flex;justify-content:space-between;align-items:center;position:sticky;top:0;background:#fff;z-index:100}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:24px;color:#333;display:flex;align-items:center;gap:10px}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#06c}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;color:#999;cursor:pointer;transition:color .3s;padding:5px}.close-btn[_ngcontent-%COMP%]:hover{color:#333}form[_ngcontent-%COMP%]{padding:30px}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#333;font-size:14px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:12px;border:1px solid #ddd;border-radius:4px;font-size:14px;font-family:inherit}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#06c}.form-checkboxes[_ngcontent-%COMP%]{display:flex;gap:30px;margin-bottom:20px}.checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;cursor:pointer;font-size:14px;color:#333}.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer}.modal-footer[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:flex-end;padding-top:20px;border-top:1px solid #e0e0e0}.btn[_ngcontent-%COMP%]{padding:12px 24px;border:none;border-radius:4px;font-size:14px;font-weight:600;cursor:pointer;display:flex;align-items:center;gap:8px;transition:all .3s}.btn-primary[_ngcontent-%COMP%]{background:#06c;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:var(--dark-brown)}.btn-secondary[_ngcontent-%COMP%]{background:#e0e0e0;color:#666}.btn-secondary[_ngcontent-%COMP%]:hover{background:#d0d0d0}.alert[_ngcontent-%COMP%]{padding:15px;border-radius:4px;margin:20px 30px;display:flex;align-items:center;gap:10px}.alert-error[_ngcontent-%COMP%]{background:#ffebee;color:#c62828;border:1px solid #ef5350}.alert-success[_ngcontent-%COMP%]{background:#e8f5e9;color:#2e7d32;border:1px solid #66bb6a}.image-mode-toggle[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:15px}.mode-btn[_ngcontent-%COMP%]{flex:1;padding:10px 15px;border:2px solid #ddd;background:#fff;border-radius:4px;cursor:pointer;font-size:14px;display:flex;align-items:center;justify-content:center;gap:8px;transition:all .3s;color:#666}.mode-btn[_ngcontent-%COMP%]:hover{border-color:#06c;color:#06c}.mode-btn.active[_ngcontent-%COMP%]{background:#06c;color:#fff;border-color:#06c}.image-url-container[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center}.url-input[_ngcontent-%COMP%]{flex:1;padding:10px;border:1px solid #ddd;border-radius:4px;font-size:14px}.url-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#06c}.btn-url[_ngcontent-%COMP%]{background:#2196f3;color:#fff;border:none;padding:10px 20px;border-radius:4px;cursor:pointer;font-size:14px;display:flex;align-items:center;gap:8px;white-space:nowrap;transition:background .3s}.btn-url[_ngcontent-%COMP%]:hover{background:#1976d2}.image-upload-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.btn-upload[_ngcontent-%COMP%]{background:#06c;color:#fff;border:none;padding:10px 20px;border-radius:4px;cursor:pointer;font-size:14px;display:flex;align-items:center;gap:8px;transition:background .3s}.btn-upload[_ngcontent-%COMP%]:hover{background:var(--dark-brown)}.file-name[_ngcontent-%COMP%]{color:#666;font-size:14px;max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.image-preview-section[_ngcontent-%COMP%]{margin:20px 0;padding:15px;background:#f9f9f9;border-radius:8px;border:1px solid #e0e0e0}.image-preview[_ngcontent-%COMP%]{position:relative;display:inline-block;margin-bottom:15px}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px;max-height:200px;border-radius:4px;border:2px solid #ddd}.btn-clear[_ngcontent-%COMP%]{position:absolute;top:-10px;right:-10px;background:#f44336;color:#fff;border:none;width:30px;height:30px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:14px;transition:background .3s}.btn-clear[_ngcontent-%COMP%]:hover{background:#d32f2f}.image-instructions[_ngcontent-%COMP%]{background:#fff3cd;padding:12px;border-radius:4px;border-left:4px solid #ffc107}.image-instructions[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ff9800;margin-right:8px}.image-instructions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0;font-size:13px;color:#856404}.image-instructions[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#06c}.image-instructions[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#fff;padding:4px 8px;border-radius:3px;font-family:Courier New,monospace;font-size:12px;color:#d63384;display:block;margin:8px 0;word-break:break-all}.image-instructions[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{font-size:12px;color:#666;font-style:italic;margin-top:8px}@media (max-width: 768px){.product-management[_ngcontent-%COMP%]{padding:15px}.page-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:15px}.filters-section[_ngcontent-%COMP%]{flex-direction:column}.filter-group[_ngcontent-%COMP%]{width:100%}.products-table[_ngcontent-%COMP%]{overflow-x:auto}table[_ngcontent-%COMP%]{min-width:1000px}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.modal-content[_ngcontent-%COMP%]{max-height:100vh;border-radius:0}}"]})}}return t})();function lq(t,n){if(1&t&&(a(0,"div",59),b(1,"i",60),d(2),c()),2&t){const e=f();p(2),D(" ",e.successMessage," ")}}function dq(t,n){if(1&t&&(a(0,"div",61),b(1,"i",62),d(2),c()),2&t){const e=f();p(2),D(" ",e.errorMessage," ")}}function uq(t,n){if(1&t&&(a(0,"option",27),d(1),c()),2&t){const e=n.$implicit;h("value",e.slug),p(),D(" ",e.name," ")}}function pq(t,n){if(1&t&&(a(0,"option",27),d(1),c()),2&t){const e=n.$implicit;h("value",e.slug),p(),D(" ",e.name," ")}}function gq(t,n){if(1&t&&(a(0,"option",27),d(1),c()),2&t){const e=n.$implicit;h("value",e.slug),p(),D(" ",e.name," ")}}function fq(t,n){if(1&t){const e=R();a(0,"div",13)(1,"label",63),d(2,"Choose Image File"),c(),a(3,"input",64),C("change",function(r){return y(e),v(f().onImageFileSelected(r))}),c(),a(4,"small"),d(5,"Supported formats: JPG, PNG, GIF (Max 5MB)"),c()()}}function hq(t,n){if(1&t){const e=R();a(0,"div",13)(1,"label",65),d(2,"Image URL"),c(),a(3,"input",66),A("ngModelChange",function(r){y(e);const i=f();return F(i.imageUrlInput,r)||(i.imageUrlInput=r),v(r)}),C("change",function(){return y(e),v(f().onImageUrlChange())}),c()()}if(2&t){const e=f();p(3),E("ngModel",e.imageUrlInput)}}function mq(t,n){if(1&t){const e=R();a(0,"div",67),b(1,"img",68),a(2,"button",69),C("click",function(){y(e);const r=f();return r.imagePreview=null,v(r.productForm.image="")}),b(3,"i",56),d(4," Remove "),c()()}if(2&t){const e=f();p(),h("src",e.imagePreview,ue)}}let _q=(()=>{class t{constructor(){this.authService=w(Qe),this.productService=w(hs),this.router=w(me),this.location=w(ao),this.categories=[],this.brands=[],this.productForm={name:"",brand:"ACEBOTT",category:"",subcategory:"",price:0,originalPrice:0,image:"",inStock:!0,isHot:!1,isNew:!1,isFeatured:!1,description:"",aboutProduct:""},this.selectedImageFile=null,this.imagePreview=null,this.imageUploadMode="file",this.imageUrlInput="",this.successMessage="",this.errorMessage="",this.isSubmitting=!1}ngOnInit(){this.authService.isAdmin()?this.loadData():this.router.navigate(["/"])}loadData(){this.categories=this.productService.getAllCategories(),this.brands=this.productService.getBrands()}getSubcategories(){return this.categories.find(o=>o.slug===this.productForm.category)?.subcategories||[]}onImageFileSelected(e){const o=e.target.files[0];if(o){this.selectedImageFile=o;const r=new FileReader;r.onload=i=>{this.imagePreview=i.target.result,this.productForm.image=this.imagePreview||""},r.readAsDataURL(o)}}onImageUrlChange(){this.imageUrlInput.trim()&&(this.imagePreview=this.imageUrlInput,this.productForm.image=this.imageUrlInput)}toggleImageMode(e){this.imageUploadMode=e,this.imagePreview=null,this.imageUrlInput="",this.selectedImageFile=null,this.productForm.image=""}saveProduct(){if(this.validateForm()){this.isSubmitting=!0,this.errorMessage="",this.successMessage="";try{const o=this.categories.find(i=>i.slug===this.productForm.category)?.name||this.productForm.category,r={name:this.productForm.name,slug:this.productForm.name?.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9\-]/g,""),description:this.productForm.description,category:o,subcategory:this.productForm.subcategory||null,brand:this.productForm.brand,price:this.productForm.price,image:this.productForm.image,inStock:this.productForm.inStock,isHot:this.productForm.isHot,isNew:this.productForm.isNew,isFeatured:this.productForm.isFeatured,rating:0};this.productService.addProduct(r).subscribe({next:i=>{this.successMessage="Product added successfully!",setTimeout(()=>{this.router.navigate(["/admin/products"])},1500)},error:i=>{console.error("Error adding product:",i),this.errorMessage=i.error?.error||"Failed to add product",this.isSubmitting=!1}})}catch(e){this.errorMessage=e.message||"Failed to add product",this.isSubmitting=!1}}}validateForm(){return this.productForm.name?.trim()?this.productForm.category?!this.productForm.price||this.productForm.price<=0?(this.errorMessage="Price must be greater than 0",!1):this.productForm.image?.trim()?!!this.productForm.description?.trim()||(this.errorMessage="Product description is required",!1):(this.errorMessage="Product image is required",!1):(this.errorMessage="Category is required",!1):(this.errorMessage="Product name is required",!1)}goBack(){this.location.back()}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=se({type:t,selectors:[["app-product-add"]],standalone:!0,features:[ae],decls:121,vars:28,consts:[[1,"product-add-page"],[1,"page-header"],[1,"header-content"],["title","Go back",1,"btn-back",3,"click"],[1,"fas","fa-arrow-left"],[1,"fas","fa-plus-square"],["class","alert alert-success",4,"ngIf"],["class","alert alert-error",4,"ngIf"],[1,"form-container"],[3,"ngSubmit"],[1,"form-grid"],[1,"form-section"],[1,"fas","fa-info-circle"],[1,"form-group"],["for","name"],["id","name","type","text","name","name","placeholder","Enter product name","required","",3,"ngModelChange","ngModel"],[1,"form-row"],["for","category"],["id","category","name","category","required","",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","subcategory"],["id","subcategory","name","subcategory",3,"ngModelChange","ngModel"],["for","brand"],["id","brand","name","brand","required","",3,"ngModelChange","ngModel"],["for","inStock"],["id","inStock","name","inStock",3,"ngModelChange","ngModel"],[3,"value"],[1,"fas","fa-tag"],["for","price"],["id","price","type","number","name","price","placeholder","0","min","0","step","0.01","required","",3,"ngModelChange","ngModel"],["for","originalPrice"],["id","originalPrice","type","number","name","originalPrice","placeholder","0","min","0","step","0.01",3,"ngModelChange","ngModel"],[1,"fas","fa-image"],[1,"image-mode-toggle"],["type","button",1,"toggle-btn",3,"click"],[1,"fas","fa-upload"],[1,"fas","fa-link"],["class","form-group",4,"ngIf"],["class","image-preview",4,"ngIf"],[1,"fas","fa-align-left"],["for","description"],["id","description","name","description","placeholder","Enter a brief product description","rows","4","required","",3,"ngModelChange","ngModel"],["for","aboutProduct"],["id","aboutProduct","name","aboutProduct","placeholder","Enter detailed product information","rows","4",3,"ngModelChange","ngModel"],[1,"fas","fa-star"],["for","isFeatured"],["id","isFeatured","type","checkbox","name","isFeatured",3,"ngModelChange","ngModel"],["for","isNew"],["id","isNew","type","checkbox","name","isNew",3,"ngModelChange","ngModel"],[1,"fas","fa-gift"],["for","isHot"],["id","isHot","type","checkbox","name","isHot",3,"ngModelChange","ngModel"],[1,"fas","fa-fire"],[1,"form-actions"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"fas","fa-times"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"fas","fa-save"],[1,"alert","alert-success"],[1,"fas","fa-check-circle"],[1,"alert","alert-error"],[1,"fas","fa-exclamation-circle"],["for","imageFile"],["id","imageFile","type","file","accept","image/*",3,"change"],["for","imageUrl"],["id","imageUrl","type","url","name","imageUrl","placeholder","https://example.com/image.jpg",3,"ngModelChange","change","ngModel"],[1,"image-preview"],["alt","Product preview",3,"src"],["type","button",1,"btn-remove-image",3,"click"]],template:function(o,r){1&o&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),C("click",function(){return r.goBack()}),b(4,"i",4),d(5," Back "),c(),a(6,"div")(7,"h1"),b(8,"i",5),d(9," Add New Product"),c(),a(10,"p"),d(11,"Fill in the form below to add a new product to your catalog"),c()()()(),P(12,lq,3,1,"div",6)(13,dq,3,1,"div",7),a(14,"div",8)(15,"form",9),C("ngSubmit",function(){return r.saveProduct()}),a(16,"div",10)(17,"div",11)(18,"h2"),b(19,"i",12),d(20," Basic Information"),c(),a(21,"div",13)(22,"label",14),d(23,"Product Name *"),c(),a(24,"input",15),A("ngModelChange",function(s){return F(r.productForm.name,s)||(r.productForm.name=s),s}),c()(),a(25,"div",16)(26,"div",13)(27,"label",17),d(28,"Category *"),c(),a(29,"select",18),A("ngModelChange",function(s){return F(r.productForm.category,s)||(r.productForm.category=s),s}),a(30,"option",19),d(31,"Select a category"),c(),P(32,uq,2,2,"option",20),c()(),a(33,"div",13)(34,"label",21),d(35,"Subcategory"),c(),a(36,"select",22),A("ngModelChange",function(s){return F(r.productForm.subcategory,s)||(r.productForm.subcategory=s),s}),a(37,"option",19),d(38,"Select a subcategory"),c(),P(39,pq,2,2,"option",20),c()()(),a(40,"div",16)(41,"div",13)(42,"label",23),d(43,"Brand *"),c(),a(44,"select",24),A("ngModelChange",function(s){return F(r.productForm.brand,s)||(r.productForm.brand=s),s}),P(45,gq,2,2,"option",20),c()(),a(46,"div",13)(47,"label",25),d(48,"Stock Status"),c(),a(49,"select",26),A("ngModelChange",function(s){return F(r.productForm.inStock,s)||(r.productForm.inStock=s),s}),a(50,"option",27),d(51,"In Stock"),c(),a(52,"option",27),d(53,"Out of Stock"),c()()()()(),a(54,"div",11)(55,"h2"),b(56,"i",28),d(57," Pricing"),c(),a(58,"div",16)(59,"div",13)(60,"label",29),d(61,"Price (\u20b9) *"),c(),a(62,"input",30),A("ngModelChange",function(s){return F(r.productForm.price,s)||(r.productForm.price=s),s}),c()(),a(63,"div",13)(64,"label",31),d(65,"Original Price (\u20b9)"),c(),a(66,"input",32),A("ngModelChange",function(s){return F(r.productForm.originalPrice,s)||(r.productForm.originalPrice=s),s}),c(),a(67,"small"),d(68,"Leave blank if same as price"),c()()()(),a(69,"div",11)(70,"h2"),b(71,"i",33),d(72," Product Image"),c(),a(73,"div",34)(74,"button",35),C("click",function(){return r.toggleImageMode("file")}),b(75,"i",36),d(76," Upload File "),c(),a(77,"button",35),C("click",function(){return r.toggleImageMode("url")}),b(78,"i",37),d(79," Image URL "),c()(),P(80,fq,6,0,"div",38)(81,hq,4,1,"div",38)(82,mq,5,1,"div",39),c(),a(83,"div",11)(84,"h2"),b(85,"i",40),d(86," Description"),c(),a(87,"div",13)(88,"label",41),d(89,"Short Description *"),c(),a(90,"textarea",42),A("ngModelChange",function(s){return F(r.productForm.description,s)||(r.productForm.description=s),s}),c()(),a(91,"div",13)(92,"label",43),d(93,"About Product"),c(),a(94,"textarea",44),A("ngModelChange",function(s){return F(r.productForm.aboutProduct,s)||(r.productForm.aboutProduct=s),s}),c()()(),a(95,"div",11)(96,"h2"),b(97,"i",45),d(98," Product Visibility & Promotion"),c(),a(99,"div",13)(100,"label",46)(101,"input",47),A("ngModelChange",function(s){return F(r.productForm.isFeatured,s)||(r.productForm.isFeatured=s),s}),c(),b(102,"i",45),d(103," Featured Product - Show on home page featured section "),c()(),a(104,"div",13)(105,"label",48)(106,"input",49),A("ngModelChange",function(s){return F(r.productForm.isNew,s)||(r.productForm.isNew=s),s}),c(),b(107,"i",50),d(108," New Product - Show on new products section "),c()(),a(109,"div",13)(110,"label",51)(111,"input",52),A("ngModelChange",function(s){return F(r.productForm.isHot,s)||(r.productForm.isHot=s),s}),c(),b(112,"i",53),d(113," Hot/Popular - Mark as trending/popular product "),c()()()(),a(114,"div",54)(115,"button",55),C("click",function(){return r.goBack()}),b(116,"i",56),d(117," Cancel "),c(),a(118,"button",57),b(119,"i",58),d(120),c()()()()()),2&o&&(p(12),h("ngIf",r.successMessage),p(),h("ngIf",r.errorMessage),p(11),E("ngModel",r.productForm.name),p(5),E("ngModel",r.productForm.category),p(3),h("ngForOf",r.categories),p(4),E("ngModel",r.productForm.subcategory),p(3),h("ngForOf",r.getSubcategories()),p(5),E("ngModel",r.productForm.brand),p(),h("ngForOf",r.brands),p(4),E("ngModel",r.productForm.inStock),p(),h("value",!0),p(2),h("value",!1),p(10),E("ngModel",r.productForm.price),p(4),E("ngModel",r.productForm.originalPrice),p(8),B("active","file"===r.imageUploadMode),p(3),B("active","url"===r.imageUploadMode),p(3),h("ngIf","file"===r.imageUploadMode),p(),h("ngIf","url"===r.imageUploadMode),p(),h("ngIf",r.imagePreview),p(8),E("ngModel",r.productForm.description),p(4),E("ngModel",r.productForm.aboutProduct),p(7),E("ngModel",r.productForm.isFeatured),p(5),E("ngModel",r.productForm.isNew),p(5),E("ngModel",r.productForm.isHot),p(7),h("disabled",r.isSubmitting),p(2),D(" ",r.isSubmitting?"Saving...":"Save Product"," "))},dependencies:[pe,De,ve,nt,bo,vo,Co,et,yo,yn,$n,rt,mo,dr,us,tt,_o,Ge],styles:[".product-add-page[_ngcontent-%COMP%]{min-height:100vh;background:#f5f7fa;padding:40px 20px}.page-header[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:8px;margin-bottom:30px;box-shadow:0 2px 4px #0000001a}.header-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.btn-back[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:10px 16px;background:#f0f0f0;border:1px solid #ddd;border-radius:4px;color:#333;font-size:14px;cursor:pointer;margin-bottom:20px;transition:all .3s ease}.btn-back[_ngcontent-%COMP%]:hover{background:#e0e0e0;border-color:#999;color:#000}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px;color:#333;margin:0 0 8px;display:flex;align-items:center;gap:12px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff}.page-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0;font-size:14px}.alert[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto 20px;padding:15px 20px;border-radius:4px;display:flex;align-items:center;gap:10px;font-weight:500}.alert-success[_ngcontent-%COMP%]{background:#d4edda;color:#155724;border:1px solid #c3e6cb}.alert-error[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;border:1px solid #f5c6cb}.alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}.form-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;background:#fff;padding:30px;border-radius:8px;box-shadow:0 2px 4px #0000001a}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:30px;margin-bottom:30px}@media (max-width: 768px){.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.form-section[_ngcontent-%COMP%]{border:1px solid #e0e0e0;padding:25px;border-radius:6px;background:#fafbfc}.form-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px;color:#333;margin:0 0 20px;padding-bottom:15px;border-bottom:2px solid #007bff;display:flex;align-items:center;gap:10px}.form-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff;font-size:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:20px}@media (max-width: 600px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:600;margin-bottom:8px;color:#333;font-size:14px}.form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=url][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:12px 15px;border:1px solid #ddd;border-radius:4px;font-size:14px;font-family:inherit;transition:border-color .3s ease;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 3px #007bff1a}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:100px}.form-group[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;margin-top:6px;color:#666;font-size:12px}.form-group[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:auto;margin-right:8px;cursor:pointer}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-bottom:0}.image-mode-toggle[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:20px}.toggle-btn[_ngcontent-%COMP%]{flex:1;padding:12px 15px;border:2px solid #ddd;background:#fff;border-radius:4px;cursor:pointer;font-weight:500;color:#666;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:8px;font-size:14px}.toggle-btn[_ngcontent-%COMP%]:hover{border-color:#007bff;color:#007bff}.toggle-btn.active[_ngcontent-%COMP%]{border-color:#007bff;background:#007bff;color:#fff}.image-preview[_ngcontent-%COMP%]{margin-top:20px;padding:15px;background:#f0f0f0;border-radius:4px;position:relative;display:inline-block;width:100%}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px;max-height:300px;border-radius:4px;display:block}.btn-remove-image[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background:#dc3545;color:#fff;border:none;padding:6px 10px;border-radius:4px;cursor:pointer;font-size:12px;display:flex;align-items:center;gap:5px;transition:background .3s ease}.btn-remove-image[_ngcontent-%COMP%]:hover{background:#c82333}.form-actions[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:flex-end;padding-top:20px;border-top:1px solid #e0e0e0}.btn[_ngcontent-%COMP%]{padding:12px 24px;border:none;border-radius:4px;font-size:14px;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:8px}.btn-primary[_ngcontent-%COMP%]{background:#007bff;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#0056b3;transform:translateY(-2px);box-shadow:0 4px 8px #007bff4d}.btn-primary[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed;opacity:.6}.btn-secondary[_ngcontent-%COMP%]{background:#f0f0f0;color:#333;border:1px solid #ddd}.btn-secondary[_ngcontent-%COMP%]:hover{background:#e0e0e0;border-color:#999}@media (max-width: 768px){.product-add-page[_ngcontent-%COMP%]{padding:20px 10px}.page-header[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%], .form-section[_ngcontent-%COMP%]{padding:20px}.form-actions[_ngcontent-%COMP%]{flex-direction:column-reverse}.btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}"]})}}return t})();function bq(t,n){if(1&t){const e=R();a(0,"tr")(1,"td",35)(2,"input",36),C("change",function(){const r=y(e).$implicit;return v(f().toggleUserSelection(r.user.id))}),c()(),a(3,"td")(4,"div",45)(5,"div",46),d(6),c(),a(7,"span"),d(8),c()()(),a(9,"td"),d(10),c(),a(11,"td"),d(12),c(),a(13,"td")(14,"span",47),d(15),c()(),a(16,"td",48)(17,"span",49),d(18),c()(),a(19,"td",50)(20,"strong"),d(21),c()(),a(22,"td",48)(23,"span",51),d(24),c()(),a(25,"td"),d(26),c(),a(27,"td")(28,"div",52)(29,"button",53),C("click",function(){const r=y(e).$implicit;return v(f().viewUserDetails(r.user))}),b(30,"i",54),c(),a(31,"button",55),C("click",function(){const r=y(e).$implicit,i=f();return i.toggleUserSelection(r.user.id),v(i.openNotificationModal())}),b(32,"i",56),c(),a(33,"button",57),C("click",function(){const r=y(e).$implicit;return v(f().openDeleteConfirmModal(r.user))}),b(34,"i",12),c()()()()}if(2&t){const e=n.$implicit,o=f();p(2),h("checked",o.isSelected(e.user.id)),p(4),D(" ",(e.user.name||e.user.firstName||"U").charAt(0).toUpperCase()," "),p(2),S(e.user.name||e.user.firstName||"Unknown"),p(2),S(e.user.email),p(2),S(e.user.phone),p(2),oo("background-color",e.gradeColor),p(),D(" ",e.overallGrade," "),p(3),S(e.totalPurchases),p(3),S(o.formatCurrency(e.totalAmount)),p(3),S(e.activityDays),p(2),S(o.formatDate(e.lastPurchaseDate))}}function yq(t,n){if(1&t){const e=R();a(0,"div",58)(1,"div",59)(2,"div",60)(3,"input",36),C("change",function(){const r=y(e).$implicit;return v(f().toggleUserSelection(r.user.id))}),c()(),a(4,"div",61)(5,"div",46),d(6),c(),a(7,"div")(8,"div",62),d(9),c(),a(10,"span",47),d(11),c()()()(),a(12,"div",63)(13,"div",64)(14,"span",65),d(15,"Email:"),c(),a(16,"span",66),d(17),c()(),a(18,"div",64)(19,"span",65),d(20,"Phone:"),c(),a(21,"span",66),d(22),c()(),a(23,"div",64)(24,"span",65),d(25,"Purchases:"),c(),a(26,"span",49),d(27),c()(),a(28,"div",64)(29,"span",65),d(30,"Revenue:"),c(),a(31,"span",66),d(32),c()(),a(33,"div",64)(34,"span",65),d(35,"Activity:"),c(),a(36,"span",51),d(37),c()(),a(38,"div",64)(39,"span",65),d(40,"Last Purchase:"),c(),a(41,"span",66),d(42),c()()(),a(43,"div",67)(44,"button",68),C("click",function(){const r=y(e).$implicit;return v(f().viewUserDetails(r.user))}),b(45,"i",54),d(46," View "),c(),a(47,"button",69),C("click",function(){const r=y(e).$implicit,i=f();return i.toggleUserSelection(r.user.id),v(i.openNotificationModal())}),b(48,"i",56),d(49," Message "),c(),a(50,"button",70),C("click",function(){const r=y(e).$implicit;return v(f().openDeleteConfirmModal(r.user))}),b(51,"i",12),d(52," Delete "),c()()()}if(2&t){const e=n.$implicit,o=f();p(3),h("checked",o.isSelected(e.user.id)),p(3),D(" ",(e.user.name||e.user.firstName||"U").charAt(0).toUpperCase()," "),p(3),S(e.user.name||e.user.firstName||"Unknown"),p(),oo("background-color",e.gradeColor),p(),D(" ",e.overallGrade," "),p(6),S(e.user.email),p(5),S(e.user.phone),p(5),S(e.totalPurchases),p(5),S(o.formatCurrency(e.totalAmount)),p(5),D("",e.activityDays," days"),p(5),S(o.formatDate(e.lastPurchaseDate))}}function vq(t,n){1&t&&(a(0,"div",71),b(1,"i",72),a(2,"h3"),d(3,"No users found"),c(),a(4,"p"),d(5,"Try adjusting your search criteria"),c()())}function Cq(t,n){if(1&t){const e=R();a(0,"button",81),C("click",function(){const r=y(e).$implicit;return v(f(2).changePage(r))}),d(1),c()}if(2&t){const e=n.$implicit;B("active",e===f(2).currentPage),p(),D(" ",e," ")}}function xq(t,n){if(1&t){const e=R();a(0,"div",73)(1,"button",74),C("click",function(){return y(e),v(f().changePage(1))}),b(2,"i",75),c(),a(3,"button",74),C("click",function(){y(e);const r=f();return v(r.changePage(r.currentPage-1))}),b(4,"i",76),c(),P(5,Cq,2,3,"button",77),a(6,"button",74),C("click",function(){y(e);const r=f();return v(r.changePage(r.currentPage+1))}),b(7,"i",78),c(),a(8,"button",74),C("click",function(){y(e);const r=f();return v(r.changePage(r.totalPages))}),b(9,"i",79),c(),a(10,"span",80),d(11),c()()}if(2&t){const e=f();p(),h("disabled",1===e.currentPage),p(2),h("disabled",1===e.currentPage),p(2),h("ngForOf",e.getPageNumbers()),p(),h("disabled",e.currentPage===e.totalPages),p(2),h("disabled",e.currentPage===e.totalPages),p(3),Fr(" Page ",e.currentPage," of ",e.totalPages," | Total: ",e.filteredUsers.length," users ")}}function Mq(t,n){if(1&t){const e=R();a(0,"div",82),C("click",function(){return y(e),v(f().closeNotificationModal())}),a(1,"div",83),C("click",function(r){return y(e),v(r.stopPropagation())}),a(2,"div",84)(3,"h2"),b(4,"i",10),d(5," Send Push Notification"),c(),a(6,"button",85),C("click",function(){return y(e),v(f().closeNotificationModal())}),b(7,"i",86),c()(),a(8,"div",87)(9,"div",88),b(10,"i",89),a(11,"span"),d(12,"Sending to "),a(13,"strong"),d(14),c(),d(15," selected user(s)"),c()(),a(16,"div",90)(17,"label",91),d(18,"Notification Title *"),c(),a(19,"input",92),A("ngModelChange",function(r){y(e);const i=f();return F(i.notificationTitle,r)||(i.notificationTitle=r),v(r)}),c()(),a(20,"div",90)(21,"label",93),d(22,"Message *"),c(),a(23,"textarea",94),A("ngModelChange",function(r){y(e);const i=f();return F(i.notificationMessage,r)||(i.notificationMessage=r),v(r)}),c(),a(24,"small"),d(25),c()()(),a(26,"div",95)(27,"button",13),C("click",function(){return y(e),v(f().closeNotificationModal())}),d(28," Cancel "),c(),a(29,"button",7),C("click",function(){return y(e),v(f().sendNotification())}),b(30,"i",96),d(31," Send Notification "),c()()()()}if(2&t){const e=f();p(14),S(e.selectedUsers.size),p(5),E("ngModel",e.notificationTitle),p(4),E("ngModel",e.notificationMessage),p(2),D("",e.notificationMessage.length,"/500 characters")}}function Pq(t,n){1&t&&(a(0,"div",105),b(1,"i",106),c())}function wq(t,n){1&t&&(a(0,"div",107),b(1,"i",108),c())}function Oq(t,n){1&t&&(a(0,"div",109),b(1,"i",110),c())}function kq(t,n){if(1&t&&(a(0,"div",113)(1,"span",114),b(2,"i",104),d(3," Deleted: "),c(),a(4,"span",115),d(5),c()()),2&t){const e=f(3);p(5),D("",e.deleteResultDetails.successCount," user(s)")}}function Dq(t,n){if(1&t&&(a(0,"div",113)(1,"span",114),b(2,"i",86),d(3," Failed: "),c(),a(4,"span",116),d(5),c()()),2&t){const e=f(3);p(5),D("",e.deleteResultDetails.failCount," user(s)")}}function Sq(t,n){if(1&t&&(a(0,"div",111),P(1,kq,6,1,"div",112)(2,Dq,6,1,"div",112),c()),2&t){const e=f(2);p(),h("ngIf",e.deleteResultDetails.successCount>0),p(),h("ngIf",e.deleteResultDetails.failCount>0)}}function Iq(t,n){if(1&t&&(a(0,"div",111)(1,"div",113)(2,"span",114),b(3,"i",104),d(4," Total Deleted: "),c(),a(5,"span",115),d(6),c()()()),2&t){const e=f(2);p(6),D("",e.deleteResultDetails.successCount," user(s)")}}function Tq(t,n){if(1&t){const e=R();a(0,"div",82),C("click",function(){return y(e),v(f().closeDeleteResultModal())}),a(1,"div",97),C("click",function(r){return y(e),v(r.stopPropagation())}),a(2,"div",84)(3,"div",98),P(4,Pq,2,0,"div",99)(5,wq,2,0,"div",100)(6,Oq,2,0,"div",101),a(7,"h2"),d(8),c()(),a(9,"button",85),C("click",function(){return y(e),v(f().closeDeleteResultModal())}),b(10,"i",86),c()(),a(11,"div",87)(12,"p",102),d(13),c(),P(14,Sq,3,2,"div",103)(15,Iq,7,1,"div",103),c(),a(16,"div",95)(17,"button",7),C("click",function(){return y(e),v(f().closeDeleteResultModal())}),b(18,"i",104),d(19," Done "),c()()()()}if(2&t){const e=f();p(),h("ngClass","result-"+e.deleteResultType),p(3),h("ngIf","success"===e.deleteResultType),p(),h("ngIf","error"===e.deleteResultType),p(),h("ngIf","mixed"===e.deleteResultType),p(2),S("success"===e.deleteResultType?"Success":"error"===e.deleteResultType?"Error":"Partial Success"),p(5),S(e.deleteResultMessage),p(),h("ngIf","success"!==e.deleteResultType),p(),h("ngIf","success"===e.deleteResultType)}}function Eq(t,n){1&t&&(a(0,"h2"),b(1,"i",121),d(2," Confirm Delete User "),c())}function Aq(t,n){1&t&&(a(0,"h2"),b(1,"i",121),d(2," Confirm Delete Multiple Users "),c())}function Nq(t,n){if(1&t&&(a(0,"div",122),b(1,"i",110),a(2,"p"),d(3,"Are you sure you want to delete "),a(4,"strong"),d(5),c(),d(6,"?"),c(),a(7,"p",123),d(8,"This action cannot be undone. All user data and associated records will be permanently removed."),c(),a(9,"div",124)(10,"div",125)(11,"span",65),d(12,"Name:"),c(),a(13,"span",66),d(14),c()(),a(15,"div",125)(16,"span",65),d(17,"Email:"),c(),a(18,"span",66),d(19),c()(),a(20,"div",125)(21,"span",65),d(22,"Phone:"),c(),a(23,"span",66),d(24),c()()()()),2&t){const e=f(2);p(5),S(null==e.userToDelete?null:e.userToDelete.name),p(9),S(null==e.userToDelete?null:e.userToDelete.name),p(5),S(null==e.userToDelete?null:e.userToDelete.email),p(5),S(null==e.userToDelete?null:e.userToDelete.phone)}}function Fq(t,n){if(1&t&&(a(0,"div",129)(1,"span",46),d(2),c(),a(3,"div",130)(4,"span",62),d(5),c(),a(6,"span",131),d(7),c()()()),2&t){const e=n.$implicit;p(2),S((e.name||e.firstName||"U").charAt(0).toUpperCase()),p(3),S(e.name||e.firstName||"Unknown"),p(2),S(e.email)}}function Rq(t,n){if(1&t&&(a(0,"div",122),b(1,"i",110),a(2,"p"),d(3,"Are you sure you want to delete "),a(4,"strong"),d(5),c(),d(6,"?"),c(),a(7,"p",123),d(8,"This action cannot be undone. All user data and associated records will be permanently removed."),c(),a(9,"div",126)(10,"div",127)(11,"strong"),d(12,"Users to be deleted:"),c()(),P(13,Fq,8,3,"div",128),c()()),2&t){const e=f(2);p(5),D("",e.usersToDelete.length," user(s)"),p(8),h("ngForOf",e.usersToDelete)}}function Lq(t,n){if(1&t){const e=R();a(0,"div",82),C("click",function(){return y(e),v(f().closeDeleteConfirmModal())}),a(1,"div",117),C("click",function(r){return y(e),v(r.stopPropagation())}),a(2,"div",84),P(3,Eq,3,0,"h2",118)(4,Aq,3,0,"h2",118),a(5,"button",85),C("click",function(){return y(e),v(f().closeDeleteConfirmModal())}),b(6,"i",86),c()(),a(7,"div",87),P(8,Nq,25,4,"div",119)(9,Rq,14,2,"div",119),c(),a(10,"div",95)(11,"button",13),C("click",function(){return y(e),v(f().closeDeleteConfirmModal())}),d(12," Cancel "),c(),a(13,"button",120),C("click",function(){return y(e),v(f().confirmDeleteUser())}),b(14,"i",12),d(15),c()()()()}if(2&t){const e=f();p(3),h("ngIf",!e.isMultiDelete),p(),h("ngIf",e.isMultiDelete),p(4),h("ngIf",!e.isMultiDelete),p(),h("ngIf",e.isMultiDelete),p(6),D(" ",e.isMultiDelete?"Delete All":"Delete User"," ")}}function Uq(t,n){if(1&t&&(a(0,"span",150),d(1),c()),2&t){const e=f(3);p(),D(" ",e.createUserErrors.name," ")}}function Vq(t,n){if(1&t&&(a(0,"span",150),d(1),c()),2&t){const e=f(3);p(),D(" ",e.createUserErrors.email," ")}}function Bq(t,n){if(1&t&&(a(0,"span",150),d(1),c()),2&t){const e=f(3);p(),D(" ",e.createUserErrors.phone," ")}}function zq(t,n){if(1&t&&(a(0,"span",150),d(1),c()),2&t){const e=f(3);p(),D(" ",e.createUserErrors.password," ")}}function jq(t,n){if(1&t){const e=R();a(0,"div",87)(1,"form",136),C("ngSubmit",function(){return y(e),v(f(2).createNewUser())}),a(2,"div",90)(3,"label",137),d(4,"Full Name *"),c(),a(5,"input",138),A("ngModelChange",function(r){y(e);const i=f(2);return F(i.newUserForm.name,r)||(i.newUserForm.name=r),v(r)}),c(),P(6,Uq,2,1,"span",139),c(),a(7,"div",90)(8,"label",140),d(9,"Email *"),c(),a(10,"input",141),A("ngModelChange",function(r){y(e);const i=f(2);return F(i.newUserForm.email,r)||(i.newUserForm.email=r),v(r)}),c(),P(11,Vq,2,1,"span",139),c(),a(12,"div",90)(13,"label",142),d(14,"Phone Number *"),c(),a(15,"input",143),A("ngModelChange",function(r){y(e);const i=f(2);return F(i.newUserForm.phone,r)||(i.newUserForm.phone=r),v(r)}),c(),P(16,Bq,2,1,"span",139),c(),a(17,"div",90)(18,"label",144),d(19,"Password *"),c(),a(20,"input",145),A("ngModelChange",function(r){y(e);const i=f(2);return F(i.newUserForm.password,r)||(i.newUserForm.password=r),v(r)}),c(),P(21,zq,2,1,"span",139),c(),a(22,"div",90)(23,"label",146),d(24,"User Role *"),c(),a(25,"select",147),A("ngModelChange",function(r){y(e);const i=f(2);return F(i.newUserForm.role,r)||(i.newUserForm.role=r),v(r)}),a(26,"option",148),d(27,"Regular User"),c(),a(28,"option",149),d(29,"Administrator"),c()()()()()}if(2&t){const e=f(2);p(5),B("is-invalid",e.createUserErrors.name),E("ngModel",e.newUserForm.name),p(),h("ngIf",e.createUserErrors.name),p(4),B("is-invalid",e.createUserErrors.email),E("ngModel",e.newUserForm.email),p(),h("ngIf",e.createUserErrors.email),p(4),B("is-invalid",e.createUserErrors.phone),E("ngModel",e.newUserForm.phone),p(),h("ngIf",e.createUserErrors.phone),p(4),B("is-invalid",e.createUserErrors.password),E("ngModel",e.newUserForm.password),p(),h("ngIf",e.createUserErrors.password),p(4),E("ngModel",e.newUserForm.role)}}function $q(t,n){1&t&&(a(0,"div",87)(1,"div",151),b(2,"i",106),a(3,"h3"),d(4,"User Created Successfully!"),c(),a(5,"p"),d(6,"The new user has been added to the system."),c()()())}function Hq(t,n){if(1&t){const e=R();a(0,"button",13),C("click",function(){return y(e),v(f(2).closeCreateUserModal())}),d(1," Cancel "),c()}}function qq(t,n){if(1&t){const e=R();a(0,"button",7),C("click",function(){return y(e),v(f(2).createNewUser())}),b(1,"i",152),d(2," Create User "),c()}}function Wq(t,n){if(1&t){const e=R();a(0,"button",7),C("click",function(){return y(e),v(f(2).closeCreateUserModal())}),b(1,"i",104),d(2," Done "),c()}}function Gq(t,n){if(1&t){const e=R();a(0,"div",82),C("click",function(){return y(e),v(f().closeCreateUserModal())}),a(1,"div",132),C("click",function(r){return y(e),v(r.stopPropagation())}),a(2,"div",84)(3,"h2"),b(4,"i",8),d(5," Create New User"),c(),a(6,"button",85),C("click",function(){return y(e),v(f().closeCreateUserModal())}),b(7,"i",86),c()(),P(8,jq,30,17,"div",133)(9,$q,7,0,"div",133),a(10,"div",95),P(11,Hq,2,0,"button",134)(12,qq,3,0,"button",135)(13,Wq,3,0,"button",135),c()()()}if(2&t){const e=f();p(8),h("ngIf",!e.createUserSuccess),p(),h("ngIf",e.createUserSuccess),p(2),h("ngIf",!e.createUserSuccess),p(),h("ngIf",!e.createUserSuccess),p(),h("ngIf",e.createUserSuccess)}}let Yq=(()=>{class t{constructor(){this.authService=w(Qe),this.analyticsService=w(gr),this.router=w(me),this.location=w(ao),this.http=w(kt),this.users=[],this.filteredUsers=[],this.searchTerm="",this.sortBy="name",this.sortOrder="asc",this.currentPage=1,this.itemsPerPage=10,this.totalPages=1,this.showNotificationModal=!1,this.notificationTitle="",this.notificationMessage="",this.selectedUsers=new Set,this.selectAll=!1,this.showDeleteConfirmModal=!1,this.userToDelete=null,this.isMultiDelete=!1,this.usersToDelete=[],this.showDeleteResultModal=!1,this.deleteResultMessage="",this.deleteResultType="success",this.deleteResultDetails={successCount:0,failCount:0},this.showCreateUserModal=!1,this.newUserForm={name:"",email:"",phone:"",password:"",role:"user"},this.createUserErrors={},this.createUserSuccess=!1}ngOnInit(){this.authService.isAdmin()?this.loadUsers():this.router.navigate(["/"])}goBack(){this.location.back()}loadUsers(){const e=localStorage.getItem("token"),o={};e&&(o.Authorization=`Bearer ${e}`),this.http.get("/api/users/admin/all",{headers:o}).subscribe({next:r=>{if(r.success&&r.data){const i=r.data,s=this.analyticsService.getTransactions();this.users=i.map(l=>{const u=s.filter(K=>K.userId===l.id),g=u.filter(K=>"order"===K.type).length,m=u.filter(K=>"order"===K.type&&K.amount).reduce((K,be)=>K+(be.amount||0),0),_=u.filter(K=>"order"===K.type).sort((K,be)=>new Date(be.timestamp).getTime()-new Date(K.timestamp).getTime())[0],x=_?_.timestamp:l.created_at,O=new Set(u.map(K=>K.timestamp.split("T")[0])).size,k=Math.min(100,10*O),I=Math.min(100,20*g),T=.3*k+.4*I+.3*Math.min(100,m/1e3*10);let $="F",G="#dc3545";return T>=90?($="A+",G="#28a745"):T>=80?($="A",G="#5cb85c"):T>=70?($="B+",G="#5bc0de"):T>=60?($="B",G="#0275d8"):T>=50?($="C",G="#f0ad4e"):T>=40&&($="D",G="#ff8c00"),{user:{id:l.id,email:l.email,firstName:l.first_name,lastName:l.last_name,name:l.first_name||l.email},totalPurchases:g,totalAmount:m,lastPurchaseDate:x,browsingScore:k,purchaseScore:I,overallGrade:$,gradeColor:G,activityDays:O}}),this.applyFilters()}},error:r=>{console.error("Error loading users:",r)}})}applyFilters(){let e=this.users;if(this.searchTerm){const o=this.searchTerm.toLowerCase();e=e.filter(r=>(r.user.name||r.user.firstName||"").toLowerCase().includes(o)||r.user.email.toLowerCase().includes(o)||(r.user.phone||"").includes(o))}e.sort((o,r)=>{let i=0;switch(this.sortBy){case"name":const s=(o.user.name||o.user.firstName||"").toLowerCase(),l=(r.user.name||r.user.firstName||"").toLowerCase();i=s.localeCompare(l);break;case"email":i=o.user.email.localeCompare(r.user.email);break;case"grade":const u={"A+":7,A:6,"B+":5,B:4,C:3,D:2,F:1};i=(u[o.overallGrade]||0)-(u[r.overallGrade]||0);break;case"purchases":i=o.totalPurchases-r.totalPurchases;break;case"amount":i=o.totalAmount-r.totalAmount;break;case"activity":i=o.activityDays-r.activityDays}return"asc"===this.sortOrder?i:-i}),this.filteredUsers=e,this.totalPages=Math.ceil(this.filteredUsers.length/this.itemsPerPage),this.currentPage=Math.min(this.currentPage,this.totalPages||1)}getPaginatedUsers(){const e=(this.currentPage-1)*this.itemsPerPage;return this.filteredUsers.slice(e,e+this.itemsPerPage)}changePage(e){e>=1&&e<=this.totalPages&&(this.currentPage=e)}getPageNumbers(){const e=[];let r=Math.max(1,this.currentPage-Math.floor(2.5)),i=Math.min(this.totalPages,r+5-1);i-r<4&&(r=Math.max(1,i-5+1));for(let s=r;s<=i;s++)e.push(s);return e}sortTable(e){this.sortBy===e?this.sortOrder="asc"===this.sortOrder?"desc":"asc":(this.sortBy=e,this.sortOrder="asc"),this.applyFilters()}onSearch(){this.currentPage=1,this.applyFilters()}formatDate(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}formatCurrency(e){return"\u20b9"+e.toLocaleString("en-IN")}toggleUserSelection(e){e&&(this.selectedUsers.has(e)?this.selectedUsers.delete(e):this.selectedUsers.add(e),this.updateSelectAllState())}toggleSelectAll(){this.selectAll=!this.selectAll,this.selectAll?this.getPaginatedUsers().forEach(e=>{e.user.id&&this.selectedUsers.add(e.user.id)}):this.getPaginatedUsers().forEach(e=>{e.user.id&&this.selectedUsers.delete(e.user.id)})}updateSelectAllState(){const e=this.getPaginatedUsers();this.selectAll=e.length>0&&e.every(o=>o.user.id&&this.selectedUsers.has(o.user.id))}isSelected(e){return!!e&&this.selectedUsers.has(e)}openNotificationModal(){0!==this.selectedUsers.size?this.showNotificationModal=!0:alert("Please select at least one user to send notification")}closeNotificationModal(){this.showNotificationModal=!1,this.notificationTitle="",this.notificationMessage=""}sendNotification(){if(!this.notificationTitle.trim()||!this.notificationMessage.trim())return void alert("Please fill in both title and message");const e=this.getNotificationLogs(),o={id:Date.now().toString(),title:this.notificationTitle,message:this.notificationMessage,recipients:Array.from(this.selectedUsers),recipientCount:this.selectedUsers.size,timestamp:(new Date).toISOString()};e.push(o),localStorage.setItem("drone_shop_notifications",JSON.stringify(e)),alert(`Notification sent to ${this.selectedUsers.size} user(s)`),this.selectedUsers.clear(),this.selectAll=!1,this.closeNotificationModal()}getNotificationLogs(){const e=localStorage.getItem("drone_shop_notifications");return e?JSON.parse(e):[]}viewUserDetails(e){}exportToCSV(){const o=this.filteredUsers.map(u=>[u.user.name,u.user.email,u.user.phone,u.overallGrade,u.totalPurchases.toString(),u.totalAmount.toString(),u.activityDays.toString(),this.formatDate(u.lastPurchaseDate)]);let r=["Name","Email","Phone","Grade","Purchases","Total Amount","Activity Days","Last Purchase"].join(",")+"\n";o.forEach(u=>{r+=u.map(g=>`"${g}"`).join(",")+"\n"});const i=new Blob([r],{type:"text/csv"}),s=window.URL.createObjectURL(i),l=document.createElement("a");l.href=s,l.download=`users_${(new Date).toISOString().split("T")[0]}.csv`,l.click(),window.URL.revokeObjectURL(s)}getPremiumUsersCount(){return this.users.filter(e=>"A+"===e.overallGrade||"A"===e.overallGrade).length}getTotalPurchases(){return this.users.reduce((e,o)=>e+o.totalPurchases,0)}getTotalRevenue(){return this.users.reduce((e,o)=>e+o.totalAmount,0)}openDeleteConfirmModal(e){this.userToDelete=e,this.isMultiDelete=!1,this.usersToDelete=[],this.showDeleteConfirmModal=!0}openMultiDeleteConfirmModal(){0!==this.selectedUsers.size?(this.usersToDelete=this.users.filter(e=>e.user.id&&e.user.id&&this.selectedUsers.has(e.user.id)).map(e=>e.user),this.isMultiDelete=!0,this.userToDelete=null,this.showDeleteConfirmModal=!0):alert("Please select at least one user to delete")}closeDeleteConfirmModal(){this.showDeleteConfirmModal=!1,this.userToDelete=null,this.usersToDelete=[],this.isMultiDelete=!1}confirmDeleteUser(){this.isMultiDelete?this.confirmDeleteMultipleUsers():this.confirmDeleteSingleUser()}confirmDeleteSingleUser(){this.userToDelete?.id&&this.authService.deleteUser(this.userToDelete.id).subscribe({next:e=>{this.deleteResultType="success",this.deleteResultMessage=`User "${this.userToDelete?.name}" has been deleted successfully`,this.deleteResultDetails={successCount:1,failCount:0},this.closeDeleteConfirmModal(),setTimeout(()=>{this.loadUsers(),this.showDeleteResultModal=!0},300)},error:e=>{this.deleteResultType="error",this.deleteResultMessage="Error: "+(e.message||"Failed to delete user"),this.deleteResultDetails={successCount:0,failCount:1},this.showDeleteResultModal=!0}})}confirmDeleteMultipleUsers(){if(0===this.usersToDelete.length)return;let e=0,o=0,r=0;for(const i of this.usersToDelete)i.id&&this.authService.deleteUser(i.id).subscribe({next:s=>{e++,r++,r===this.usersToDelete.length&&this.updateDeleteResults(e,o)},error:s=>{o++,r++,r===this.usersToDelete.length&&this.updateDeleteResults(e,o)}})}updateDeleteResults(e,o){0===o?(this.deleteResultType="success",this.deleteResultMessage=`Successfully deleted ${e} user(s)`):0===e?(this.deleteResultType="error",this.deleteResultMessage=`Failed to delete ${o} user(s)`):(this.deleteResultType="mixed",this.deleteResultMessage=`Deleted ${e} user(s) with ${o} failure(s)`),this.deleteResultDetails={successCount:e,failCount:o},this.selectedUsers.clear(),this.selectAll=!1,this.closeDeleteConfirmModal(),setTimeout(()=>{this.loadUsers(),this.showDeleteResultModal=!0},300)}closeDeleteResultModal(){this.showDeleteResultModal=!1,this.deleteResultMessage="",this.deleteResultDetails={successCount:0,failCount:0}}openCreateUserModal(){this.showCreateUserModal=!0,this.resetCreateUserForm()}closeCreateUserModal(){this.showCreateUserModal=!1,this.resetCreateUserForm()}resetCreateUserForm(){this.newUserForm={name:"",email:"",phone:"",password:"",role:"user"},this.createUserErrors={},this.createUserSuccess=!1}validateCreateUserForm(){return this.createUserErrors={},this.newUserForm.name.trim()||(this.createUserErrors.name="Name is required"),this.newUserForm.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.newUserForm.email)||(this.createUserErrors.email="Invalid email format"):this.createUserErrors.email="Email is required",this.newUserForm.password?this.newUserForm.password.length<6&&(this.createUserErrors.password="Password must be at least 6 characters"):this.createUserErrors.password="Password is required",0===Object.keys(this.createUserErrors).length}createNewUser(){if(!this.validateCreateUserForm())return void console.error("Form validation failed:",this.createUserErrors);console.log("Creating user with:",{firstName:this.newUserForm.name,email:this.newUserForm.email,password:"***"});const e={firstName:this.newUserForm.name,email:this.newUserForm.email,password:this.newUserForm.password},o=localStorage.getItem("token"),r={};o&&(r.Authorization=`Bearer ${o}`),this.http.post("/api/users/admin/create",e,{headers:r}).subscribe({next:i=>{console.log("User created successfully:",i),i.success&&(this.createUserSuccess=!0,setTimeout(()=>{this.loadUsers(),this.closeCreateUserModal()},1500))},error:i=>{console.error("Error creating user:",i),console.error("Error details:",i.error),401===i.status?this.createUserErrors.general="Authentication failed. Please login again.":"Email already exists"===i.error?.error?this.createUserErrors.email="Email already in use":this.createUserErrors.general=i.error?.error||"Failed to create user: "+i.message}})}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=se({type:t,selectors:[["app-user-management"]],standalone:!0,features:[ae],decls:115,vars:60,consts:[[1,"user-management"],[1,"page-header"],[1,"header-left"],["title","Go back to dashboard",1,"btn-back",3,"click"],[1,"fas","fa-arrow-left"],[1,"fas","fa-users-cog"],[1,"header-actions"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-user-plus"],[1,"btn","btn-success",3,"click","disabled"],[1,"fas","fa-bell"],[1,"btn","btn-danger",3,"click","disabled"],[1,"fas","fa-trash"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-download"],[1,"stats-row"],[1,"stat-box"],[1,"stat-icon","blue"],[1,"fas","fa-users"],[1,"stat-info"],[1,"stat-icon","green"],[1,"fas","fa-star"],[1,"stat-icon","orange"],[1,"fas","fa-shopping-bag"],[1,"stat-icon","purple"],[1,"fas","fa-rupee-sign"],[1,"filters-section"],[1,"search-box"],[1,"fas","fa-search"],["type","text","placeholder","Search by name, email, or phone...",3,"ngModelChange","input","ngModel"],[1,"filter-controls"],[3,"ngModelChange","change","ngModel"],[3,"value"],[1,"table-container"],[1,"users-table"],[1,"checkbox-cell"],["type","checkbox",3,"change","checked"],[1,"sortable",3,"click"],[1,"fas"],[4,"ngFor","ngForOf"],[1,"mobile-user-cards"],["class","user-card",4,"ngFor","ngForOf"],["class","no-results",4,"ngIf"],["class","pagination",4,"ngIf"],["class","modal-backdrop",3,"click",4,"ngIf"],[1,"user-info"],[1,"user-avatar"],[1,"grade-badge"],[1,"text-center"],[1,"badge-count"],[1,"text-right"],[1,"activity-badge"],[1,"action-buttons"],["title","View Details",1,"btn-icon",3,"click"],[1,"fas","fa-eye"],["title","Send Message",1,"btn-icon",3,"click"],[1,"fas","fa-envelope"],["title","Delete User",1,"btn-icon","btn-danger",3,"click"],[1,"user-card"],[1,"card-header"],[1,"checkbox-wrapper"],[1,"user-info-mobile"],[1,"user-name"],[1,"card-body"],[1,"card-row"],[1,"label"],[1,"value"],[1,"card-actions"],["title","View Details",1,"btn-action",3,"click"],["title","Send Message",1,"btn-action",3,"click"],["title","Delete User",1,"btn-action","btn-danger",3,"click"],[1,"no-results"],[1,"fas","fa-user-slash"],[1,"pagination"],[1,"page-btn",3,"click","disabled"],[1,"fas","fa-angle-double-left"],[1,"fas","fa-angle-left"],["class","page-btn",3,"active","click",4,"ngFor","ngForOf"],[1,"fas","fa-angle-right"],[1,"fas","fa-angle-double-right"],[1,"page-info"],[1,"page-btn",3,"click"],[1,"modal-backdrop",3,"click"],[1,"modal-content","notification-modal",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"fas","fa-times"],[1,"modal-body"],[1,"notification-info"],[1,"fas","fa-info-circle"],[1,"form-group"],["for","notif-title"],["type","text","id","notif-title","placeholder","Enter notification title","maxlength","100",3,"ngModelChange","ngModel"],["for","notif-message"],["id","notif-message","placeholder","Enter your message...","rows","5","maxlength","500",3,"ngModelChange","ngModel"],[1,"modal-footer"],[1,"fas","fa-paper-plane"],[1,"modal-content","result-modal",3,"click","ngClass"],[1,"result-header"],["class","result-icon success",4,"ngIf"],["class","result-icon error",4,"ngIf"],["class","result-icon mixed",4,"ngIf"],[1,"result-message"],["class","result-details",4,"ngIf"],[1,"fas","fa-check"],[1,"result-icon","success"],[1,"fas","fa-check-circle"],[1,"result-icon","error"],[1,"fas","fa-times-circle"],[1,"result-icon","mixed"],[1,"fas","fa-exclamation-circle"],[1,"result-details"],["class","detail-row",4,"ngIf"],[1,"detail-row"],[1,"detail-label"],[1,"detail-value","success-text"],[1,"detail-value","error-text"],[1,"modal-content","delete-modal",3,"click"],[4,"ngIf"],["class","delete-warning",4,"ngIf"],[1,"btn","btn-danger",3,"click"],[1,"fas","fa-exclamation-triangle"],[1,"delete-warning"],[1,"warning-text"],[1,"user-delete-info"],[1,"info-row"],[1,"user-delete-info","multi-user-list"],[1,"list-header"],["class","info-row user-item",4,"ngFor","ngForOf"],[1,"info-row","user-item"],[1,"user-details"],[1,"user-email"],[1,"modal-content","create-user-modal",3,"click"],["class","modal-body",4,"ngIf"],["class","btn btn-secondary",3,"click",4,"ngIf"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"user-form",3,"ngSubmit"],["for","user-name"],["type","text","id","user-name","name","name","placeholder","Enter full name",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","user-email"],["type","email","id","user-email","name","email","placeholder","Enter email address",1,"form-control",3,"ngModelChange","ngModel"],["for","user-phone"],["type","tel","id","user-phone","name","phone","placeholder","Enter 10-digit phone number","maxlength","10",1,"form-control",3,"ngModelChange","ngModel"],["for","user-password"],["type","password","id","user-password","name","password","placeholder","Enter password (min 6 characters)",1,"form-control",3,"ngModelChange","ngModel"],["for","user-role"],["id","user-role","name","role",1,"form-control",3,"ngModelChange","ngModel"],["value","user"],["value","admin"],[1,"error-message"],[1,"success-message"],[1,"fas","fa-save"]],template:function(o,r){1&o&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),C("click",function(){return r.goBack()}),b(4,"i",4),d(5," Back "),c(),a(6,"h1"),b(7,"i",5),d(8," User Management"),c(),a(9,"p"),d(10,"Monitor and manage all registered users"),c()(),a(11,"div",6)(12,"button",7),C("click",function(){return r.openCreateUserModal()}),b(13,"i",8),d(14," Create User "),c(),a(15,"button",9),C("click",function(){return r.openNotificationModal()}),b(16,"i",10),d(17),c(),a(18,"button",11),C("click",function(){return r.openMultiDeleteConfirmModal()}),b(19,"i",12),d(20),c(),a(21,"button",13),C("click",function(){return r.exportToCSV()}),b(22,"i",14),d(23," Export CSV "),c()()(),a(24,"div",15)(25,"div",16)(26,"div",17),b(27,"i",18),c(),a(28,"div",19)(29,"h3"),d(30),c(),a(31,"p"),d(32,"Total Users"),c()()(),a(33,"div",16)(34,"div",20),b(35,"i",21),c(),a(36,"div",19)(37,"h3"),d(38),c(),a(39,"p"),d(40,"Premium Users (A+/A)"),c()()(),a(41,"div",16)(42,"div",22),b(43,"i",23),c(),a(44,"div",19)(45,"h3"),d(46),c(),a(47,"p"),d(48,"Total Purchases"),c()()(),a(49,"div",16)(50,"div",24),b(51,"i",25),c(),a(52,"div",19)(53,"h3"),d(54),c(),a(55,"p"),d(56,"Total Revenue"),c()()()(),a(57,"div",26)(58,"div",27),b(59,"i",28),a(60,"input",29),A("ngModelChange",function(s){return F(r.searchTerm,s)||(r.searchTerm=s),s}),C("input",function(){return r.onSearch()}),c()(),a(61,"div",30)(62,"label"),d(63,"Items per page:"),c(),a(64,"select",31),A("ngModelChange",function(s){return F(r.itemsPerPage,s)||(r.itemsPerPage=s),s}),C("change",function(){return r.onSearch()}),a(65,"option",32),d(66,"5"),c(),a(67,"option",32),d(68,"10"),c(),a(69,"option",32),d(70,"25"),c(),a(71,"option",32),d(72,"50"),c(),a(73,"option",32),d(74,"100"),c()()()(),a(75,"div",33)(76,"table",34)(77,"thead")(78,"tr")(79,"th",35)(80,"input",36),C("change",function(){return r.toggleSelectAll()}),c()(),a(81,"th",37),C("click",function(){return r.sortTable("name")}),d(82," Name "),b(83,"i",38),c(),a(84,"th",37),C("click",function(){return r.sortTable("email")}),d(85," Email "),b(86,"i",38),c(),a(87,"th"),d(88,"Phone"),c(),a(89,"th",37),C("click",function(){return r.sortTable("grade")}),d(90," Grade "),b(91,"i",38),c(),a(92,"th",37),C("click",function(){return r.sortTable("purchases")}),d(93," Purchases "),b(94,"i",38),c(),a(95,"th",37),C("click",function(){return r.sortTable("amount")}),d(96," Total Amount "),b(97,"i",38),c(),a(98,"th",37),C("click",function(){return r.sortTable("activity")}),d(99," Activity Days "),b(100,"i",38),c(),a(101,"th"),d(102,"Last Purchase"),c(),a(103,"th"),d(104,"Actions"),c()()(),a(105,"tbody"),P(106,bq,35,12,"tr",39),c()(),a(107,"div",40),P(108,yq,53,12,"div",41),c(),P(109,vq,6,0,"div",42),c(),P(110,xq,12,8,"div",43),c(),P(111,Mq,32,4,"div",44)(112,Tq,20,8,"div",44)(113,Lq,16,5,"div",44)(114,Gq,14,5,"div",44)),2&o&&(p(15),h("disabled",0===r.selectedUsers.size),p(2),D(" Send Notification (",r.selectedUsers.size,") "),p(),h("disabled",0===r.selectedUsers.size),p(2),D(" Delete Selected (",r.selectedUsers.size,") "),p(10),S(r.users.length),p(8),S(r.getPremiumUsersCount()),p(8),S(r.getTotalPurchases()),p(8),S(r.formatCurrency(r.getTotalRevenue())),p(6),E("ngModel",r.searchTerm),p(4),E("ngModel",r.itemsPerPage),p(),h("value",5),p(2),h("value",10),p(2),h("value",25),p(2),h("value",50),p(2),h("value",100),p(7),h("checked",r.selectAll),p(3),B("fa-sort-up","name"===r.sortBy&&"asc"===r.sortOrder)("fa-sort-down","name"===r.sortBy&&"desc"===r.sortOrder)("fa-sort","name"!==r.sortBy),p(3),B("fa-sort-up","email"===r.sortBy&&"asc"===r.sortOrder)("fa-sort-down","email"===r.sortBy&&"desc"===r.sortOrder)("fa-sort","email"!==r.sortBy),p(5),B("fa-sort-up","grade"===r.sortBy&&"asc"===r.sortOrder)("fa-sort-down","grade"===r.sortBy&&"desc"===r.sortOrder)("fa-sort","grade"!==r.sortBy),p(3),B("fa-sort-up","purchases"===r.sortBy&&"asc"===r.sortOrder)("fa-sort-down","purchases"===r.sortBy&&"desc"===r.sortOrder)("fa-sort","purchases"!==r.sortBy),p(3),B("fa-sort-up","amount"===r.sortBy&&"asc"===r.sortOrder)("fa-sort-down","amount"===r.sortBy&&"desc"===r.sortOrder)("fa-sort","amount"!==r.sortBy),p(3),B("fa-sort-up","activity"===r.sortBy&&"asc"===r.sortOrder)("fa-sort-down","activity"===r.sortBy&&"desc"===r.sortOrder)("fa-sort","activity"!==r.sortBy),p(6),h("ngForOf",r.getPaginatedUsers()),p(2),h("ngForOf",r.getPaginatedUsers()),p(),h("ngIf",0===r.filteredUsers.length),p(),h("ngIf",r.totalPages>1),p(),h("ngIf",r.showNotificationModal),p(),h("ngIf",r.showDeleteResultModal),p(),h("ngIf",r.showDeleteConfirmModal),p(),h("ngIf",r.showCreateUserModal))},dependencies:[pe,Ua,De,ve,nt,bo,vo,Co,et,$n,rt,mo,ps,tt,_o],styles:["@media (max-width: 1024px){.user-management[_ngcontent-%COMP%]{padding:20px}.page-header[_ngcontent-%COMP%]{gap:15px;margin-bottom:25px}.header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.header-actions[_ngcontent-%COMP%]{flex-wrap:wrap;gap:8px;width:100%}.header-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1;min-width:120px;font-size:12px;padding:8px 10px}.stats-row[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:15px;margin-bottom:25px}.stat-box[_ngcontent-%COMP%]{padding:15px}.stat-icon[_ngcontent-%COMP%]{width:50px;height:50px;font-size:20px}.stat-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px}.stat-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}.filters-section[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:15px}.search-box[_ngcontent-%COMP%]{min-width:auto;width:100%}.filter-controls[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.users-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .users-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 8px;font-size:12px}.user-avatar[_ngcontent-%COMP%]{width:35px;height:35px;font-size:14px}.grade-badge[_ngcontent-%COMP%]{padding:5px 12px;font-size:12px;min-width:45px}.badge-count[_ngcontent-%COMP%], .activity-badge[_ngcontent-%COMP%]{padding:3px 10px;font-size:11px}.action-buttons[_ngcontent-%COMP%]{gap:5px}}@media (max-width: 768px){.user-management[_ngcontent-%COMP%]{padding:15px}.table-container[_ngcontent-%COMP%]{display:none}.mobile-user-cards[_ngcontent-%COMP%]{display:flex;flex-direction:column}.page-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:12px;margin-bottom:20px}.header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}.header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:none}.header-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}.header-actions[_ngcontent-%COMP%]{flex-direction:column;gap:10px;width:100%}.header-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;padding:10px 12px;font-size:12px}.header-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:6px}.stats-row[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:12px;margin-bottom:20px}.stat-box[_ngcontent-%COMP%]{flex-direction:column;text-align:center;padding:12px}.stat-icon[_ngcontent-%COMP%]{width:45px;height:45px;font-size:18px}.stat-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px}.stat-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11px}.filters-section[_ngcontent-%COMP%]{flex-direction:column;gap:12px;padding:15px}.search-box[_ngcontent-%COMP%]{width:100%}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:14px;padding:10px 12px 10px 40px}.filter-controls[_ngcontent-%COMP%]{width:100%;flex-direction:column;gap:8px}.filter-controls[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px}.filter-controls[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:12px}.pagination[_ngcontent-%COMP%]{flex-wrap:wrap;gap:5px;padding:15px}.page-btn[_ngcontent-%COMP%]{padding:6px 10px;font-size:11px}.page-info[_ngcontent-%COMP%]{width:100%;text-align:center;font-size:10px;margin-top:10px}.modal-content[_ngcontent-%COMP%]{width:95%!important;max-height:90vh;overflow-y:auto}.modal-header[_ngcontent-%COMP%]{padding:15px}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:16px}.modal-body[_ngcontent-%COMP%]{padding:15px}.modal-footer[_ngcontent-%COMP%]{padding:12px 15px;gap:10px}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1;padding:10px;font-size:12px}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:6px}.form-control[_ngcontent-%COMP%]{padding:10px;font-size:14px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px}.user-form[_ngcontent-%COMP%]{gap:15px}.success-message[_ngcontent-%COMP%]{padding:30px 15px}.success-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:40px}.success-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 480px){.user-management[_ngcontent-%COMP%]{padding:12px}.table-container[_ngcontent-%COMP%]{display:none}.mobile-user-cards[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.page-header[_ngcontent-%COMP%]{gap:10px}.header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px}.header-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11px}.btn-back[_ngcontent-%COMP%]{padding:8px 12px;font-size:12px}.header-actions[_ngcontent-%COMP%]{gap:8px}.header-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:8px 10px;font-size:11px}.header-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:4px}.stats-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:10px}.stat-box[_ngcontent-%COMP%]{padding:10px}.stat-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:16px}.stat-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}.stat-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:10px}.filters-section[_ngcontent-%COMP%]{padding:12px;gap:10px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:14px;padding:8px 10px 8px 35px}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:12px}.user-card[_ngcontent-%COMP%]{border-radius:8px}.card-header[_ngcontent-%COMP%]{padding:10px;gap:10px}.user-info-mobile[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:36px;height:36px;font-size:14px}.user-info-mobile[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-size:13px}.card-body[_ngcontent-%COMP%]{padding:10px;gap:6px}.card-row[_ngcontent-%COMP%]{font-size:11px}.card-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{min-width:70px}.card-actions[_ngcontent-%COMP%]{padding:10px;gap:6px}.btn-action[_ngcontent-%COMP%]{padding:6px 8px;font-size:10px;gap:4px}.btn-action[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px}.pagination[_ngcontent-%COMP%]{padding:12px;gap:3px}.page-btn[_ngcontent-%COMP%]{padding:4px 8px;font-size:10px;min-width:35px;height:35px}.page-info[_ngcontent-%COMP%]{font-size:9px}.modal-content[_ngcontent-%COMP%]{width:98%!important}.modal-header[_ngcontent-%COMP%]{padding:12px}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:14px}.modal-body[_ngcontent-%COMP%]{padding:12px}.modal-footer[_ngcontent-%COMP%]{padding:10px 12px}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:8px;font-size:11px}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:4px}.form-control[_ngcontent-%COMP%]{padding:9px;font-size:14px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;margin-bottom:6px}.user-form[_ngcontent-%COMP%]{gap:12px}.success-message[_ngcontent-%COMP%]{padding:20px 10px}.success-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:35px;margin-bottom:10px}.success-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;margin:10px 0 8px}.success-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}.error-message[_ngcontent-%COMP%]{font-size:11px}.no-results[_ngcontent-%COMP%]{padding:40px 15px}.no-results[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:48px}.no-results[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}.no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}}.user-management[_ngcontent-%COMP%]{padding:30px;max-width:1400px;margin:0 auto}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:30px;flex-wrap:wrap;gap:20px}.header-left[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.btn-back[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:10px 16px;background:#f0f0f0;border:1px solid #ddd;border-radius:4px;color:#333;font-size:14px;cursor:pointer;transition:all .3s ease;font-weight:500;width:-moz-fit-content;width:fit-content}.btn-back[_ngcontent-%COMP%]:hover{background:#e0e0e0;border-color:#999;color:#000}.header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px;color:#2c3e50;margin:0 0 5px;display:flex;align-items:center;gap:10px}.header-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#7f8c8d;margin:0}.header-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.stats-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:20px;margin-bottom:30px}.stat-box[_ngcontent-%COMP%]{background:#fff;border-radius:10px;padding:20px;display:flex;align-items:center;gap:15px;box-shadow:0 2px 8px #00000014;transition:transform .2s}.stat-box[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 4px 12px #0000001f}.stat-icon[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:24px;color:#fff}.stat-icon.blue[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.stat-icon.green[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f093fb,#f5576c)}.stat-icon.orange[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140)}.stat-icon.purple[_ngcontent-%COMP%]{background:linear-gradient(135deg,#30cfd0,#330867)}.stat-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:28px;margin:0;color:#2c3e50}.stat-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#7f8c8d;margin:0;font-size:14px}.filters-section[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:10px;margin-bottom:20px;display:flex;justify-content:space-between;align-items:center;gap:20px;flex-wrap:wrap;box-shadow:0 2px 8px #00000014}.search-box[_ngcontent-%COMP%]{flex:1;min-width:300px;position:relative}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:15px;top:50%;transform:translateY(-50%);color:#7f8c8d}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:12px 15px 12px 45px;border:2px solid #e0e0e0;border-radius:8px;font-size:14px;transition:all .3s}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}.filter-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.filter-controls[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;color:#7f8c8d}.filter-controls[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:8px 12px;border:2px solid #e0e0e0;border-radius:6px;font-size:14px;cursor:pointer}.table-container[_ngcontent-%COMP%]{background:#fff;border-radius:10px;overflow:hidden;box-shadow:0 2px 8px #00000014;margin-bottom:20px}.users-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.users-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.users-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:15px 12px;text-align:left;font-weight:600;font-size:13px;text-transform:uppercase;letter-spacing:.5px}.users-table[_ngcontent-%COMP%]   th.sortable[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;transition:background .2s}.users-table[_ngcontent-%COMP%]   th.sortable[_ngcontent-%COMP%]:hover{background:#ffffff1a}.users-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:5px;font-size:12px}.users-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #f0f0f0;transition:background .2s}.users-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f8f9fa}.users-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:15px 12px;font-size:14px;color:#2c3e50}.checkbox-cell[_ngcontent-%COMP%]{width:40px;text-align:center}.checkbox-cell[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.user-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:16px}.grade-badge[_ngcontent-%COMP%]{display:inline-block;padding:6px 14px;border-radius:20px;color:#fff;font-weight:700;font-size:13px;text-align:center;min-width:50px}.badge-count[_ngcontent-%COMP%]{display:inline-block;background:#e3f2fd;color:#1976d2;padding:4px 12px;border-radius:12px;font-weight:600;font-size:13px}.activity-badge[_ngcontent-%COMP%]{display:inline-block;background:#f3e5f5;color:#7b1fa2;padding:4px 12px;border-radius:12px;font-weight:600;font-size:13px}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:center}.btn-icon[_ngcontent-%COMP%]{width:32px;height:32px;border:none;background:#f0f0f0;border-radius:6px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s;color:#555}.btn-icon[_ngcontent-%COMP%]:hover{background:#667eea;color:#fff;transform:scale(1.1)}.btn-icon.btn-danger[_ngcontent-%COMP%]:hover{background:#dc3545;color:#fff}.mobile-user-cards[_ngcontent-%COMP%]{display:none;gap:15px}.user-card[_ngcontent-%COMP%]{background:#fff;border-radius:10px;box-shadow:0 2px 8px #00000014;overflow:hidden;transition:transform .2s}.user-card[_ngcontent-%COMP%]:active{transform:scale(.98)}.card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.checkbox-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}.checkbox-wrapper[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer;accent-color:white}.user-info-mobile[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;flex:1}.user-info-mobile[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:40px;height:40px;font-size:16px;background:#fff3}.user-info-mobile[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{color:#fff;font-weight:600;font-size:14px}.card-body[_ngcontent-%COMP%]{padding:12px;display:flex;flex-direction:column;gap:8px}.card-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:12px}.card-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:600;color:#7f8c8d;flex:0 0 auto}.card-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#2c3e50;font-weight:500;text-align:right;word-break:break-word}.card-actions[_ngcontent-%COMP%]{display:flex;gap:8px;padding:12px;border-top:1px solid #f0f0f0;background:#f8f9fa}.btn-action[_ngcontent-%COMP%]{flex:1;padding:8px 12px;border:none;background:#667eea;color:#fff;border-radius:6px;font-size:12px;font-weight:600;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center;gap:6px}.btn-action[_ngcontent-%COMP%]:active{transform:scale(.95)}.btn-action[_ngcontent-%COMP%]:not(.btn-danger){background:#667eea}.btn-action.btn-danger[_ngcontent-%COMP%]{background:#dc3545}.no-results[_ngcontent-%COMP%]{padding:60px 20px;text-align:center;color:#7f8c8d}.no-results[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:64px;margin-bottom:20px;opacity:.3}.no-results[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;margin:10px 0}.pagination[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;padding:20px;background:#fff;border-radius:10px;box-shadow:0 2px 8px #00000014}.page-btn[_ngcontent-%COMP%]{min-width:40px;height:40px;border:2px solid #e0e0e0;background:#fff;border-radius:8px;cursor:pointer;font-size:14px;font-weight:600;color:#2c3e50;transition:all .2s;display:flex;align-items:center;justify-content:center}.page-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#667eea;color:#fff;border-color:#667eea}.page-btn.active[_ngcontent-%COMP%]{background:#667eea;color:#fff;border-color:#667eea}.page-btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.page-info[_ngcontent-%COMP%]{margin-left:15px;font-size:14px;color:#7f8c8d}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:8px;transition:all .2s}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.btn-success[_ngcontent-%COMP%]{background:#28a745;color:#fff}.btn-success[_ngcontent-%COMP%]:hover:not(:disabled){background:#218838;transform:translateY(-2px)}.btn-success[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268;transform:translateY(-2px)}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:10000;padding:20px}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;max-width:600px;width:100%;max-height:90vh;overflow-y:auto;box-shadow:0 10px 40px #0003}.modal-header[_ngcontent-%COMP%]{padding:20px 30px;border-bottom:2px solid #f0f0f0;display:flex;justify-content:space-between;align-items:center}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:22px;color:#2c3e50;display:flex;align-items:center;gap:10px}.close-btn[_ngcontent-%COMP%]{width:36px;height:36px;border:none;background:#f0f0f0;border-radius:8px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s}.close-btn[_ngcontent-%COMP%]:hover{background:#e0e0e0;transform:rotate(90deg)}.modal-body[_ngcontent-%COMP%]{padding:30px}.notification-info[_ngcontent-%COMP%]{background:#e3f2fd;border-left:4px solid #1976d2;padding:12px 15px;border-radius:6px;margin-bottom:20px;display:flex;align-items:center;gap:10px;color:#1976d2}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:12px;border:2px solid #e0e0e0;border-radius:8px;font-size:14px;font-family:inherit;transition:border-color .2s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}.form-group[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;margin-top:5px;color:#7f8c8d;font-size:12px}.modal-footer[_ngcontent-%COMP%]{padding:20px 30px;border-top:2px solid #f0f0f0;display:flex;justify-content:flex-end;gap:10px}.delete-warning[_ngcontent-%COMP%]{background:#fff3cd;border-left:4px solid #ff9800;padding:20px;border-radius:8px;margin-bottom:20px}.delete-warning[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ff9800;font-size:24px;margin-bottom:10px}.delete-warning[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0;color:#333}.delete-warning[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-of-type{font-size:16px;font-weight:600;margin-top:0}.warning-text[_ngcontent-%COMP%]{font-size:14px;color:#666;margin-top:15px!important}.user-delete-info[_ngcontent-%COMP%]{background:#fff;border:1px solid #e0e0e0;border-radius:6px;padding:15px;margin-top:15px}.info-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid #f0f0f0}.info-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.info-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50;width:100px}.info-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#555;word-break:break-all}.btn-danger[_ngcontent-%COMP%]{background:#dc3545;border:none;color:#fff;padding:10px 20px;border-radius:6px;cursor:pointer;font-weight:600;display:inline-flex;align-items:center;gap:8px;transition:all .2s}.btn-danger[_ngcontent-%COMP%]:hover{background:#c82333;transform:translateY(-2px)}.result-modal[_ngcontent-%COMP%]{max-width:500px}.result-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.result-icon[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:28px;flex-shrink:0}.result-icon.success[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.result-icon.error[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.result-icon.mixed[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.result-modal[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px}.result-modal.result-success[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-bottom-color:#28a745}.result-modal.result-error[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-bottom-color:#dc3545}.result-modal.result-mixed[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-bottom-color:#ffc107}.result-message[_ngcontent-%COMP%]{font-size:16px;margin:0 0 20px;color:#2c3e50;font-weight:500}.result-details[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:8px;padding:15px;margin-bottom:20px}.detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 0;border-bottom:1px solid #e0e0e0}.detail-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.detail-label[_ngcontent-%COMP%]{font-weight:600;color:#555;display:flex;align-items:center;gap:8px}.detail-value[_ngcontent-%COMP%]{font-weight:700;font-size:16px}.success-text[_ngcontent-%COMP%]{color:#28a745}.error-text[_ngcontent-%COMP%]{color:#dc3545}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);border:none;color:#fff;padding:12px 30px;border-radius:6px;cursor:pointer;font-weight:600;display:inline-flex;align-items:center;gap:8px;transition:all .2s}.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #667eea66}.multi-user-list[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto;padding:0!important}.list-header[_ngcontent-%COMP%]{padding:15px;border-bottom:2px solid #ff9800;background:#fff9f0;position:sticky;top:0}.user-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 15px!important;border-bottom:1px solid #f0f0f0!important;gap:12px}.user-item[_ngcontent-%COMP%]:last-child{border-bottom:none!important}.user-item[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;display:flex;align-items:center;justify-content:center;font-weight:600;flex-shrink:0}.user-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px;flex:1;min-width:0}.user-name[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.user-email[_ngcontent-%COMP%]{font-size:12px;color:#7f8c8d;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}@media (max-width: 768px){.user-management[_ngcontent-%COMP%]{padding:15px}.page-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.header-actions[_ngcontent-%COMP%]{width:100%}.header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1}.stats-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.filters-section[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.search-box[_ngcontent-%COMP%]{min-width:100%}.table-container[_ngcontent-%COMP%]{overflow-x:auto}.users-table[_ngcontent-%COMP%]{min-width:1000px}.pagination[_ngcontent-%COMP%]{flex-wrap:wrap}.page-info[_ngcontent-%COMP%]{width:100%;text-align:center;margin:10px 0 0}}.create-user-modal[_ngcontent-%COMP%]{max-width:550px}.user-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.form-control[_ngcontent-%COMP%]{width:100%;padding:12px;border:2px solid #e0e0e0;border-radius:8px;font-size:14px;font-family:inherit;transition:all .2s}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.form-control.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545}.form-control.is-invalid[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #dc35451a}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#2c3e50;margin-bottom:8px;font-size:14px}.error-message[_ngcontent-%COMP%]{display:block;color:#dc3545;font-size:13px;margin-top:5px;font-weight:500}.success-message[_ngcontent-%COMP%]{text-align:center;padding:40px 20px}.success-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:48px;color:#28a745;margin-bottom:15px;display:block}.success-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:#2c3e50;margin:15px 0 10px}.success-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0}"]})}}return t})();const Kq=t=>["/category",t];function Qq(t,n){if(1&t&&(a(0,"div",4)(1,"a",5)(2,"div",6),b(3,"img",7),c(),a(4,"div",8)(5,"h3"),d(6),c(),a(7,"p",9),d(8),c()()()()),2&t){const e=n.$implicit;p(),h("routerLink",Et(5,Kq,e.slug)),p(2),h("src",e.image,ue)("alt",e.name),p(3),S(e.name),p(2),D("",e.productCount," products")}}let Jq=(()=>{class t{constructor(){this.backendService=w(Vo),this.categories=[],this.loading=!0}ngOnInit(){this.loading=!0,this.backendService.getCategoriesWithDetails().subscribe({next:e=>{this.categories=e,this.loading=!1},error:e=>{console.error("Failed to load categories",e),this.loading=!1}})}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=se({type:t,selectors:[["app-all-categories"]],standalone:!0,features:[ae],decls:8,vars:1,consts:[[1,"all-categories-container"],[1,"page-header"],[1,"categories-grid"],["class","category-card",4,"ngFor","ngForOf"],[1,"category-card"],[1,"category-link",3,"routerLink"],[1,"category-image"],[3,"src","alt"],[1,"category-info"],[1,"product-count"]],template:function(o,r){1&o&&(a(0,"div",0)(1,"div",1)(2,"h1"),d(3,"All Product Categories"),c(),a(4,"p"),d(5,"Explore our complete range of electronics and components"),c()(),a(6,"div",2),P(7,Qq,9,7,"div",3),c()()),2&o&&(p(7),h("ngForOf",r.categories))},dependencies:[pe,De,Ge,Ze],styles:[".all-categories-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:40px 20px}.page-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:50px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;color:#333;margin-bottom:10px;font-weight:700}.page-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;color:#666}.categories-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:30px;margin-bottom:40px}.category-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #eee;border-radius:8px;overflow:hidden;transition:all .3s ease;box-shadow:0 2px 8px #0000001a}.category-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #00000026;transform:translateY(-5px)}.category-link[_ngcontent-%COMP%]{text-decoration:none;color:inherit;display:block;height:100%}.category-image[_ngcontent-%COMP%]{width:100%;height:200px;overflow:hidden;background:#f5f5f5;display:flex;align-items:center;justify-content:center}.category-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .3s ease}.category-card[_ngcontent-%COMP%]:hover   .category-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.05)}.category-info[_ngcontent-%COMP%]{padding:20px;text-align:center}.category-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;margin:0 0 8px;color:#333;font-weight:600;line-height:1.3}.product-count[_ngcontent-%COMP%]{margin:0;color:#999;font-size:.9rem}@media (max-width: 768px){.categories-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:20px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.category-image[_ngcontent-%COMP%]{height:150px}}@media (max-width: 480px){.all-categories-container[_ngcontent-%COMP%]{padding:20px 10px}.categories-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:15px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.page-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem}.category-image[_ngcontent-%COMP%]{height:120px}.category-info[_ngcontent-%COMP%]{padding:15px}.category-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.95rem}}"]})}}return t})(),Xq=(()=>{class t{constructor(e){this.http=e,this.API_URL=`${ot_apiUrl}/brands`,this.brandsSubject=new st([]),this.brands$=this.brandsSubject.asObservable(),this.selectedBrandSubject=new st(null),this.selectedBrand$=this.selectedBrandSubject.asObservable(),this.loadingSubject=new st(!1),this.loading$=this.loadingSubject.asObservable(),this.errorSubject=new st(null),this.error$=this.errorSubject.asObservable(),this.loadAllBrands()}getAllBrands(){return this.loadingSubject.next(!0),this.errorSubject.next(null),this.http.get(this.API_URL).pipe(Fe(e=>{e.success&&e.brands&&this.brandsSubject.next(e.brands),this.loadingSubject.next(!1)}),Ce(e=>{throw this.errorSubject.next(e.error?.message||"Failed to load brands"),this.loadingSubject.next(!1),console.error("Error loading brands:",e),e}))}loadAllBrands(){this.getAllBrands().subscribe(e=>{e.success&&e.brands&&this.brandsSubject.next(e.brands)},e=>{console.error("Failed to load brands:",e)})}getBrandBySlug(e){return this.loadingSubject.next(!0),this.errorSubject.next(null),this.http.get(`${this.API_URL}/${e}`).pipe(Fe(o=>{o.success&&o.brand&&this.selectedBrandSubject.next(o.brand),this.loadingSubject.next(!1)}),Ce(o=>{throw this.errorSubject.next(o.error?.message||"Failed to load brand"),this.loadingSubject.next(!1),console.error("Error loading brand:",o),o}))}createBrand(e){return this.loadingSubject.next(!0),this.errorSubject.next(null),this.http.post(this.API_URL,e).pipe(Fe(o=>{o.success&&o.brand&&this.brandsSubject.next([...this.brandsSubject.value,o.brand]),this.loadingSubject.next(!1)}),Ce(o=>{throw this.errorSubject.next(o.error?.message||"Failed to create brand"),this.loadingSubject.next(!1),console.error("Error creating brand:",o),o}))}updateBrand(e,o){return this.loadingSubject.next(!0),this.errorSubject.next(null),this.http.put(`${this.API_URL}/${e}`,o).pipe(Fe(r=>{if(r.success&&r.brand){const s=this.brandsSubject.value.map(l=>l?.id===e?r.brand:l).filter(l=>void 0!==l);this.brandsSubject.next(s)}this.loadingSubject.next(!1)}),Ce(r=>{throw this.errorSubject.next(r.error?.message||"Failed to update brand"),this.loadingSubject.next(!1),console.error("Error updating brand:",r),r}))}deleteBrand(e){return this.loadingSubject.next(!0),this.errorSubject.next(null),this.http.delete(`${this.API_URL}/${e}`).pipe(Fe(o=>{if(o.success){const i=this.brandsSubject.value.filter(s=>s.id!==e);this.brandsSubject.next(i)}this.loadingSubject.next(!1)}),Ce(o=>{throw this.errorSubject.next(o.error?.message||"Failed to delete brand"),this.loadingSubject.next(!1),console.error("Error deleting brand:",o),o}))}getBrandsList(){return this.brandsSubject.value}getSelectedBrand(){return this.selectedBrandSubject.value}setSelectedBrand(e){this.selectedBrandSubject.next(e)}clearError(){this.errorSubject.next(null)}refresh(){this.loadAllBrands()}static{this.\u0275fac=function(o){return new(o||t)(W(kt))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Zq(t,n){if(1&t){const e=R();a(0,"div",29),C("click",function(){const r=y(e).$implicit;return v(f(2).navigateToCategory(r))})("keydown.enter",function(){const r=y(e).$implicit;return v(f(2).navigateToCategory(r))}),a(1,"div",30)(2,"img",31),C("error",function(r){return y(e),v(f(2).onImageError(r))}),c()(),a(3,"div",32)(4,"h3",33),d(5),c(),a(6,"p",34),d(7),c()()()}if(2&t){const e=n.$implicit,o=f(2);p(2),h("src",e.image,ue)("alt",e.name),p(3),S(e.name),p(2),D("",o.getProductCountForCategory(e.name)," products")}}function eW(t,n){if(1&t&&(a(0,"div",25)(1,"h2",26),d(2,"Categories"),c(),a(3,"div",27),P(4,Zq,8,4,"div",28),c()()),2&t){const e=f();p(4),h("ngForOf",e.categories)("ngForTrackBy",e.trackByCategory)}}function tW(t,n){if(1&t){const e=R();a(0,"button",35),C("click",function(){return y(e),v(f().clearFilters())}),b(1,"i",36),d(2," Clear Filters & Show All "),c()}}function nW(t,n){if(1&t&&(a(0,"option",37),d(1),c()),2&t){const e=n.$implicit;h("value",e.slug),p(),D(" ",e.name," ")}}function oW(t,n){1&t&&(a(0,"span",56),d(1,"New"),c())}function rW(t,n){1&t&&(a(0,"span",57),d(1,"Hot"),c())}function iW(t,n){if(1&t&&(a(0,"div",58)(1,"span",59),d(2),c()()),2&t){const e=f().$implicit;p(2),D("\u2605 ",e.rating.toFixed(1),"")}}function sW(t,n){if(1&t&&(a(0,"span",60),d(1),c()),2&t){const e=f().$implicit;p(),D(" \u20b9",e.originalPrice," ")}}function aW(t,n){if(1&t){const e=R();a(0,"button",61),C("click",function(r){y(e);const i=f().$implicit;return v(f().editProduct(r,i))}),b(1,"i",62),c()}}function cW(t,n){if(1&t){const e=R();a(0,"div",38),C("click",function(){const r=y(e).$implicit;return v(f().navigateToProduct(r))})("keydown.enter",function(){const r=y(e).$implicit;return v(f().navigateToProduct(r))}),a(1,"div",39)(2,"img",40),C("error",function(r){return y(e),v(f().onImageError(r))}),c(),a(3,"div",41),P(4,oW,2,0,"span",42)(5,rW,2,0,"span",43),c()(),a(6,"div",44)(7,"h3",45),d(8),c(),a(9,"p",46),d(10),c(),P(11,iW,3,1,"div",47),a(12,"p",48),d(13),Q(14,"slice"),c(),a(15,"div",49)(16,"div",50)(17,"span",51),d(18),c(),P(19,sW,2,1,"span",52),c(),a(20,"div",53)(21,"button",54),C("click",function(r){const i=y(e).$implicit;return v(f().addToCart(r,i))}),d(22),c(),P(23,aW,2,0,"button",55),c()()()()}if(2&t){const e=n.$implicit,o=f();p(2),h("src",e.image,ue)("alt",e.name),p(2),h("ngIf",e.isNew),p(),h("ngIf",e.isHot),p(3),S(e.name),p(2),S(e.category),p(),h("ngIf",e.rating),p(2),D("",ka(14,15,e.description,0,80),"..."),p(5),D("\u20b9",e.price,""),p(),h("ngIf",e.originalPrice),p(2),B("out-of-stock",!e.inStock),h("disabled",!e.inStock),p(),D(" ",e.inStock?"Add to Cart":"Out of Stock"," "),p(),h("ngIf",o.isAdmin)}}function lW(t,n){1&t&&(a(0,"div",63)(1,"div",64)(2,"p",65),d(3,"No products found"),c(),a(4,"p",66),d(5,"Try adjusting your filters or search criteria"),c()()())}function dW(t,n){1&t&&(a(0,"div",67),b(1,"div",68),a(2,"p"),d(3,"Loading products..."),c()())}let uW=(()=>{class t{constructor(e,o,r,i,s){this.backendService=e,this.brandsService=o,this.productService=r,this.route=i,this.router=s,this.products=[],this.filteredProducts=[],this.categories=[],this.allBrands$=this.brandsService.brands$,this.selectedBrand="",this.searchQuery="",this.sortBy="name",this.isLoading=!1,this.isAdmin=!1,this.destroy$=new jt}ngOnInit(){const e=localStorage.getItem("userRole");this.isAdmin="admin"===e,this.loadCategories(),this.route.queryParams.pipe(Bh(this.destroy$)).subscribe(o=>{this.selectedBrand=o.brand?o.brand:"",this.searchQuery=o.search?o.search:"",this.loadProducts()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadProducts(){this.isLoading=!0;const e={limit:1e3};this.selectedBrand&&(e.brand=this.selectedBrand),this.searchQuery&&(e.search=this.searchQuery),this.backendService.getProducts(e).pipe(Bh(this.destroy$)).subscribe({next:o=>{const r=o.data||o;console.log("ShopComponent received products:",r),Array.isArray(r)?(this.products=r,this.filterAndSort()):(console.warn("ShopComponent received invalid data format:",r),this.products=[],this.filteredProducts=[]),this.isLoading=!1},error:o=>{console.error("Error loading products:",o),this.products=[],this.filteredProducts=[],this.isLoading=!1}})}onBrandChange(){this.router.navigate([],this.selectedBrand?{relativeTo:this.route,queryParams:{brand:this.selectedBrand},queryParamsHandling:"merge"}:{relativeTo:this.route,queryParams:{brand:null},queryParamsHandling:"merge"})}clearFilters(){this.selectedBrand="",this.searchQuery="",this.router.navigate(["/shop"])}formatBrandName(e){return e?e.split("-").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" "):""}onSortChange(){this.filterAndSort()}filterAndSort(){let e=[...this.products];switch(this.sortBy){case"price-low":e.sort((o,r)=>(o.price||0)-(r.price||0));break;case"price-high":e.sort((o,r)=>(r.price||0)-(o.price||0));break;case"newest":e.sort((o,r)=>(r.id||"").localeCompare(o.id||""));break;default:e.sort((o,r)=>(o.name||"").localeCompare(r.name||""))}this.filteredProducts=e}trackByProductId(e,o){return o.id||e.toString()}trackByCategory(e,o){return o.id||e.toString()}loadCategories(){try{const e=this.productService.getCategories();this.categories=e.slice(0,6)}catch(e){console.error("Error loading categories:",e),this.categories=[]}}getProductCountForCategory(e){return this.products.filter(o=>o.category&&o.category.toLowerCase()===e.toLowerCase()).length}onImageError(e){e.target.src="assets/images/placeholder.png"}navigateToProduct(e){e.id&&this.router.navigate(["/product",e.id])}editProduct(e,o){e.stopPropagation(),o.id&&this.router.navigate(["/admin/products/edit"],{queryParams:{id:o.id}})}navigateToCategory(e){e.slug&&this.router.navigate(["/category",e.slug])}addToCart(e,o){e.stopPropagation(),o.inStock&&console.log("Adding to cart:",o.name)}static{this.\u0275fac=function(o){return new(o||t)(V(Vo),V(Xq),V(hs),V(sn),V(me))}}static{this.\u0275cmp=se({type:t,selectors:[["app-shop"]],standalone:!0,features:[ae],decls:40,vars:16,consts:[[1,"shop-container"],["class","categories-section",4,"ngIf"],[1,"shop-header"],[1,"header-content"],[1,"header-subtitle"],["class","btn-clear-filters",3,"click",4,"ngIf"],[1,"shop-filters"],[1,"filter-group"],["for","brand-select"],["id","brand-select",1,"brand-select",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"sort-group"],["for","sort-select"],["id","sort-select",1,"sort-select",3,"ngModelChange","change","ngModel"],["value","name"],["value","price-low"],["value","price-high"],["value","newest"],[1,"view-count"],[1,"shop-content"],[1,"products-grid"],["class","product-card","role","button","tabindex","0",3,"click","keydown.enter",4,"ngFor","ngForOf","ngForTrackBy"],["class","no-products",4,"ngIf"],["class","loading-spinner",4,"ngIf"],[1,"categories-section"],[1,"section-title"],[1,"categories-grid"],["class","category-card","role","button","tabindex","0",3,"click","keydown.enter",4,"ngFor","ngForOf","ngForTrackBy"],["role","button","tabindex","0",1,"category-card",3,"click","keydown.enter"],[1,"category-image-wrapper"],[1,"category-image",3,"error","src","alt"],[1,"category-info"],[1,"category-name"],[1,"category-count"],[1,"btn-clear-filters",3,"click"],[1,"fas","fa-times-circle"],[3,"value"],["role","button","tabindex","0",1,"product-card",3,"click","keydown.enter"],[1,"product-image-wrapper"],[1,"product-image",3,"error","src","alt"],[1,"product-badges"],["class","badge-new",4,"ngIf"],["class","badge-hot",4,"ngIf"],[1,"product-info"],[1,"product-name"],[1,"product-category"],["class","product-rating",4,"ngIf"],[1,"product-description"],[1,"product-footer"],[1,"price-section"],[1,"price"],["class","original-price",4,"ngIf"],[1,"button-group"],[1,"btn-add-cart",3,"click","disabled"],["class","btn-edit","title","Edit Product",3,"click",4,"ngIf"],[1,"badge-new"],[1,"badge-hot"],[1,"product-rating"],[1,"stars"],[1,"original-price"],["title","Edit Product",1,"btn-edit",3,"click"],[1,"fas","fa-edit"],[1,"no-products"],[1,"empty-state"],[1,"empty-title"],[1,"empty-message"],[1,"loading-spinner"],[1,"spinner"]],template:function(o,r){1&o&&(a(0,"div",0),P(1,eW,5,2,"div",1),a(2,"div",2)(3,"div",3)(4,"h1"),d(5),c(),a(6,"p",4),d(7),c(),P(8,tW,3,0,"button",5),c(),a(9,"div",6)(10,"div",7)(11,"label",8),d(12,"Filter by Brand:"),c(),a(13,"select",9),A("ngModelChange",function(s){return F(r.selectedBrand,s)||(r.selectedBrand=s),s}),C("change",function(){return r.onBrandChange()}),a(14,"option",10),d(15,"All Brands"),c(),P(16,nW,2,2,"option",11),Q(17,"async"),c()(),a(18,"div",12)(19,"label",13),d(20,"Sort by:"),c(),a(21,"select",14),A("ngModelChange",function(s){return F(r.sortBy,s)||(r.sortBy=s),s}),C("change",function(){return r.onSortChange()}),a(22,"option",15),d(23,"Name (A-Z)"),c(),a(24,"option",16),d(25,"Price (Low to High)"),c(),a(26,"option",17),d(27,"Price (High to Low)"),c(),a(28,"option",18),d(29,"Newest"),c()()(),a(30,"div",19),d(31," Showing "),a(32,"strong"),d(33),c(),d(34," results "),c()()(),a(35,"div",20)(36,"div",21),P(37,cW,24,19,"div",22),c(),P(38,lW,6,0,"div",23)(39,dW,4,0,"div",24),c()()),2&o&&(p(),h("ngIf",r.categories.length>0),p(4),S(r.searchQuery?'Search Results: "'+r.searchQuery+'"':r.selectedBrand?"Brand: "+r.formatBrandName(r.selectedBrand):"Shop Products"),p(2),D("",r.filteredProducts.length," products available"),p(),h("ngIf",r.selectedBrand||r.searchQuery),p(5),E("ngModel",r.selectedBrand),p(3),h("ngForOf",Ne(17,14,r.allBrands$)),p(5),E("ngModel",r.sortBy),p(12),S(r.filteredProducts.length),p(3),B("loading",r.isLoading),p(),h("ngForOf",r.filteredProducts)("ngForTrackBy",r.trackByProductId),p(),h("ngIf",0===r.filteredProducts.length&&!r.isLoading),p(),h("ngIf",r.isLoading))},dependencies:[pe,De,ve,MM,Dd,nt,vo,Co,$n,rt,tt,Ge],styles:["[_nghost-%COMP%]{display:block;background:#f9f9f9}.shop-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.categories-section[_ngcontent-%COMP%]{background:#fff;padding:30px 20px;border-radius:8px;margin-bottom:30px;box-shadow:0 2px 4px #0000000d}.section-title[_ngcontent-%COMP%]{font-size:24px;margin:0 0 20px;color:#333;font-weight:600}.categories-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:20px}.category-card[_ngcontent-%COMP%]{background:#f9f9f9;border:1px solid #eee;border-radius:8px;overflow:hidden;transition:all .3s ease;cursor:pointer;display:flex;flex-direction:column;text-align:center;-webkit-user-select:none;user-select:none}.category-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 16px #0000001a;border-color:#2196f3}.category-card[_ngcontent-%COMP%]:focus{outline:2px solid #2196F3;outline-offset:2px}.category-image-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:150px;background:#f5f5f5;overflow:hidden;display:flex;align-items:center;justify-content:center}.category-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .3s ease}.category-card[_ngcontent-%COMP%]:hover   .category-image[_ngcontent-%COMP%]{transform:scale(1.05)}.category-info[_ngcontent-%COMP%]{padding:15px;flex-grow:1;display:flex;flex-direction:column;justify-content:center}.category-name[_ngcontent-%COMP%]{font-size:14px;margin:0 0 5px;color:#333;font-weight:500;line-height:1.3}.category-count[_ngcontent-%COMP%]{font-size:12px;color:#999;margin:0}.shop-header[_ngcontent-%COMP%]{background:#fff;padding:30px 20px;border-radius:8px;margin-bottom:30px;box-shadow:0 2px 4px #0000000d}.header-content[_ngcontent-%COMP%]{margin-bottom:20px}.shop-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;margin:0 0 8px;color:#333;font-weight:600}.header-subtitle[_ngcontent-%COMP%]{font-size:14px;color:#999;margin:0}.btn-clear-filters[_ngcontent-%COMP%]{margin-top:10px;padding:8px 16px;background-color:#f44336;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:14px;display:inline-flex;align-items:center;gap:8px;transition:background-color .3s}.btn-clear-filters[_ngcontent-%COMP%]:hover{background-color:#d32f2f}.shop-filters[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:center;flex-wrap:wrap;padding-top:20px;border-top:1px solid #eee}.filter-group[_ngcontent-%COMP%], .sort-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .sort-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:#555;font-size:14px}.brand-select[_ngcontent-%COMP%], .sort-select[_ngcontent-%COMP%]{padding:10px 12px;border:1px solid #ddd;border-radius:4px;font-size:14px;cursor:pointer;background:#fff;color:#333;transition:border-color .3s}.brand-select[_ngcontent-%COMP%]:hover, .sort-select[_ngcontent-%COMP%]:hover{border-color:#999}.brand-select[_ngcontent-%COMP%]:focus, .sort-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#2196f3;box-shadow:0 0 0 3px #2196f31a}.view-count[_ngcontent-%COMP%]{margin-left:auto;font-size:14px;color:#666;font-weight:500}.view-count[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#2196f3}.shop-content[_ngcontent-%COMP%]{position:relative}.products-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:20px;margin-bottom:40px}.products-grid.loading[_ngcontent-%COMP%]{opacity:.6;pointer-events:none}.product-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #eee;border-radius:8px;overflow:hidden;transition:all .3s ease;display:flex;flex-direction:column;height:100%;cursor:pointer;-webkit-user-select:none;user-select:none}.product-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 16px #0000001a;border-color:#2196f3}.product-card[_ngcontent-%COMP%]:focus{outline:2px solid #2196F3;outline-offset:2px}.product-image-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:220px;background:#f5f5f5;overflow:hidden;display:flex;align-items:center;justify-content:center}.product-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .3s ease}.product-card[_ngcontent-%COMP%]:hover   .product-image[_ngcontent-%COMP%]{transform:scale(1.05)}.product-badges[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;display:flex;gap:5px}.badge-new[_ngcontent-%COMP%], .badge-hot[_ngcontent-%COMP%]{padding:4px 10px;border-radius:4px;font-size:11px;font-weight:600;text-transform:uppercase}.badge-new[_ngcontent-%COMP%]{background:#4caf50;color:#fff}.badge-hot[_ngcontent-%COMP%]{background:#ff5722;color:#fff}.product-info[_ngcontent-%COMP%]{padding:15px;display:flex;flex-direction:column;flex-grow:1}.product-name[_ngcontent-%COMP%]{font-size:15px;margin:0 0 5px;color:#333;line-height:1.4;font-weight:500;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.product-category[_ngcontent-%COMP%]{font-size:12px;color:#999;margin:0 0 8px;text-transform:capitalize}.product-rating[_ngcontent-%COMP%]{font-size:13px;margin-bottom:8px}.stars[_ngcontent-%COMP%]{color:#ffc107;font-weight:500}.product-description[_ngcontent-%COMP%]{font-size:12px;color:#888;margin:0 0 12px;flex-grow:1;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.product-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:auto;padding-top:12px;border-top:1px solid #f0f0f0;gap:8px}.price-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.price[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#2196f3}.original-price[_ngcontent-%COMP%]{font-size:12px;color:#999;text-decoration:line-through}.button-group[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.btn-add-cart[_ngcontent-%COMP%]{padding:8px 14px;background:#2196f3;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:12px;font-weight:600;transition:all .3s;white-space:nowrap;flex:1}.btn-add-cart[_ngcontent-%COMP%]:hover:not(:disabled){background:#1976d2;transform:translateY(-1px);box-shadow:0 2px 8px #2196f34d}.btn-add-cart[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed;opacity:.6}.btn-add-cart.out-of-stock[_ngcontent-%COMP%]{background:#ccc;color:#666}.btn-edit[_ngcontent-%COMP%]{padding:8px 10px;background:#ff9800;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:14px;transition:all .3s;display:flex;align-items:center;justify-content:center}.btn-edit[_ngcontent-%COMP%]:hover{background:#f57c00;transform:translateY(-1px);box-shadow:0 2px 8px #ff98004d}.no-products[_ngcontent-%COMP%], .loading-spinner[_ngcontent-%COMP%]{grid-column:1 / -1;text-align:center;padding:60px 20px}.empty-state[_ngcontent-%COMP%]{color:#999}.empty-title[_ngcontent-%COMP%]{font-size:24px;margin:0 0 10px;color:#666;font-weight:500}.empty-message[_ngcontent-%COMP%]{font-size:14px;color:#999;margin:0}.loading-spinner[_ngcontent-%COMP%]{position:relative;min-height:300px;display:flex;flex-direction:column;justify-content:center;align-items:center}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #f0f0f0;border-top-color:#2196f3;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:20px}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.loading-spinner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#999;font-size:14px;margin:0}@media (max-width: 768px){.products-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:15px}.categories-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:15px}.shop-filters[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:15px}.filter-group[_ngcontent-%COMP%], .sort-group[_ngcontent-%COMP%], .brand-select[_ngcontent-%COMP%], .sort-select[_ngcontent-%COMP%]{width:100%}.view-count[_ngcontent-%COMP%]{margin-left:0}}"]})}}return t})(),pW=(()=>{class t{constructor(){this.categorySlug="",this.subcategoryName="",this.subcategorySlug="",this.productCount=0,this.imageUrl="/assets/images/products/rpi-accessories/placeholder.jpg"}getRouterLink(){return`/category/${this.categorySlug}/${this.subcategorySlug}`}onImageError(e){e.target.src="/assets/images/placeholder.jpg"}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=se({type:t,selectors:[["app-subcategory-card"]],inputs:{categorySlug:"categorySlug",subcategoryName:"subcategoryName",subcategorySlug:"subcategorySlug",productCount:"productCount",imageUrl:"imageUrl"},standalone:!0,features:[ae],decls:8,vars:5,consts:[[1,"subcategory-card",3,"routerLink"],[1,"card-image"],[3,"error","src","alt"],[1,"card-content"],[1,"product-count"]],template:function(o,r){1&o&&(a(0,"a",0)(1,"div",1)(2,"img",2),C("error",function(s){return r.onImageError(s)}),c()(),a(3,"div",3)(4,"h3"),d(5),c(),a(6,"p",4),d(7),c()()()),2&o&&(h("routerLink",r.getRouterLink()),p(2),h("src",r.imageUrl,ue)("alt",r.subcategoryName),p(3),S(r.subcategoryName),p(2),D("",r.productCount," products"))},dependencies:[pe,Ge,Ze],styles:[".subcategory-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-decoration:none;color:inherit;border:1px solid #e0e0e0;border-radius:8px;overflow:hidden;transition:all .3s ease;box-shadow:0 2px 8px #0000001a;background:#fff;min-height:280px}.subcategory-card[_ngcontent-%COMP%]:hover{box-shadow:0 6px 16px #00000026;transform:translateY(-4px)}.card-image[_ngcontent-%COMP%]{width:100%;height:180px;overflow:hidden;background:#f5f5f5;display:flex;align-items:center;justify-content:center}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .3s ease}.subcategory-card[_ngcontent-%COMP%]:hover   .card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.05)}.card-content[_ngcontent-%COMP%]{padding:16px;flex:1;display:flex;flex-direction:column;justify-content:center}.card-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:16px;font-weight:600;color:#333}.product-count[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#999}@media (max-width: 768px){.subcategory-card[_ngcontent-%COMP%]{min-height:240px}.card-image[_ngcontent-%COMP%]{height:150px}.card-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px}}"]})}}return t})();const mO={now:()=>(mO.delegate||Date).now(),delegate:void 0};class gW extends jt{constructor(n=1/0,e=1/0,o=mO){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){const{isStopped:e,_buffer:o,_infiniteTimeWindow:r,_timestampProvider:i,_windowTime:s}=this;e||(o.push(n),!r&&o.push(i.now()+s)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(n),{_infiniteTimeWindow:o,_buffer:r}=this,i=r.slice();for(let s=0;s<i.length&&!n.closed;s+=o?1:2)n.next(i[s]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){const{_bufferSize:n,_timestampProvider:e,_buffer:o,_infiniteTimeWindow:r}=this,i=(r?1:2)*n;if(n<1/0&&i<o.length&&o.splice(0,o.length-i),!r){const s=e.now();let l=0;for(let u=1;u<o.length&&o[u]<=s;u+=2)l=u;l&&o.splice(0,l+1)}}}function n_(t,n,...e){if(!0===n)return void t();if(!1===n)return;const o=new Gr({next:()=>{o.unsubscribe(),t()}});return wn(n(...e)).subscribe(o)}function o_(t,n,e){let o,r=!1;return t&&"object"==typeof t?({bufferSize:o=1/0,windowTime:n=1/0,refCount:r=!1,scheduler:e}=t):o=t??1/0,function fW(t={}){const{connector:n=(()=>new jt),resetOnError:e=!0,resetOnComplete:o=!0,resetOnRefCountZero:r=!0}=t;return i=>{let s,l,u,g=0,m=!1,_=!1;const x=()=>{l?.unsubscribe(),l=void 0},M=()=>{x(),s=u=void 0,m=_=!1},O=()=>{const k=s;M(),k?.unsubscribe()};return Dt((k,I)=>{g++,!_&&!m&&x();const N=u=u??n();I.add(()=>{g--,0===g&&!_&&!m&&(l=n_(O,r))}),N.subscribe(I),!s&&g>0&&(s=new Gr({next:T=>N.next(T),error:T=>{_=!0,x(),l=n_(M,e,T),N.error(T)},complete:()=>{m=!0,x(),l=n_(M,o),N.complete()}}),wn(k).subscribe(s))})(i)}}({connector:()=>new gW(o,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}let _O=(()=>{class t{constructor(e){this.http=e,this.apiUrl=`${ot_apiUrl}/categories`,this.productsApiUrl=`${ot_apiUrl}/products`,this.subcategoriesCache=new Map,this.categoryIdCache=new Map}clearCache(){this.subcategoriesCache.clear(),this.categoryIdCache.clear()}getSubcategoriesBySlug(e){if(!e)return q([]);const o=`slug-${e}`;if(this.subcategoriesCache.has(o))return this.subcategoriesCache.get(o);const r=this.http.get(`${this.apiUrl}`).pipe(_n(i=>{const s=Array.isArray(i)?i:i.data||i.categories||[];console.log(`getSubcategoriesBySlug: Received ${s.length} categories`);const l=s.find(u=>u.slug===e||this.slugify(u.name)===e);return l?(console.log(`Found category: ${l.name} (ID: ${l.id})`),this.fetchSubcategoriesByIdDirect(l.id)):(console.warn(`Category not found with slug: ${e}`),q([]))}),Ce(i=>(console.error(`Error fetching subcategories for slug ${e}:`,i),q([]))),o_(1));return this.subcategoriesCache.set(o,r),r}getSubcategoriesByCategory(e){if(!e)return q([]);if(this.subcategoriesCache.has(e))return this.subcategoriesCache.get(e);const o=this.slugify(e),r=this.http.get(`${this.apiUrl}`).pipe(_n(i=>{const l=(i.categories||i.data||[]).find(u=>this.slugify(u.name)===o||u.id.toString()===o);return l?this.fetchSubcategoriesByIdDirect(l.id):(console.warn(`Category not found: ${e}`),q([]))}),o_(1));return this.subcategoriesCache.set(e,r),r}fetchSubcategoriesByIdDirect(e){return this.http.get(`${this.apiUrl}/${e}/subcategories`).pipe(ie(o=>{let r=[];return Array.isArray(o)?r=o:o&&Array.isArray(o.data)?r=o.data:o&&Array.isArray(o)&&(r=o),console.log(`fetchSubcategoriesByIdDirect: Found ${r.length} subcategories for category ${e}`),r.map(i=>({id:i.id,name:i.name,slug:i.slug,image_url:i.image_url,image:i.image_url,category_id:i.category_id,description:i.description,display_order:i.display_order,count:parseInt(i.count)||0}))}),Ce(o=>(console.error("Error fetching subcategories by ID:",o),q([]))),o_(1))}createSubcategory(e){return this.http.post(`${this.apiUrl}/subcategories`,e)}updateSubcategory(e,o){return this.http.put(`${this.apiUrl}/subcategories/${e}`,o)}deleteSubcategory(e){return this.http.delete(`${this.apiUrl}/subcategories/${e}`)}slugify(e){return e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}static{this.\u0275fac=function(o){return new(o||t)(W(kt))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function hW(t,n){if(1&t&&(Kl(0),a(1,"span",3),d(2,"/"),c(),a(3,"span",4),d(4),c(),Ql()),2&t){const e=f();p(4),S(e.subcategoryName)}}function mW(t,n){if(1&t&&(a(0,"span"),d(1),c()),2&t){const e=f();p(),D(" / ",e.subcategoryName,"")}}function _W(t,n){if(1&t&&b(0,"app-subcategory-card",25),2&t){const e=n.$implicit;h("categorySlug",f(2).categorySlug)("subcategoryName",e.name)("subcategorySlug",e.slug)("productCount",e.count)("imageUrl",e.image||"/assets/images/products/"+e.slug+"/placeholder.jpg")}}function bW(t,n){if(1&t&&(a(0,"div",22)(1,"h2"),d(2,"Browse by Subcategory"),c(),a(3,"div",23),P(4,_W,1,5,"app-subcategory-card",24),c()()),2&t){const e=f();p(4),h("ngForOf",e.subcategories)}}function yW(t,n){if(1&t){const e=R();a(0,"button",26),C("click",function(){const r=y(e).$implicit;return v(f().filterByBrand(r))}),d(1),c()}if(2&t){const e=n.$implicit;B("active",f().selectedBrand===e),p(),D(" ",e," ")}}function vW(t,n){if(1&t){const e=R();a(0,"button",27),C("click",function(){return y(e),v(f().clearFilters())}),d(1," Clear Filters "),c()}}function CW(t,n){1&t&&(a(0,"div",28)(1,"p"),d(2,"Loading products..."),c()())}function xW(t,n){if(1&t){const e=R();a(0,"div",29)(1,"p"),d(2),c(),a(3,"button",30),C("click",function(){return y(e),v(f().loadProducts())}),d(4,"Retry"),c()()}if(2&t){const e=f();p(2),S(e.error)}}function MW(t,n){if(1&t){const e=R();a(0,"div",31)(1,"p"),d(2,"No products found matching your criteria."),c(),a(3,"button",27),C("click",function(){return y(e),v(f().clearFilters())}),d(4,"Clear Filters"),c()()}}function PW(t,n){1&t&&b(0,"app-product-card",34),2&t&&h("product",n.$implicit)}function wW(t,n){if(1&t&&(a(0,"div",32),P(1,PW,1,1,"app-product-card",33),c()),2&t){const e=f();p(),h("ngForOf",e.products)}}function OW(t,n){if(1&t){const e=R();a(0,"button",40),C("click",function(){const r=y(e).$implicit;return v(f(2).goToPage(r))}),d(1),c()}if(2&t){const e=n.$implicit;B("active",e===f(2).currentPage),p(),D(" ",e," ")}}function kW(t,n){if(1&t){const e=R();a(0,"div",35)(1,"button",36),C("click",function(){return y(e),v(f().previousPage())}),d(2," \u2190 Previous "),c(),a(3,"div",37),P(4,OW,2,3,"button",38),c(),a(5,"button",36),C("click",function(){return y(e),v(f().nextPage())}),d(6," Next \u2192 "),c(),a(7,"span",39),d(8),c()()}if(2&t){const e=f();p(),h("disabled",1===e.currentPage),p(3),h("ngForOf",e.pages),p(),h("disabled",!e.hasMorePages),p(3),Fr(" Page ",e.currentPage," of ",e.totalPages," (",e.totalProducts," total products) ")}}let bO=(()=>{class t{constructor(e,o,r){this.backendProductService=e,this.subcategoryService=o,this.route=r,this.products=[],this.loading=!0,this.error=null,this.categoryName="",this.subcategoryName="",this.categorySlug="",this.subcategorySlug="",this.subcategories=[],this.currentPage=1,this.pageSize=12,this.totalProducts=0,this.hasMorePages=!1,this.selectedBrand="",this.brands=[],this.searchTerm=""}ngOnInit(){this.route.params.subscribe(e=>{const o=e.slug,r=e.subcategorySlug;this.categorySlug=o,this.subcategorySlug=r||"",this.loading=!0,this.backendProductService.getCategoryBySlug(o).subscribe({next:i=>{i?(console.log("Category details found:",i),this.categoryName=i.name,this.loadSubcategories(o),this.subcategorySlug?this.resolveSubcategoryName(i.id,this.subcategorySlug):(this.subcategoryName="",this.loadProducts())):(console.error("Category not found for slug:",o),this.error="Category not found",this.loading=!1)},error:i=>{console.error("Error fetching category details:",i),this.categoryName=this.slugToTitle(o),this.subcategoryName=r?this.slugToTitle(r):"",this.loadSubcategories(o),this.loadProducts()}})})}resolveSubcategoryName(e,o){this.subcategoryService.getSubcategoriesBySlug(this.categorySlug).subscribe(r=>{const i=r.find(s=>s.slug===o);this.subcategoryName=i?i.name:this.slugToTitle(o),this.loadProducts()})}loadSubcategories(e){const o=e||this.categorySlug;console.log(`Loading subcategories for slug: ${o}`),this.subcategoryService.getSubcategoriesBySlug(o).subscribe(r=>{console.log("Subcategories loaded successfully:",r),console.log(`Number of subcategories: ${r?r.length:0}`),this.subcategories=r||[],console.log(`Conditions - subcategorySlug: "${this.subcategorySlug}", subcategories.length: ${this.subcategories.length}`),console.log(`Will display subcategories: ${!this.subcategorySlug&&this.subcategories.length>0}`)},r=>{console.error("Error loading subcategories:",r),this.subcategories=[]})}loadProducts(){this.loading=!0,this.error=null;const o={category:this.categoryName,limit:this.pageSize,offset:(this.currentPage-1)*this.pageSize};this.subcategoryName&&(o.subcategory=this.subcategoryName),this.selectedBrand&&(o.brand=this.selectedBrand),this.searchTerm&&(o.search=this.searchTerm),console.log("Loading products with params:",o),this.backendProductService.getProducts(o).subscribe(r=>{console.log("Products loaded successfully:",r),this.products=r.data||[],this.totalProducts=r.pagination?.total||0,this.hasMorePages=r.pagination?.hasMore||!1,this.extractBrands(),this.loading=!1},r=>{console.error("Error loading products:",r),this.error=`Failed to load products: ${r.statusText||r.message||"Unknown error"}. Please try again.`,this.loading=!1})}extractBrands(){const e=new Set(this.products.map(o=>o.brand));this.brands=Array.from(e).sort()}goToPage(e){e>=1&&e<=Math.ceil(this.totalProducts/this.pageSize)&&(this.currentPage=e,this.loadProducts(),window.scrollTo({top:0,behavior:"smooth"}))}nextPage(){this.hasMorePages&&(this.currentPage++,this.loadProducts(),window.scrollTo({top:0,behavior:"smooth"}))}previousPage(){this.currentPage>1&&(this.currentPage--,this.loadProducts(),window.scrollTo({top:0,behavior:"smooth"}))}filterByBrand(e){this.selectedBrand=e,this.currentPage=1,this.loadProducts()}clearFilters(){this.selectedBrand="",this.searchTerm="",this.currentPage=1,this.loadProducts()}search(){this.currentPage=1,this.loadProducts()}slugToTitle(e){const r={Diy:"DIY",Rpi:"RPi",Iot:"IoT",Led:"LED",Usb:"USB"};let i=e.split("-").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" ");for(const[s,l]of Object.entries(r))i=i.replace(s,l);return console.log("Converted slug:",e,"to:",i),i}get pages(){const e=Math.ceil(this.totalProducts/this.pageSize),o=[];let i=Math.max(1,this.currentPage-Math.floor(2.5)),s=Math.min(e,i+5-1);s-i<4&&(i=Math.max(1,s-5+1));for(let l=i;l<=s;l++)o.push(l);return o}get totalPages(){return Math.ceil(this.totalProducts/this.pageSize)}static{this.\u0275fac=function(o){return new(o||t)(V(Vo),V(_O),V(sn))}}static{this.\u0275cmp=se({type:t,selectors:[["app-category-products"]],standalone:!0,features:[ae],decls:34,vars:14,consts:[[1,"category-products-container"],[1,"breadcrumb"],["routerLink","/"],[1,"separator"],[1,"current"],[4,"ngIf"],[1,"category-header"],[1,"product-count"],["class","subcategories-section",4,"ngIf"],[1,"search-filter-section"],[1,"search-box"],["type","text","placeholder","Search products...",1,"search-input",3,"ngModelChange","keyup.enter","ngModel"],[1,"search-btn",3,"click"],[1,"filter-section"],[1,"brand-filter"],["class","brand-btn",3,"active","click",4,"ngFor","ngForOf"],["class","clear-btn",3,"click",4,"ngIf"],["class","loading",4,"ngIf"],["class","error",4,"ngIf"],["class","no-products",4,"ngIf"],["class","products-grid",4,"ngIf"],["class","pagination",4,"ngIf"],[1,"subcategories-section"],[1,"subcategories-grid"],[3,"categorySlug","subcategoryName","subcategorySlug","productCount","imageUrl",4,"ngFor","ngForOf"],[3,"categorySlug","subcategoryName","subcategorySlug","productCount","imageUrl"],[1,"brand-btn",3,"click"],[1,"clear-btn",3,"click"],[1,"loading"],[1,"error"],[1,"retry-btn",3,"click"],[1,"no-products"],[1,"products-grid"],[3,"product",4,"ngFor","ngForOf"],[3,"product"],[1,"pagination"],[1,"pagination-btn",3,"click","disabled"],[1,"pagination-pages"],["class","page-btn",3,"active","click",4,"ngFor","ngForOf"],[1,"page-info"],[1,"page-btn",3,"click"]],template:function(o,r){1&o&&(a(0,"div",0)(1,"div",1)(2,"a",2),d(3,"Home"),c(),a(4,"span",3),d(5,"/"),c(),a(6,"span",4),d(7),c(),P(8,hW,5,1,"ng-container",5),c(),a(9,"div",6)(10,"h1"),d(11),P(12,mW,2,1,"span",5),c(),a(13,"p",7),d(14),c()(),P(15,bW,5,1,"div",8),a(16,"div",9)(17,"div",10)(18,"input",11),A("ngModelChange",function(s){return F(r.searchTerm,s)||(r.searchTerm=s),s}),C("keyup.enter",function(){return r.search()}),c(),a(19,"button",12),C("click",function(){return r.search()}),a(20,"span"),d(21,"\u{1f50d}"),c(),d(22," Search "),c()(),a(23,"div",13)(24,"h3"),d(25,"Brand"),c(),a(26,"div",14),P(27,yW,2,3,"button",15),c(),P(28,vW,2,0,"button",16),c()(),P(29,CW,3,0,"div",17)(30,xW,5,1,"div",18)(31,MW,5,0,"div",19)(32,wW,2,1,"div",20)(33,kW,9,6,"div",21),c()),2&o&&(p(7),S(r.categoryName),p(),h("ngIf",r.subcategoryName),p(3),S(r.categoryName),p(),h("ngIf",r.subcategoryName),p(2),D("",r.totalProducts," Products"),p(),h("ngIf",!r.subcategorySlug&&r.subcategories.length>0),p(3),E("ngModel",r.searchTerm),p(9),h("ngForOf",r.brands),p(),h("ngIf",r.selectedBrand||r.searchTerm),p(),h("ngIf",r.loading),p(),h("ngIf",r.error&&!r.loading),p(),h("ngIf",!r.loading&&0===r.products.length&&!r.error),p(),h("ngIf",!r.loading&&r.products.length>0),p(),h("ngIf",!r.loading&&r.products.length>0))},dependencies:[pe,De,ve,nt,et,rt,tt,Ge,Ze,Um,pW],styles:[".category-products-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:20px}.breadcrumb[_ngcontent-%COMP%]{margin-bottom:20px;color:#666;font-size:14px}.breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none}.breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primary-brown, #8B6F47);text-decoration:underline}.breadcrumb[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{margin:0 8px;color:#999}.breadcrumb[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{color:#333;font-weight:600}.category-header[_ngcontent-%COMP%]{margin-bottom:40px;text-align:center}.category-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5em;color:#333;margin-bottom:10px}.product-count[_ngcontent-%COMP%]{color:#666;font-size:1.1em}.subcategories-section[_ngcontent-%COMP%]{margin-bottom:50px}.subcategories-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8em;color:#333;margin-bottom:25px;font-weight:600}.subcategories-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:20px;margin-bottom:40px}.search-filter-section[_ngcontent-%COMP%]{background:#f9f9f9;padding:20px;border-radius:8px;margin-bottom:30px}.search-box[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:20px}.search-input[_ngcontent-%COMP%]{flex:1;padding:12px;border:1px solid #ddd;border-radius:4px;font-size:1em}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 3px #007bff1a}.search-btn[_ngcontent-%COMP%]{padding:12px 24px;background:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;font-weight:700}.search-btn[_ngcontent-%COMP%]:hover{background:#0056b3}.filter-section[_ngcontent-%COMP%]{margin-top:15px}.filter-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;margin-bottom:10px;font-size:1.1em}.brand-filter[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:15px}.brand-btn[_ngcontent-%COMP%]{padding:8px 16px;background:#fff;border:1px solid #ddd;border-radius:20px;cursor:pointer;transition:all .3s}.brand-btn[_ngcontent-%COMP%]:hover{border-color:#007bff;color:#007bff}.brand-btn.active[_ngcontent-%COMP%]{background:#007bff;color:#fff;border-color:#007bff}.clear-btn[_ngcontent-%COMP%]{padding:8px 16px;background:#dc3545;color:#fff;border:none;border-radius:4px;cursor:pointer}.clear-btn[_ngcontent-%COMP%]:hover{background:#c82333}.loading[_ngcontent-%COMP%], .error[_ngcontent-%COMP%], .no-products[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;background:#f9f9f9;border-radius:8px;margin:30px 0}.loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2em;color:#666}.error[_ngcontent-%COMP%]{background:#f8d7da;border:1px solid #f5c6cb}.error[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#721c24;margin-bottom:15px}.retry-btn[_ngcontent-%COMP%]{padding:10px 20px;background:#721c24;color:#fff;border:none;border-radius:4px;cursor:pointer}.retry-btn[_ngcontent-%COMP%]:hover{background:#5a151f}.no-products[_ngcontent-%COMP%]{background:#e2e3e5}.no-products[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#383d41;margin-bottom:15px}.products-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:20px;margin-bottom:40px}@media (max-width: 768px){.products-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:15px}}@media (max-width: 480px){.products-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:10px;flex-wrap:wrap;padding:20px;background:#f9f9f9;border-radius:8px;margin-top:30px}.pagination-btn[_ngcontent-%COMP%], .page-btn[_ngcontent-%COMP%]{padding:8px 12px;background:#fff;border:1px solid #ddd;border-radius:4px;cursor:pointer;transition:all .3s}.pagination-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#007bff;color:#fff;border-color:#007bff}.pagination-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.pagination-pages[_ngcontent-%COMP%]{display:flex;gap:5px}.page-btn[_ngcontent-%COMP%]{min-width:40px;text-align:center}.page-btn.active[_ngcontent-%COMP%]{background:#007bff;color:#fff;border-color:#007bff}.page-info[_ngcontent-%COMP%]{color:#666;margin-left:10px;font-size:.9em;white-space:nowrap}@media (max-width: 768px){.pagination[_ngcontent-%COMP%]{flex-direction:column}.page-info[_ngcontent-%COMP%]{margin-left:0;margin-top:10px}.category-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8em}.search-box[_ngcontent-%COMP%]{flex-direction:column}}"]})}}return t})();const SW=(t,n,e,o,r)=>({"bg-warning":t,"bg-primary":n,"bg-info":e,"bg-success":o,"bg-danger":r});function IW(t,n){1&t&&(a(0,"div",5)(1,"div",6)(2,"span",7),d(3,"Loading..."),c()()())}function TW(t,n){if(1&t&&(a(0,"div",8),d(1),c()),2&t){const e=f();p(),D(" ",e.error," ")}}function EW(t,n){1&t&&(a(0,"div",5),b(1,"i",9),a(2,"h3"),d(3,"No orders found"),c(),a(4,"p"),d(5,"You haven't placed any orders yet."),c(),a(6,"a",10),d(7,"Start Shopping"),c()())}function AW(t,n){if(1&t&&(a(0,"div",13)(1,"div",14)(2,"div")(3,"strong"),d(4),c(),a(5,"span",15),d(6),Q(7,"date"),c()(),a(8,"span",16),d(9),Q(10,"titlecase"),c()(),a(11,"div",17)(12,"div",18)(13,"div",19)(14,"p",20)(15,"strong"),d(16,"Total:"),c(),d(17),Q(18,"number"),c(),a(19,"p",20)(20,"strong"),d(21,"Payment:"),c(),d(22),Q(23,"uppercase"),c()(),b(24,"div",21),c()()()),2&t){const e=n.$implicit;p(4),D("Order #",e.id,""),p(2),S(pt(7,7,e.createdAt,"mediumDate")),p(2),h("ngClass",zC(16,SW,"pending"===e.status,"processing"===e.status,"shipped"===e.status,"delivered"===e.status,"cancelled"===e.status)),p(),S(Ne(10,10,e.status)),p(8),D(" \u20b9",Ne(18,12,e.pricing.total),""),p(5),rn(" ",Ne(23,14,e.paymentMethod)," (",e.paymentStatus,")")}}function NW(t,n){if(1&t){const e=R();a(0,"div",22)(1,"button",23),C("click",function(){return y(e),v(f(2).prevPage())}),d(2,"Previous"),c(),a(3,"span",24),d(4),c(),a(5,"button",25),C("click",function(){return y(e),v(f(2).nextPage())}),d(6,"Next"),c()()}if(2&t){const e=f(2);p(),h("disabled",1===e.currentPage),p(3),D("Page ",e.currentPage,""),p(),h("disabled",e.currentPage*e.pageSize>=e.totalOrders)}}function FW(t,n){if(1&t&&(a(0,"div"),P(1,AW,25,22,"div",11)(2,NW,7,3,"div",12),c()),2&t){const e=f();p(),h("ngForOf",e.orders),p(),h("ngIf",e.totalOrders>e.pageSize)}}let RW=(()=>{class t{constructor(){this.orderService=w(hr),this.authService=w(Qe),this.orders=[],this.loading=!0,this.error="",this.currentPage=1,this.pageSize=10,this.totalOrders=0}ngOnInit(){if(!this.authService.isAuthenticated())return this.error="Please login to view order history",void(this.loading=!1);this.loadOrders()}loadOrders(){this.loading=!0,this.orderService.getUserOrders(this.authService.currentUser()?.id,this.pageSize,this.currentPage).subscribe({next:e=>{this.orders=e.orders,this.totalOrders=e.total,this.loading=!1},error:e=>{console.error("Error loading orders:",e),this.error="Failed to load order history",this.loading=!1}})}nextPage(){this.currentPage*this.pageSize<this.totalOrders&&(this.currentPage++,this.loadOrders())}prevPage(){this.currentPage>1&&(this.currentPage--,this.loadOrders())}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=se({type:t,selectors:[["app-order-history"]],standalone:!0,features:[ae],decls:7,vars:4,consts:[[1,"container","py-5"],[1,"mb-4"],["class","text-center py-5",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[4,"ngIf"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"alert","alert-danger"],[1,"fas","fa-box-open","fa-3x","text-muted","mb-3"],["routerLink","/",1,"btn","btn-primary"],["class","card mb-3 order-card",4,"ngFor","ngForOf"],["class","d-flex justify-content-center mt-4",4,"ngIf"],[1,"card","mb-3","order-card"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"text-muted","ms-2"],[1,"badge",3,"ngClass"],[1,"card-body"],[1,"row"],[1,"col-md-8"],[1,"mb-1"],[1,"col-md-4","text-end"],[1,"d-flex","justify-content-center","mt-4"],[1,"btn","btn-outline-primary","me-2",3,"click","disabled"],[1,"align-self-center"],[1,"btn","btn-outline-primary","ms-2",3,"click","disabled"]],template:function(o,r){1&o&&(a(0,"div",0)(1,"h1",1),d(2,"Order History"),c(),P(3,IW,4,0,"div",2)(4,TW,2,1,"div",3)(5,EW,8,0,"div",2)(6,FW,3,2,"div",4),c()),2&o&&(p(3),h("ngIf",r.loading),p(),h("ngIf",r.error),p(),h("ngIf",!r.loading&&!r.error&&0===r.orders.length),p(),h("ngIf",!r.loading&&!r.error&&r.orders.length>0))},dependencies:[pe,Ua,De,ve,yh,co,bh,kd,Ge,Ze],styles:[".order-card[_ngcontent-%COMP%]{transition:box-shadow .3s ease}.order-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #0000001a}.badge[_ngcontent-%COMP%]{font-size:.9em;padding:.5em .8em}"]})}}return t})();const LW=t=>({"background-color":t}),UW=t=>["/order",t,"track"];function VW(t,n){1&t&&(a(0,"div",6),b(1,"div",7),a(2,"p"),d(3,"Loading order details..."),c()())}function BW(t,n){if(1&t){const e=R();a(0,"button",30),C("click",function(){return y(e),v(f(2).openCancelDialog())}),d(1," \u2715 Cancel Order "),c()}}function zW(t,n){if(1&t&&(a(0,"div",31)(1,"div",32)(2,"h3"),d(3),c(),a(4,"p",33),d(5),c()(),a(6,"div",34),d(7),c(),a(8,"div",35),d(9),Q(10,"number"),c(),a(11,"div",36),d(12),Q(13,"number"),c()()),2&t){const e=n.$implicit;p(3),S(e.product.name),p(2),D("SKU: ",e.product.id,""),p(2),D("Qty: ",e.quantity,""),p(2),D("\u20b9",pt(10,5,e.price,"1.2-2"),""),p(3),D("\u20b9",pt(13,8,e.subtotal,"1.2-2"),"")}}function jW(t,n){if(1&t&&(a(0,"div",27)(1,"span"),d(2,"Estimated Delivery:"),c(),a(3,"span"),d(4),c()()),2&t){const e=f(3);p(4),S(e.formatDate(e.order.estimatedDeliveryDate))}}function $W(t,n){if(1&t&&(a(0,"div",27)(1,"span"),d(2,"Delivered On:"),c(),a(3,"span"),d(4),c()()),2&t){const e=f(3);p(4),S(e.formatDate(e.order.actualDeliveryDate))}}function HW(t,n){if(1&t&&(a(0,"section",18)(1,"h2"),d(2,"\u{1f4c5} Delivery Information"),c(),a(3,"div",37),P(4,jW,5,1,"div",38)(5,$W,5,1,"div",38),c()()),2&t){const e=f(2);p(4),h("ngIf",e.order.estimatedDeliveryDate),p(),h("ngIf",e.order.actualDeliveryDate)}}function qW(t,n){if(1&t&&(a(0,"section",18)(1,"h2"),d(2,"\u274c Cancellation Details"),c(),a(3,"div",39)(4,"div",27)(5,"span"),d(6,"Cancelled On:"),c(),a(7,"span"),d(8),c()(),a(9,"div",27)(10,"span"),d(11,"Reason:"),c(),a(12,"span"),d(13),c()()()()),2&t){const e=f(2);p(8),S(e.formatDate(e.order.cancellationDate)),p(5),S(e.order.cancellationReason||"No reason provided")}}function WW(t,n){if(1&t&&(a(0,"div",8)(1,"div",9)(2,"div",10)(3,"h1"),d(4),c(),a(5,"div",11)(6,"span",12),d(7),c(),a(8,"span",13),d(9),c()()(),a(10,"div",14)(11,"button",15),d(12," \u{1f4cd} Track Order "),c(),P(13,BW,2,0,"button",16),c()(),a(14,"div",17)(15,"section",18)(16,"h2"),d(17,"\u{1f4e6} Order Items"),c(),a(18,"div",19),P(19,zW,14,11,"div",20),c()(),a(20,"section",18)(21,"h2"),d(22,"\u{1f4b0} Price Breakdown"),c(),a(23,"div",21)(24,"div",22)(25,"span"),d(26,"Subtotal:"),c(),a(27,"span"),d(28),Q(29,"number"),c()(),a(30,"div",22)(31,"span"),d(32,"Shipping:"),c(),a(33,"span"),d(34),Q(35,"number"),c()(),a(36,"div",22)(37,"span"),d(38,"Tax (18% GST):"),c(),a(39,"span"),d(40),Q(41,"number"),c()(),a(42,"div",23)(43,"span"),d(44,"Total Amount:"),c(),a(45,"span"),d(46),Q(47,"number"),c()()()(),a(48,"section",18)(49,"h2"),d(50,"\u{1f4cd} Delivery Address"),c(),a(51,"div",24)(52,"p")(53,"strong"),d(54),c()(),a(55,"p"),d(56),c(),a(57,"p"),d(58),c(),a(59,"p"),d(60),c(),a(61,"p",25),d(62),c()()(),a(63,"section",18)(64,"h2"),d(65,"\u{1f4b3} Payment Information"),c(),a(66,"div",26)(67,"div",27)(68,"span"),d(69,"Payment Method:"),c(),a(70,"span"),d(71),c()(),a(72,"div",27)(73,"span"),d(74,"Payment Status:"),c(),a(75,"span",28),d(76),c()()()(),P(77,HW,6,2,"section",29)(78,qW,14,2,"section",29),c()()),2&t){const e=f();p(4),D("Order #",e.order.id,""),p(3),S(e.formatDate(e.order.createdAt)),p(),h("ngStyle",Et(36,LW,e.getStatusColor(e.order.status))),p(),D(" ",e.getStatusLabel(e.order.status)," "),p(2),h("routerLink",Et(38,UW,e.order.id)),p(2),h("ngIf",e.canCancelOrder(e.order.status)),p(6),h("ngForOf",e.order.items),p(9),D("\u20b9",pt(29,24,e.order.pricing.subtotal,"1.2-2"),""),p(6),S(0===e.order.pricing.shipping?"FREE":"\u20b9"+pt(35,27,e.order.pricing.shipping,"1.2-2")),p(6),D("\u20b9",pt(41,30,e.order.pricing.tax,"1.2-2"),""),p(6),D("\u20b9",pt(47,33,e.order.pricing.total,"1.2-2"),""),p(8),rn("",e.order.customer.firstName," ",e.order.customer.lastName,""),p(2),S(e.order.deliveryAddress.street),p(2),S(e.order.deliveryAddress.landmark),p(2),Fr("",e.order.deliveryAddress.city,", ",e.order.deliveryAddress.state," - ",e.order.deliveryAddress.pincode,""),p(2),D("\u{1f4de} ",e.order.customer.phone,""),p(9),S(e.order.paymentMethod),p(4),h("ngClass","status-"+e.order.paymentStatus),p(),D(" ",e.formatPaymentStatus(e.order.paymentStatus)," "),p(),h("ngIf",e.order.estimatedDeliveryDate||e.order.actualDeliveryDate),p(),h("ngIf","cancelled"===e.order.status)}}function GW(t,n){1&t&&(a(0,"div",40)(1,"p"),d(2,"Order not found"),c(),a(3,"button",41),d(4,"Go to Orders"),c()())}function YW(t,n){if(1&t){const e=R();a(0,"div",42)(1,"div",43)(2,"h2"),d(3),c(),a(4,"p"),d(5,"Are you sure you want to cancel this order? This action cannot be undone."),c(),a(6,"div",44)(7,"label"),d(8,"Reason for cancellation:"),c(),a(9,"textarea",45),A("ngModelChange",function(r){y(e);const i=f();return F(i.cancellationReason,r)||(i.cancellationReason=r),v(r)}),c()(),a(10,"div",46)(11,"button",47),C("click",function(){return y(e),v(f().closeCancelDialog())}),d(12," Keep Order "),c(),a(13,"button",30),C("click",function(){return y(e),v(f().confirmCancel())}),d(14," Confirm Cancellation "),c()()()()}if(2&t){const e=f();p(3),D("Cancel Order #",null==e.order?null:e.order.id,"?"),p(6),E("ngModel",e.cancellationReason)}}let KW=(()=>{class t{constructor(){this.orderService=w(hr),this.route=w(sn),this.router=w(me),this.order=null,this.isLoading=!0,this.showCancelDialog=!1,this.cancellationReason=""}ngOnInit(){this.loadOrder()}loadOrder(){const e=this.route.snapshot.paramMap.get("id");e?this.orderService.getOrder(e).subscribe({next:o=>{this.order=o,this.isLoading=!1},error:o=>{console.error("Error loading order:",o),this.isLoading=!1}}):this.isLoading=!1}formatDate(e){return e?new Date(e).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"N/A"}formatPaymentStatus(e){return{completed:"Payment Completed",pending:"Payment Pending",failed:"Payment Failed"}[e]||e}getStatusLabel(e){return this.orderService.getOrderStatusLabel(e)}getStatusColor(e){return this.orderService.getOrderStatusColor(e)}canCancelOrder(e){return["pending","confirmed","processing"].includes(e)}openCancelDialog(){this.showCancelDialog=!0}closeCancelDialog(){this.showCancelDialog=!1,this.cancellationReason=""}confirmCancel(){this.order&&this.orderService.cancelOrder(this.order.id).subscribe({next:()=>{this.closeCancelDialog(),this.loadOrder()},error:e=>{console.error("Error cancelling order:",e)}})}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=se({type:t,selectors:[["app-order-details"]],standalone:!0,features:[ae],decls:7,vars:4,consts:[[1,"order-details-container"],["routerLink","/orders",1,"back-btn"],["class","loading",4,"ngIf"],["class","order-content",4,"ngIf"],["class","error-state",4,"ngIf"],["class","dialog-overlay",4,"ngIf"],[1,"loading"],[1,"spinner"],[1,"order-content"],[1,"order-header-section"],[1,"order-title"],[1,"order-meta"],[1,"order-date"],[1,"order-status-badge",3,"ngStyle"],[1,"order-actions"],[1,"btn","btn-outline",3,"routerLink"],["class","btn btn-danger",3,"click",4,"ngIf"],[1,"details-grid"],[1,"section"],[1,"items-list"],["class","item-row",4,"ngFor","ngForOf"],[1,"pricing-details"],[1,"price-row"],[1,"price-row","total"],[1,"address-details"],[1,"contact"],[1,"payment-details"],[1,"detail-row"],[3,"ngClass"],["class","section",4,"ngIf"],[1,"btn","btn-danger",3,"click"],[1,"item-row"],[1,"item-info"],[1,"item-sku"],[1,"item-qty"],[1,"item-price"],[1,"item-subtotal"],[1,"delivery-details"],["class","detail-row",4,"ngIf"],[1,"cancellation-details","alert-warning"],[1,"error-state"],["routerLink","/orders",1,"btn","btn-primary"],[1,"dialog-overlay"],[1,"dialog"],[1,"form-group"],["placeholder","Tell us why you're cancelling...",1,"textarea",3,"ngModelChange","ngModel"],[1,"dialog-actions"],[1,"btn","btn-outline",3,"click"]],template:function(o,r){1&o&&(a(0,"div",0)(1,"button",1),d(2," \u2190 Back to Orders "),c(),P(3,VW,4,0,"div",2)(4,WW,79,40,"div",3)(5,GW,5,0,"div",4)(6,YW,15,2,"div",5),c()),2&o&&(p(3),h("ngIf",r.isLoading),p(),h("ngIf",!r.isLoading&&r.order),p(),h("ngIf",!r.isLoading&&!r.order),p(),h("ngIf",r.showCancelDialog))},dependencies:[pe,Ua,De,ve,_h,co,Ge,Ze,nt,et,rt,tt],styles:['.order-details-container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;padding:20px}.back-btn[_ngcontent-%COMP%]{background:none;border:none;color:#667eea;cursor:pointer;font-size:14px;margin-bottom:20px;padding:0}.back-btn[_ngcontent-%COMP%]:hover{text-decoration:underline}.loading[_ngcontent-%COMP%]{text-align:center;padding:60px 20px}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #f3f3f3;border-top:4px solid #667eea;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 20px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.order-header-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;background:#fff;padding:20px;border-radius:8px;margin-bottom:20px;border:1px solid #e0e0e0}.order-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;margin:0 0 10px;color:#333}.order-meta[_ngcontent-%COMP%]{display:flex;gap:15px;align-items:center;flex-wrap:wrap}.order-date[_ngcontent-%COMP%]{font-size:14px;color:#666}.order-status-badge[_ngcontent-%COMP%]{display:inline-block;padding:6px 12px;border-radius:20px;color:#fff;font-size:12px;font-weight:600}.order-actions[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap}.details-grid[_ngcontent-%COMP%]{display:grid;gap:20px}.section[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;border:1px solid #e0e0e0}.section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px;margin:0 0 15px;color:#333;border-bottom:2px solid #f0f0f0;padding-bottom:10px}.items-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.item-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 80px 100px 120px;gap:15px;align-items:center;padding:15px;background:#f9f9f9;border-radius:4px}.item-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 5px;color:#333;font-size:14px}.item-sku[_ngcontent-%COMP%]{color:#999;font-size:12px;margin:0}.item-qty[_ngcontent-%COMP%], .item-price[_ngcontent-%COMP%], .item-subtotal[_ngcontent-%COMP%]{text-align:right;font-size:14px;color:#333}.pricing-details[_ngcontent-%COMP%]{background:#f9f9f9;padding:15px;border-radius:4px}.price-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid #f0f0f0;font-size:14px}.price-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.price-row.total[_ngcontent-%COMP%]{border-top:2px solid #667eea;padding:12px 0;font-weight:600;font-size:16px;color:#667eea}.price-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{color:#666}.price-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{color:#333;font-weight:500}.address-details[_ngcontent-%COMP%]{background:#f9f9f9;padding:15px;border-radius:4px;font-size:14px;line-height:1.8}.address-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;color:#333}.address-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}.contact[_ngcontent-%COMP%]{color:#667eea;margin-top:10px!important}.payment-details[_ngcontent-%COMP%], .delivery-details[_ngcontent-%COMP%]{background:#f9f9f9;padding:15px;border-radius:4px}.detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid #f0f0f0;font-size:14px}.detail-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.detail-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{color:#666;font-weight:500}.detail-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{color:#333}.status-completed[_ngcontent-%COMP%]{color:#28a745;font-weight:600}.status-pending[_ngcontent-%COMP%]{color:#ffc107;font-weight:600}.status-failed[_ngcontent-%COMP%]{color:#dc3545;font-weight:600}.cancellation-details[_ngcontent-%COMP%]{padding:15px;border-radius:4px;border-left:4px solid #dc3545}.alert-warning[_ngcontent-%COMP%]{background:#fff5f5}.btn[_ngcontent-%COMP%]{padding:10px 15px;border:none;border-radius:4px;font-size:14px;cursor:pointer;transition:all .3s ease}.btn-outline[_ngcontent-%COMP%]{background:#fff;border:1px solid #667eea;color:#667eea}.btn-outline[_ngcontent-%COMP%]:hover, .btn-primary[_ngcontent-%COMP%]{background:#667eea;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#5568d3}.btn-danger[_ngcontent-%COMP%]{background:#fff;border:1px solid #dc3545;color:#dc3545}.btn-danger[_ngcontent-%COMP%]:hover{background:#dc3545;color:#fff}.error-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;background:#fff;border-radius:8px}.dialog-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.dialog[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:30px;max-width:400px;width:90%;box-shadow:0 10px 40px #0003}.dialog[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#333;margin:0 0 15px}.dialog[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0 0 20px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;color:#333;font-weight:500;font-size:14px}.textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ddd;border-radius:4px;font-family:inherit;font-size:14px;min-height:80px;resize:vertical}.dialog-actions[_ngcontent-%COMP%]{display:flex;gap:10px}@media (max-width: 768px){.order-header-section[_ngcontent-%COMP%]{flex-direction:column;gap:15px}.item-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:5px}.item-qty[_ngcontent-%COMP%], .item-price[_ngcontent-%COMP%], .item-subtotal[_ngcontent-%COMP%]{text-align:left}.item-qty[_ngcontent-%COMP%]:before{content:"Qty: ";color:#666}.item-price[_ngcontent-%COMP%]:before{content:"Price: ";color:#666}.item-subtotal[_ngcontent-%COMP%]:before{content:"Subtotal: ";color:#666}}']})}}return t})();const yO=t=>({"background-color":t}),QW=t=>["/order",t];function JW(t,n){1&t&&(a(0,"div",5),b(1,"div",6),a(2,"p"),d(3,"Loading tracking information..."),c()())}function XW(t,n){if(1&t&&(a(0,"p",33),d(1),c()),2&t){const e=f().$implicit;p(),D("\u{1f4cd} ",e.location,"")}}function ZW(t,n){if(1&t&&(a(0,"div",25)(1,"div",26)(2,"div",27)(3,"span",28),d(4),c()()(),a(5,"div",29)(6,"h3"),d(7),c(),a(8,"p",30),d(9),c(),a(10,"p",31),d(11),c(),P(12,XW,2,1,"p",32),c()()),2&t){const e=n.$implicit,o=f(2);p(2),h("ngStyle",Et(6,yO,o.getEventColor(e.status))),p(2),S(o.getStatusIcon(e.status)),p(3),S(o.getStatusLabel(e.status)),p(2),S(o.formatDateTime(e.timestamp)),p(2),S(e.description),p(),h("ngIf",e.location)}}function eG(t,n){if(1&t&&(a(0,"div",16)(1,"span"),d(2,"Current Location:"),c(),a(3,"strong"),d(4),c()()),2&t){const e=f(2);p(4),S(e.tracking.location)}}function tG(t,n){if(1&t&&(a(0,"div",16)(1,"span"),d(2,"Estimated Delivery:"),c(),a(3,"strong"),d(4),c()()),2&t){const e=f(2);p(4),S(e.formatDate(e.tracking.estimatedDelivery))}}function nG(t,n){if(1&t&&(a(0,"div",34)(1,"div",35)(2,"h3"),d(3),c(),a(4,"p",36)(5,"span"),d(6),c(),a(7,"span",37),d(8,"\u2022"),c(),a(9,"span"),d(10),c()()(),a(11,"div",38),d(12),Q(13,"number"),c()()),2&t){const e=n.$implicit;p(3),S(e.product.name),p(3),D("Qty: ",e.quantity,""),p(4),D("\u20b9",e.price,""),p(2),D("\u20b9",pt(13,4,e.subtotal,"1.2-2"),"")}}function oG(t,n){if(1&t&&(a(0,"div",7)(1,"div",8)(2,"h1"),d(3,"\u{1f4e6} Track Your Order"),c(),a(4,"p",9),d(5),c(),a(6,"div",10),d(7),c()(),a(8,"div",11)(9,"h2"),d(10,"\u{1f4cd} Tracking Timeline"),c(),a(11,"div",12),P(12,ZW,13,8,"div",13),c()(),a(13,"div",14)(14,"h2"),d(15,"\u{1f4cd} Current Status"),c(),a(16,"div",15)(17,"div",16)(18,"span"),d(19,"Status:"),c(),a(20,"strong"),d(21),c()(),a(22,"div",16)(23,"span"),d(24,"Last Updated:"),c(),a(25,"strong"),d(26),c()(),P(27,eG,5,1,"div",17)(28,tG,5,1,"div",17),c()(),a(29,"div",14)(30,"h2"),d(31,"\u{1f4e6} Order Summary"),c(),a(32,"div",18)(33,"div",19)(34,"span"),d(35,"Items Ordered:"),c(),a(36,"strong"),d(37),c()(),a(38,"div",19)(39,"span"),d(40,"Total Amount:"),c(),a(41,"strong"),d(42),Q(43,"number"),c()(),a(44,"div",19)(45,"span"),d(46,"Delivery Address:"),c(),a(47,"strong"),d(48),c()(),a(49,"div",19)(50,"span"),d(51,"Ordered On:"),c(),a(52,"strong"),d(53),c()()()(),a(54,"div",14)(55,"h2"),d(56,"\u{1f4cb} Order Items"),c(),a(57,"div",20),P(58,nG,14,7,"div",21),c()(),a(59,"div",22)(60,"button",23),d(61," \u{1f4cb} View Full Details "),c(),a(62,"button",24),d(63," \u{1f448} Back to Orders "),c()()()),2&t){const e=f();p(5),D("Order #",e.order.id,""),p(),h("ngStyle",Et(18,yO,e.getStatusColor(e.order.status))),p(),D(" ",e.getStatusLabel(e.order.status)," "),p(5),h("ngForOf",e.tracking.events),p(9),S(e.getStatusLabel(e.order.status)),p(5),S(e.formatDateTime(e.tracking.lastUpdated)),p(),h("ngIf",e.tracking.location),p(),h("ngIf",e.tracking.estimatedDelivery),p(9),D("",e.order.items.length," items"),p(5),D("\u20b9",pt(43,15,e.order.pricing.total,"1.2-2"),""),p(6),rn("",e.order.deliveryAddress.city,", ",e.order.deliveryAddress.state,""),p(5),S(e.formatDate(e.order.createdAt)),p(5),h("ngForOf",e.order.items),p(2),h("routerLink",Et(20,QW,e.order.id))}}function rG(t,n){1&t&&(a(0,"div",39)(1,"p"),d(2,"\u274c Order not found"),c(),a(3,"button",40),d(4,"Go to Orders"),c()())}let iG=(()=>{class t{constructor(){this.orderService=w(hr),this.route=w(sn),this.router=w(me),this.order=null,this.tracking=null,this.isLoading=!0}ngOnInit(){this.loadOrderTracking()}loadOrderTracking(){const e=this.route.snapshot.paramMap.get("id");e?this.orderService.getOrder(e).subscribe({next:o=>{this.order=o,this.loadTracking(e)},error:o=>{console.error("Error loading order:",o),this.isLoading=!1}}):this.isLoading=!1}loadTracking(e){this.orderService.getOrderTracking(e).subscribe({next:o=>{this.tracking=o,this.isLoading=!1},error:o=>{console.error("Error loading tracking:",o),this.isLoading=!1}})}formatDate(e){return new Date(e).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})}formatDateTime(e){return new Date(e).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}getStatusLabel(e){return this.orderService.getOrderStatusLabel(e)}getStatusIcon(e){return this.orderService.getOrderStatusIcon(e)}getStatusColor(e){return this.orderService.getOrderStatusColor(e)}getEventColor(e){return{pending:"#ffc107",confirmed:"#17a2b8",processing:"#007bff",shipped:"#6c63ff",out_for_delivery:"#fd7e14",delivered:"#28a745",cancelled:"#dc3545"}[e]||"#999"}goBack(){this.router.navigate(["/orders"])}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=se({type:t,selectors:[["app-order-tracking"]],standalone:!0,features:[ae],decls:6,vars:3,consts:[[1,"tracking-container"],[1,"back-btn",3,"click"],["class","loading",4,"ngIf"],["class","tracking-content",4,"ngIf"],["class","error-state",4,"ngIf"],[1,"loading"],[1,"spinner"],[1,"tracking-content"],[1,"tracking-header"],[1,"order-number"],[1,"order-status-badge",3,"ngStyle"],[1,"timeline-section"],[1,"timeline"],["class","timeline-item",4,"ngFor","ngForOf"],[1,"info-card"],[1,"status-info"],[1,"info-row"],["class","info-row",4,"ngIf"],[1,"order-summary"],[1,"summary-row"],[1,"items-table"],["class","item-card",4,"ngFor","ngForOf"],[1,"actions"],[1,"btn","btn-primary",3,"routerLink"],["routerLink","/orders",1,"btn","btn-outline"],[1,"timeline-item"],[1,"timeline-marker"],[1,"timeline-dot",3,"ngStyle"],[1,"timeline-icon"],[1,"timeline-content"],[1,"timeline-date"],[1,"timeline-description"],["class","timeline-location",4,"ngIf"],[1,"timeline-location"],[1,"item-card"],[1,"item-details"],[1,"item-meta"],[1,"separator"],[1,"item-subtotal"],[1,"error-state"],["routerLink","/orders",1,"btn","btn-primary"]],template:function(o,r){1&o&&(a(0,"div",0)(1,"button",1),C("click",function(){return r.goBack()}),d(2," \u2190 Back "),c(),P(3,JW,4,0,"div",2)(4,oG,64,22,"div",3)(5,rG,5,0,"div",4),c()),2&o&&(p(3),h("ngIf",r.isLoading),p(),h("ngIf",!r.isLoading&&r.order&&r.tracking),p(),h("ngIf",!r.isLoading&&!r.order))},dependencies:[pe,De,ve,_h,co,Ge,Ze],styles:['.tracking-container[_ngcontent-%COMP%]{max-width:900px;margin:0 auto;padding:20px}.back-btn[_ngcontent-%COMP%]{background:none;border:none;color:#667eea;cursor:pointer;font-size:14px;margin-bottom:20px;padding:0}.back-btn[_ngcontent-%COMP%]:hover{text-decoration:underline}.loading[_ngcontent-%COMP%]{text-align:center;padding:60px 20px}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #f3f3f3;border-top:4px solid #667eea;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 20px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.tracking-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-in}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.tracking-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:40px;background:#fff;padding:30px;border-radius:8px;border:1px solid #e0e0e0}.tracking-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px;margin:0 0 10px;color:#333}.order-number[_ngcontent-%COMP%]{color:#666;font-size:16px;margin:0 0 15px}.order-status-badge[_ngcontent-%COMP%]{display:inline-block;padding:8px 16px;border-radius:20px;color:#fff;font-weight:600;font-size:14px}.timeline-section[_ngcontent-%COMP%]{margin-bottom:30px;background:#fff;padding:30px;border-radius:8px;border:1px solid #e0e0e0}.timeline-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px;margin:0 0 20px;color:#333}.timeline[_ngcontent-%COMP%]{position:relative;padding-left:40px}.timeline[_ngcontent-%COMP%]:before{content:"";position:absolute;left:8px;top:20px;bottom:0;width:2px;background:#e0e0e0}.timeline-item[_ngcontent-%COMP%]{position:relative;margin-bottom:30px}.timeline-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.timeline-marker[_ngcontent-%COMP%]{position:absolute;left:-40px;top:0}.timeline-dot[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700;font-size:12px}.timeline-icon[_ngcontent-%COMP%]{display:inline-block}.timeline-content[_ngcontent-%COMP%]{background:#f9f9f9;padding:15px;border-radius:4px;border-left:3px solid #667eea}.timeline-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 5px;color:#333;font-size:15px;font-weight:600}.timeline-date[_ngcontent-%COMP%]{color:#999;font-size:12px;margin:0 0 8px}.timeline-description[_ngcontent-%COMP%]{color:#666;font-size:14px;margin:0 0 8px}.timeline-location[_ngcontent-%COMP%]{color:#667eea;font-size:12px;margin:0}.info-card[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:8px;border:1px solid #e0e0e0;margin-bottom:20px}.info-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:16px;margin:0 0 15px;color:#333;border-bottom:2px solid #f0f0f0;padding-bottom:10px}.status-info[_ngcontent-%COMP%], .order-summary[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.info-row[_ngcontent-%COMP%], .summary-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid #f0f0f0;font-size:14px}.info-row[_ngcontent-%COMP%]:last-child, .summary-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.info-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child, .summary-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{color:#666;font-weight:500}.info-row[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .summary-row[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333;text-align:right}.items-table[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.item-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px;background:#f9f9f9;border-radius:4px;border-left:3px solid #667eea}.item-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 5px;color:#333;font-size:14px}.item-meta[_ngcontent-%COMP%]{margin:0;color:#666;font-size:12px}.separator[_ngcontent-%COMP%]{margin:0 8px}.item-subtotal[_ngcontent-%COMP%]{font-weight:600;color:#667eea;font-size:14px}.actions[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:30px;justify-content:center;flex-wrap:wrap}.btn[_ngcontent-%COMP%]{padding:12px 30px;border:none;border-radius:4px;font-size:14px;cursor:pointer;transition:all .3s ease;font-weight:500}.btn-primary[_ngcontent-%COMP%]{background:#667eea;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#5568d3}.btn-outline[_ngcontent-%COMP%]{background:#fff;border:2px solid #667eea;color:#667eea}.btn-outline[_ngcontent-%COMP%]:hover{background:#667eea;color:#fff}.error-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;background:#fff;border-radius:8px}@media (max-width: 600px){.tracking-container[_ngcontent-%COMP%]{padding:10px}.info-row[_ngcontent-%COMP%], .summary-row[_ngcontent-%COMP%]{flex-direction:column;gap:5px}.timeline[_ngcontent-%COMP%]{padding-left:25px}.timeline[_ngcontent-%COMP%]:before{left:3px}.timeline-marker[_ngcontent-%COMP%]{left:-35px}.item-card[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px}.item-subtotal[_ngcontent-%COMP%]{align-self:flex-end}}']})}}return t})();function sG(t,n){if(1&t&&(a(0,"div",13),d(1),c()),2&t){const e=f();p(),S(e.success)}}function aG(t,n){if(1&t&&(a(0,"div",14),d(1),c()),2&t){const e=f();p(),S(e.error)}}function cG(t,n){if(1&t&&(a(0,"div",28),b(1,"img",29),c()),2&t){const e=f(2);p(),h("src",e.imagePreview,ue)}}function lG(t,n){if(1&t){const e=R();a(0,"div",15),C("click",function(){return y(e),v(f().closeForm())}),a(1,"div",16),C("click",function(r){return y(e),v(r.stopPropagation())}),a(2,"div",17)(3,"h2"),d(4),c(),a(5,"div",18)(6,"label"),d(7,"Category Name *"),c(),a(8,"input",19),A("ngModelChange",function(r){y(e);const i=f();return F(i.formData.name,r)||(i.formData.name=r),v(r)}),c()(),a(9,"div",18)(10,"label"),d(11,"Description"),c(),a(12,"textarea",20),A("ngModelChange",function(r){y(e);const i=f();return F(i.formData.description,r)||(i.formData.description=r),v(r)}),c()(),a(13,"div",18)(14,"label"),d(15,"Display Order"),c(),a(16,"input",21),A("ngModelChange",function(r){y(e);const i=f();return F(i.formData.display_order,r)||(i.formData.display_order=r),v(r)}),c()(),a(17,"div",18)(18,"label")(19,"input",22),A("ngModelChange",function(r){y(e);const i=f();return F(i.formData.display_on_home,r)||(i.formData.display_on_home=r),v(r)}),c(),d(20," Display on Home Page "),c()(),a(21,"div",18)(22,"label"),d(23,"Category Image"),c(),P(24,cG,2,1,"div",23),a(25,"input",24),C("change",function(r){return y(e),v(f().onFileSelected(r))}),c(),a(26,"small"),d(27,"Select an image file to upload"),c()(),a(28,"div",25)(29,"button",26),C("click",function(){return y(e),v(f().saveCategory())}),d(30),c(),a(31,"button",27),C("click",function(){return y(e),v(f().closeForm())}),d(32,"Cancel"),c()()()()()}if(2&t){const e=f();p(4),D("",e.editingId?"Edit":"Add New"," Category"),p(4),E("ngModel",e.formData.name),p(4),E("ngModel",e.formData.description),p(4),E("ngModel",e.formData.display_order),p(3),E("ngModel",e.formData.display_on_home),p(5),h("ngIf",e.imagePreview),p(5),h("disabled",e.loading),p(),D(" ",e.loading?"Saving...":"Save Category"," ")}}function dG(t,n){1&t&&(a(0,"div",30),d(1,"Loading categories..."),c())}function uG(t,n){if(1&t){const e=R();a(0,"div",33),C("click",function(){const r=y(e).$implicit;return v(f(2).viewDetails(r))}),a(1,"div",34)(2,"img",35),C("error",function(r){return y(e),v(r.target.src="/assets/images/placeholder.jpg")}),c()(),a(3,"div",36)(4,"h3"),d(5),c(),a(6,"p",37),d(7),c(),a(8,"p",38),d(9),c()(),a(10,"div",39),C("click",function(r){return y(e),v(r.stopPropagation())}),a(11,"button",40),C("click",function(){const r=y(e).$implicit;return v(f(2).openForm(r))}),b(12,"i",41),d(13," Edit "),c(),a(14,"button",42),C("click",function(){const r=y(e).$implicit;return v(f(2).deleteCategory(r.id))}),b(15,"i",43),d(16," Delete "),c()()()}if(2&t){const e=n.$implicit;p(2),h("src",e.image_url||"/assets/images/placeholder.jpg",ue)("alt",e.name),p(3),S(e.name),p(2),S(e.description),p(2),rn("Order: ",e.display_order," | Home: ",e.display_on_home?"Yes":"No","")}}function pG(t,n){if(1&t&&(a(0,"div",31),P(1,uG,17,6,"div",32),c()),2&t){const e=f();p(),h("ngForOf",e.categories)}}function gG(t,n){if(1&t){const e=R();a(0,"div",44),d(1," No categories found. "),a(2,"a",45),C("click",function(){return y(e),v(f().openForm())}),d(3,"Create one now"),c()()}}let fG=(()=>{class t{constructor(){this.http=w(kt),this.router=w(me),this.apiUrl=`${ot_apiUrl}`,this.categories=[],this.showForm=!1,this.editingId=null,this.loading=!1,this.error="",this.success="",this.formData={name:"",description:"",image_url:"",display_order:0,display_on_home:!1},this.imagePreview=null,this.selectedFile=null}ngOnInit(){this.loadCategories()}goBack(){this.router.navigate(["/admin"])}loadCategories(){this.loading=!0,this.http.get(`${this.apiUrl}/categories`).subscribe(e=>{this.categories=Array.isArray(e)?e:e.data||[],this.loading=!1},e=>{this.error="Failed to load categories",this.loading=!1})}openForm(e){e?(this.editingId=e.id||null,this.formData={...e},this.imagePreview=e.image_url||null):(this.editingId=null,this.formData={name:"",description:"",image_url:"",display_order:0,display_on_home:!1},this.imagePreview=null),this.showForm=!0,this.error="",this.success="",this.selectedFile=null}closeForm(){this.showForm=!1,this.selectedFile=null,this.imagePreview=null}onFileSelected(e){const o=e.target.files[0];if(o){this.selectedFile=o;const r=new FileReader;r.onload=()=>{this.imagePreview=r.result},r.readAsDataURL(o)}}saveCategory(){var e=this;return xe(function*(){if(e.formData.name){e.loading=!0,e.error="";try{if(e.selectedFile){const s=yield e.uploadImage(e.selectedFile);e.formData.image_url=s}const o={name:e.formData.name,slug:e.formData.slug||e.slugify(e.formData.name),description:e.formData.description,imageUrl:e.formData.image_url,displayOnHome:e.formData.display_on_home,displayOrder:e.formData.display_order};e.http.request(e.editingId?"PUT":"POST",e.editingId?`${e.apiUrl}/categories/admin/${e.editingId}`:`${e.apiUrl}/categories/admin/create`,{body:o}).subscribe(s=>{e.success=e.editingId?"Category updated successfully":"Category created successfully",e.loadCategories(),e.closeForm(),e.loading=!1},s=>{console.error("Save error:",s),e.error=s.error?.error||"Failed to save category",e.loading=!1})}catch(o){console.error("Upload/Save error:",o),e.error=o.message||"Failed to upload image or save category",e.loading=!1}}else e.error="Category name is required"})()}deleteCategory(e){!e||!confirm("Are you sure you want to delete this category?")||(this.loading=!0,this.http.delete(`${this.apiUrl}/categories/admin/${e}`).subscribe(()=>{this.success="Category deleted successfully",this.loadCategories(),this.loading=!1},o=>{this.error="Failed to delete category",this.loading=!1}))}uploadImage(e){var o=this;return new Promise((r,i)=>{const s=new FileReader;s.onload=xe(function*(){try{const l=s.result,u=yield o.http.post(`${o.apiUrl}/upload/image`,{base64Data:l,type:"category"}).toPromise();r(u?.imageUrl||l)}catch(l){i(l)}}),s.readAsDataURL(e)})}viewDetails(e){if(e.slug)this.router.navigate(["/admin/categories",e.slug]);else if(e.name){const o=this.slugify(e.name);this.router.navigate(["/admin/categories",o])}}slugify(e){return e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=se({type:t,selectors:[["app-admin-categories"]],standalone:!0,features:[ae],decls:18,vars:6,consts:[[1,"admin-categories"],[1,"header"],[1,"back-button",3,"click"],[1,"fas","fa-folder"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],["class","alert alert-success",4,"ngIf"],["class","alert alert-error",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"categories-section"],["class","loading",4,"ngIf"],["class","categories-grid",4,"ngIf"],["class","no-data",4,"ngIf"],[1,"alert","alert-success"],[1,"alert","alert-error"],[1,"modal-overlay",3,"click"],[1,"form-section",3,"click"],[1,"form-container"],[1,"form-group"],["type","text","placeholder","Enter category name",3,"ngModelChange","ngModel"],["placeholder","Enter description",3,"ngModelChange","ngModel"],["type","number",3,"ngModelChange","ngModel"],["type","checkbox",3,"ngModelChange","ngModel"],["class","image-preview","style","margin-bottom: 10px;",4,"ngIf"],["type","file","accept","image/*",3,"change"],[1,"form-actions"],[1,"btn","btn-success",3,"click","disabled"],[1,"btn","btn-secondary",3,"click"],[1,"image-preview",2,"margin-bottom","10px"],["alt","Category preview",2,"max-width","200px","max-height","200px","object-fit","contain","border","1px solid #ddd","border-radius","4px",3,"src"],[1,"loading"],[1,"categories-grid"],["class","category-card","style","cursor: pointer;",3,"click",4,"ngFor","ngForOf"],[1,"category-card",2,"cursor","pointer",3,"click"],[1,"card-image"],[3,"error","src","alt"],[1,"card-content"],[1,"description"],[1,"meta"],[1,"card-actions",3,"click"],[1,"btn","btn-sm","btn-info",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"no-data"],[1,"link",3,"click"]],template:function(o,r){1&o&&(a(0,"div",0)(1,"div",1)(2,"div")(3,"button",2),C("click",function(){return r.goBack()}),d(4,"\u2190 Back"),c(),a(5,"h1"),b(6,"i",3),d(7," Manage Categories"),c()(),a(8,"button",4),C("click",function(){return r.openForm()}),b(9,"i",5),d(10," Add New Category "),c()(),P(11,sG,2,1,"div",6)(12,aG,2,1,"div",7)(13,lG,33,8,"div",8),a(14,"div",9),P(15,dG,2,0,"div",10)(16,pG,2,1,"div",11)(17,gG,4,0,"div",12),c()()),2&o&&(p(11),h("ngIf",r.success),p(),h("ngIf",r.error),p(),h("ngIf",r.showForm),p(2),h("ngIf",r.loading&&0===r.categories.length),p(),h("ngIf",r.categories.length>0),p(),h("ngIf",!r.loading&&0===r.categories.length))},dependencies:[pe,De,ve,nt,et,yo,yn,rt,tt,gs],styles:[".admin-categories[_ngcontent-%COMP%]{padding:20px;background-color:#f5f5f5;border-radius:8px}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;border-bottom:2px solid #007bff;padding-bottom:15px}.header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{display:flex;align-items:center;gap:20px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:#333;font-size:28px}.back-button[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff;border:none;padding:8px 15px;border-radius:4px;cursor:pointer;font-size:14px;transition:background-color .3s}.back-button[_ngcontent-%COMP%]:hover{background-color:#5a6268}.back-button[_ngcontent-%COMP%]:active{transform:scale(.98)}.alert[_ngcontent-%COMP%]{padding:12px 16px;border-radius:4px;margin-bottom:20px}.alert-success[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;border:1px solid #c3e6cb}.alert-error[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border:1px solid #f5c6cb}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.form-section[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:12px;box-shadow:0 5px 20px #0003;width:100%;max-width:500px;max-height:90vh;overflow-y:auto;position:relative;animation:_ngcontent-%COMP%_slideIn .3s ease}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-20px);opacity:0}to{transform:translateY(0);opacity:1}}.form-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:18px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-weight:500;color:#333}.form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ddd;border-radius:4px;font-size:14px;font-family:inherit}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:100px}.form-group[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-right:8px}.form-group[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;margin-top:5px;color:#666}.form-actions[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:25px}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:4px;cursor:pointer;font-size:14px;font-weight:500;transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838}.btn-success[_ngcontent-%COMP%]:disabled{background-color:#6c757d;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#5a6268}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333}.btn-info[_ngcontent-%COMP%]{background-color:#17a2b8;color:#fff}.btn-info[_ngcontent-%COMP%]:hover{background-color:#138496}.btn-sm[_ngcontent-%COMP%]{padding:6px 12px;font-size:12px}.categories-section[_ngcontent-%COMP%]{margin-top:30px}.loading[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#666;font-size:16px}.categories-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:20px}.category-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;overflow:hidden;box-shadow:0 2px 8px #0000001a;transition:transform .3s ease,box-shadow .3s ease}.category-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 4px 12px #00000026}.card-image[_ngcontent-%COMP%]{width:100%;height:200px;overflow:hidden;background-color:#f0f0f0}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.card-content[_ngcontent-%COMP%]{padding:15px}.card-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;color:#333;font-size:16px}.description[_ngcontent-%COMP%]{color:#666;font-size:13px;margin:8px 0;line-height:1.4;max-height:40px;overflow:hidden;text-overflow:ellipsis}.meta[_ngcontent-%COMP%]{color:#999;font-size:12px;margin:8px 0 0}.card-actions[_ngcontent-%COMP%]{padding:10px 15px;border-top:1px solid #eee;display:flex;gap:8px}.card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1}.no-data[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#666;background:#fff;border-radius:8px}.link[_ngcontent-%COMP%]{color:#007bff;cursor:pointer;text-decoration:underline}.link[_ngcontent-%COMP%]:hover{color:#0056b3}"]})}}return t})();function hG(t,n){1&t&&(a(0,"div",7),b(1,"div",8),a(2,"p"),d(3,"Loading category details..."),c()())}function mG(t,n){if(1&t&&(a(0,"div",9),d(1),c()),2&t){const e=f();p(),D(" ",e.error," ")}}function _G(t,n){if(1&t&&(a(0,"div",29),b(1,"img",30),c()),2&t){const e=f(2);oo("height",240,"px"),p(),h("src",e.category.image_url,ue)("alt",e.category.name)}}function bG(t,n){1&t&&(a(0,"span",31),d(1,"Displayed on Home"),c())}function yG(t,n){if(1&t){const e=R();a(0,"span",40),d(1),a(2,"i",41),C("click",function(){return y(e),v(f(3).clearSubcategoryFilter())}),c()()}if(2&t){const e=f(3);p(),D(" / ",e.activeSubcategoryFilter," ")}}function vG(t,n){if(1&t){const e=R();a(0,"button",42),C("click",function(){return y(e),v(f(3).clearSubcategoryFilter())}),d(1," Clear Filter "),c()}}function CG(t,n){if(1&t&&(a(0,"div",51),b(1,"i",57),d(2),c()),2&t){const e=f().$implicit;p(2),D(" ",e.subcategory," ")}}function xG(t,n){if(1&t){const e=R();a(0,"div",45)(1,"div",46)(2,"span",47),d(3),c(),b(4,"img",30),c(),a(5,"div",48)(6,"h3"),d(7),c(),a(8,"div",49),d(9),c(),P(10,CG,3,1,"div",50),a(11,"div",51),b(12,"i",52),d(13),c(),a(14,"div",53)(15,"button",54),C("click",function(){const r=y(e).$implicit;return v(f(4).openProductModal(r))}),b(16,"i",22),d(17," Edit "),c(),a(18,"button",55),C("click",function(){const r=y(e).$implicit;return v(f(4).deleteProduct(r))}),b(19,"i",56),c()()()()}if(2&t){const e=n.$implicit;p(2),B("out",!e.inStock),p(),D(" ",e.inStock?"In Stock":"Out of Stock"," "),p(),h("src",e.image||"assets/images/placeholder.jpg",ue)("alt",e.name),p(3),S(e.name),p(2),D("\u20b9",e.price,""),p(),h("ngIf",e.subcategory),p(3),D(" ",e.brand," ")}}function MG(t,n){if(1&t&&(a(0,"div",43),P(1,xG,20,9,"div",44),c()),2&t){const e=f(3);p(),h("ngForOf",e.products)}}function PG(t,n){if(1&t){const e=R();a(0,"div",7),b(1,"i",58),a(2,"h3"),d(3,"No products yet"),c(),a(4,"p"),d(5,"Start adding products to this category."),c(),a(6,"button",37),C("click",function(){return y(e),v(f(3).openProductModal())}),d(7,"Add First Product"),c()()}}function wG(t,n){if(1&t){const e=R();a(0,"div",32)(1,"div",33)(2,"h2"),d(3),P(4,yG,3,1,"span",34),c(),a(5,"div",35),P(6,vG,2,0,"button",36),a(7,"button",37),C("click",function(){return y(e),v(f(2).openProductModal())}),b(8,"i",38),d(9," Add Product "),c()()(),P(10,MG,2,1,"div",39)(11,PG,8,0,"div",3),c()}if(2&t){const e=f(2);p(3),D(" Products in ",e.category.name," "),p(),h("ngIf",e.activeSubcategoryFilter),p(2),h("ngIf",e.activeSubcategoryFilter),p(4),h("ngIf",e.products.length>0),p(),h("ngIf",0===e.products.length)}}function OG(t,n){if(1&t){const e=R();a(0,"div",60),C("click",function(){const r=y(e).$implicit;return v(f(4).filterBySubcategory(r))}),a(1,"div",61),b(2,"img",30),c(),a(3,"div",48)(4,"h3"),d(5),c(),a(6,"div",51),d(7),c(),a(8,"div",62),C("click",function(r){return y(e),v(r.stopPropagation())}),a(9,"button",54),C("click",function(){const r=y(e).$implicit;return v(f(4).openSubcategoryModal(r))}),b(10,"i",22),d(11," Edit "),c(),a(12,"button",55),C("click",function(){const r=y(e).$implicit;return v(f(4).deleteSubcategory(r))}),b(13,"i",56),c()()()()}if(2&t){const e=n.$implicit;p(2),h("src",e.image||"assets/images/placeholder.jpg",ue)("alt",e.name),p(3),S(e.name),p(2),D("",e.productCount||0," Products")}}function kG(t,n){if(1&t&&(a(0,"div",43),P(1,OG,14,4,"div",59),c()),2&t){const e=f(3);p(),h("ngForOf",e.subcategories)}}function DG(t,n){if(1&t){const e=R();a(0,"div",7),b(1,"i",63),a(2,"h3"),d(3,"No subcategories"),c(),a(4,"p"),d(5,"Organize this category with subcategories."),c(),a(6,"button",37),C("click",function(){return y(e),v(f(3).openSubcategoryModal())}),d(7,"Add Subcategory"),c()()}}function SG(t,n){if(1&t){const e=R();a(0,"div",32)(1,"div",33)(2,"h2"),d(3,"Subcategories"),c(),a(4,"button",37),C("click",function(){return y(e),v(f(2).openSubcategoryModal())}),b(5,"i",38),d(6," Add Subcategory "),c()(),P(7,kG,2,1,"div",39)(8,DG,8,0,"div",3),c()}if(2&t){const e=f(2);p(7),h("ngIf",e.subcategories.length>0),p(),h("ngIf",0===e.subcategories.length)}}function IG(t,n){if(1&t){const e=R();a(0,"div",10)(1,"div",11),P(2,_G,2,4,"div",12),a(3,"div",13)(4,"div",14)(5,"h1"),d(6),a(7,"span",15),d(8),c()(),a(9,"p",16),d(10),c(),a(11,"div",17)(12,"span",18),d(13),c(),P(14,bG,2,0,"span",19),c()(),a(15,"div",20)(16,"button",21),C("click",function(){return y(e),v(f().openCategoryEditModal())}),b(17,"i",22),d(18," Edit Category "),c()()()(),a(19,"div",23)(20,"button",24),C("click",function(){return y(e),v(f().activeTab="products")}),b(21,"i",25),d(22," Products "),a(23,"span",26),d(24),c()(),a(25,"button",24),C("click",function(){return y(e),v(f().activeTab="subcategories")}),b(26,"i",27),d(27," Subcategories "),a(28,"span",26),d(29),c()()(),P(30,wG,12,5,"div",28)(31,SG,9,2,"div",28),c()}if(2&t){const e=f();p(2),h("ngIf",e.category.image_url),p(4),D(" ",e.category.name," "),p(2),S(e.category.slug),p(2),S(e.category.description||"No description provided."),p(3),D("Order: ",e.category.display_order,""),p(),h("ngIf",e.category.display_on_home),p(6),B("active","products"===e.activeTab),p(4),S(e.products.length),p(),B("active","subcategories"===e.activeTab),p(4),S(e.subcategories.length),p(),h("ngIf","products"===e.activeTab),p(),h("ngIf","subcategories"===e.activeTab)}}function TG(t,n){if(1&t&&(a(0,"option",90),d(1),c()),2&t){const e=n.$implicit;h("value",e.slug),p(),D("",e.name," ")}}function EG(t,n){if(1&t&&(a(0,"div",91),b(1,"img",92),c()),2&t){const e=f(2);p(),h("src",e.productForm.image,ue)}}function AG(t,n){if(1&t){const e=R();a(0,"div",64),C("click",function(){return y(e),v(f().closeModals())}),a(1,"div",65),C("click",function(r){return y(e),v(r.stopPropagation())}),a(2,"div",66)(3,"h2"),b(4,"i",67),d(5),c(),a(6,"button",68),C("click",function(){return y(e),v(f().closeModals())}),d(7,"\xd7"),c()(),a(8,"div",69)(9,"div",70)(10,"div",71)(11,"label"),d(12,"Product Name "),a(13,"span",72),d(14,"*"),c()(),a(15,"input",73),A("ngModelChange",function(r){y(e);const i=f();return F(i.productForm.name,r)||(i.productForm.name=r),v(r)}),c()(),a(16,"div",74)(17,"label"),d(18,"Category"),c(),b(19,"input",75),c(),a(20,"div",74)(21,"label"),d(22,"Subcategory"),c(),a(23,"select",76),A("ngModelChange",function(r){y(e);const i=f();return F(i.productForm.subcategory,r)||(i.productForm.subcategory=r),v(r)}),a(24,"option",77),d(25,"-- No Subcategory --"),c(),P(26,TG,2,2,"option",78),c(),a(27,"small",79),d(28,"Select a subcategory for better organization"),c()(),a(29,"div",74)(30,"label"),d(31,"Brand"),c(),a(32,"input",80),A("ngModelChange",function(r){y(e);const i=f();return F(i.productForm.brand,r)||(i.productForm.brand=r),v(r)}),c()(),a(33,"div",74)(34,"label"),d(35,"Price (\u20b9) "),a(36,"span",72),d(37,"*"),c()(),a(38,"input",81),A("ngModelChange",function(r){y(e);const i=f();return F(i.productForm.price,r)||(i.productForm.price=r),v(r)}),c()(),a(39,"div",71)(40,"label"),d(41,"Image URL"),c(),a(42,"input",82),A("ngModelChange",function(r){y(e);const i=f();return F(i.productForm.image,r)||(i.productForm.image=r),v(r)}),c(),P(43,EG,2,1,"div",83),c(),a(44,"div",71)(45,"label"),d(46,"Description"),c(),a(47,"textarea",84),A("ngModelChange",function(r){y(e);const i=f();return F(i.productForm.description,r)||(i.productForm.description=r),v(r)}),c()(),a(48,"div",85)(49,"label",86)(50,"input",87),A("ngModelChange",function(r){y(e);const i=f();return F(i.productForm.inStock,r)||(i.productForm.inStock=r),v(r)}),c(),d(51," In Stock "),c()()()(),a(52,"div",88)(53,"button",21),C("click",function(){return y(e),v(f().closeModals())}),d(54,"Cancel"),c(),a(55,"button",37),C("click",function(){return y(e),v(f().saveProduct())}),b(56,"i",89),d(57," Save Product "),c()()()()}if(2&t){const e=f();p(4),h("ngClass",e.selectedProduct?"fa-edit":"fa-plus-circle"),p(),D(" ",e.selectedProduct?"Edit Product":"Add New Product"," "),p(10),E("ngModel",e.productForm.name),p(4),h("value",null==e.category?null:e.category.name),p(4),E("ngModel",e.productForm.subcategory),p(3),h("ngForOf",e.subcategories),p(6),E("ngModel",e.productForm.brand),p(6),E("ngModel",e.productForm.price),p(4),E("ngModel",e.productForm.image),p(),h("ngIf",e.productForm.image),p(4),E("ngModel",e.productForm.description),p(3),E("ngModel",e.productForm.inStock)}}function NG(t,n){if(1&t){const e=R();a(0,"div",64),C("click",function(){return y(e),v(f().closeModals())}),a(1,"div",93),C("click",function(r){return y(e),v(r.stopPropagation())}),a(2,"div",66)(3,"h2"),b(4,"i",67),d(5),c(),a(6,"button",68),C("click",function(){return y(e),v(f().closeModals())}),d(7,"\xd7"),c()(),a(8,"div",69)(9,"div",74)(10,"label"),d(11,"Subcategory Name"),c(),a(12,"input",94),A("ngModelChange",function(r){y(e);const i=f();return F(i.subcategoryForm.name,r)||(i.subcategoryForm.name=r),v(r)}),c()()(),a(13,"div",88)(14,"button",21),C("click",function(){return y(e),v(f().closeModals())}),d(15,"Cancel"),c(),a(16,"button",37),C("click",function(){return y(e),v(f().saveSubcategory())}),d(17,"Save Subcategory"),c()()()()}if(2&t){const e=f();p(4),h("ngClass",e.selectedSubcategory?"fa-edit":"fa-plus-circle"),p(),D(" ",e.selectedSubcategory?"Edit Subcategory":"Add New Subcategory"," "),p(7),E("ngModel",e.subcategoryForm.name)}}let FG=(()=>{class t{constructor(){this.route=w(sn),this.router=w(me),this.location=w(ao),this.backendService=w(Vo),this.subcategoryService=w(_O),this.categorySlug="",this.category=null,this.products=[],this.subcategories=[],this.loading=!0,this.error="",this.activeTab="products",this.showProductModal=!1,this.showSubcategoryModal=!1,this.selectedProduct=null,this.selectedSubcategory=null,this.productForm={},this.subcategoryForm={},this.activeSubcategoryFilter=null}ngOnInit(){this.route.params.subscribe(e=>{this.categorySlug=e.slug,this.categorySlug&&this.loadCategoryDetails()})}goBack(){this.location.back()}loadCategoryDetails(){this.loading=!0,this.backendService.getCategoryBySlug(this.categorySlug).subscribe({next:e=>{this.category=e,this.loadProducts(),this.loadSubcategories(),this.loading=!1},error:e=>{console.error("Error loading category:",e),this.error="Category not found",this.loading=!1}})}loadSubcategories(){this.categorySlug&&this.subcategoryService.getSubcategoriesBySlug(this.categorySlug).subscribe({next:e=>{this.subcategories=e||[]}})}openProductModal(e){if(e){if(this.selectedProduct=e,this.productForm={...e},this.productForm.subcategory){const o=this.subcategories.find(r=>r.name===this.productForm.subcategory||r.slug===this.productForm.subcategory);o&&(this.productForm.subcategory=o.slug)}}else this.selectedProduct=null,this.productForm={name:"",brand:"",price:0,image:"",description:"",inStock:!0,category:this.category.name};this.showProductModal=!0}saveProduct(){if(!this.productForm.name||!this.productForm.price)return;const e={...this.productForm,category:this.category.name};this.selectedProduct?this.backendService.updateProduct(this.selectedProduct.id,e).subscribe(()=>{this.loadProducts(),this.closeModals()}):this.backendService.createProduct(e).subscribe(()=>{this.loadProducts(),this.closeModals()})}filterBySubcategory(e){this.activeSubcategoryFilter=e.slug,this.activeTab="products",this.loadProducts()}clearSubcategoryFilter(){this.activeSubcategoryFilter=null,this.loadProducts()}loadProducts(){if(!this.category)return;const e={category:this.category.name,limit:1e3};if(this.activeSubcategoryFilter){const o=this.subcategories.find(r=>r.slug===this.activeSubcategoryFilter);o&&(e.subcategory=o.slug)}this.backendService.getProducts(e).subscribe({next:o=>{this.products=o.data||[]}})}deleteProduct(e){confirm("Delete this product?")&&this.backendService.deleteProduct(e.id).subscribe(()=>this.loadProducts())}openSubcategoryModal(e){e?(this.selectedSubcategory=e,this.subcategoryForm={...e}):(this.selectedSubcategory=null,this.subcategoryForm={name:""}),this.showSubcategoryModal=!0}saveSubcategory(){if(!this.subcategoryForm.name)return;const e={...this.subcategoryForm,category_id:this.category.id};this.selectedSubcategory?this.subcategoryService.updateSubcategory(this.selectedSubcategory.id,e).subscribe({next:()=>{this.loadSubcategories(),this.closeModals()},error:o=>alert("Failed to update subcategory")}):this.subcategoryService.createSubcategory(e).subscribe({next:()=>{this.loadSubcategories(),this.closeModals()},error:o=>alert("Failed to create subcategory")})}deleteSubcategory(e){confirm(`Are you sure you want to delete "${e.name}"?`)&&this.subcategoryService.deleteSubcategory(e.id).subscribe({next:()=>this.loadSubcategories(),error:o=>alert("Failed to delete subcategory")})}closeModals(){this.showProductModal=!1,this.showSubcategoryModal=!1}openCategoryEditModal(){alert("Edit category feature coming soon (use main list for now)")}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=se({type:t,selectors:[["app-admin-category-details"]],standalone:!0,features:[ae],decls:9,vars:5,consts:[[1,"admin-category-details"],[1,"btn","btn-secondary",2,"margin-bottom","24px",3,"click"],[1,"fas","fa-arrow-left"],["class","empty-state",4,"ngIf"],["class","alert alert-error",4,"ngIf"],["class","content-wrapper",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"empty-state"],[1,"spinner"],[1,"alert","alert-error"],[1,"content-wrapper"],[1,"header-hero"],["class","hero-banner",3,"height",4,"ngIf"],[1,"hero-content"],[1,"category-info"],[1,"slug"],[1,"category-description"],[1,"meta-tags"],[1,"tag"],["class","tag home",4,"ngIf"],[1,"header-actions"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-edit"],[1,"tabs"],[1,"tab-btn",3,"click"],[1,"fas","fa-box"],[1,"tab-count"],[1,"fas","fa-layer-group"],["class","tab-content",4,"ngIf"],[1,"hero-banner"],[3,"src","alt"],[1,"tag","home"],[1,"tab-content"],[1,"section-header"],["class","filter-badge",4,"ngIf"],[1,"header-buttons"],["class","btn btn-secondary","style","margin-right: 10px;",3,"click",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],["class","grid",4,"ngIf"],[1,"filter-badge"],[1,"fas","fa-times",2,"cursor","pointer","margin-left","5px",3,"click"],[1,"btn","btn-secondary",2,"margin-right","10px",3,"click"],[1,"grid"],["class","product-card",4,"ngFor","ngForOf"],[1,"product-card"],[1,"card-img"],[1,"stock-badge"],[1,"card-body"],[1,"price"],["class","meta",4,"ngIf"],[1,"meta"],[1,"fas","fa-tag",2,"font-size","10px"],[1,"card-actions"],[1,"btn","btn-sm","btn-secondary",3,"click"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"fas","fa-angle-right",2,"font-size","10px"],[1,"fas","fa-box-open"],["class","product-card","style","cursor: pointer;",3,"click",4,"ngFor","ngForOf"],[1,"product-card",2,"cursor","pointer",3,"click"],[1,"card-img",2,"height","140px"],[1,"card-actions",3,"click"],[1,"fas","fa-folder-open"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"fas",3,"ngClass"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"form-grid"],[1,"form-group","full-width"],[2,"color","red"],["type","text","placeholder","Enter product name",3,"ngModelChange","ngModel"],[1,"form-group"],["type","text","disabled","",2,"background","#edf2f7","cursor","not-allowed",3,"value"],[3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[2,"color","#718096","font-size","11px"],["type","text","placeholder","e.g. Generic, ACEBOTT",3,"ngModelChange","ngModel"],["type","number","min","0",3,"ngModelChange","ngModel"],["type","text","placeholder","https://example.com/image.jpg",3,"ngModelChange","ngModel"],["style","margin-top: 10px; height: 100px; border-radius: 8px; overflow: hidden; background: #f7fafc; border: 1px solid #edf2f7; display: inline-block;",4,"ngIf"],["rows","5","placeholder","Detailed product description...",3,"ngModelChange","ngModel"],[1,"form-group","full-width",2,"display","flex","gap","20px"],[2,"display","flex","align-items","center","gap","8px","cursor","pointer"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"modal-footer"],[1,"fas","fa-save"],[3,"value"],[2,"margin-top","10px","height","100px","border-radius","8px","overflow","hidden","background","#f7fafc","border","1px solid #edf2f7","display","inline-block"],["alt","Preview",2,"height","100%","width","auto",3,"src"],[1,"modal-content",2,"max-width","500px",3,"click"],["type","text","placeholder","Enter subcategory name",3,"ngModelChange","ngModel"]],template:function(o,r){1&o&&(a(0,"div",0)(1,"button",1),C("click",function(){return r.goBack()}),b(2,"i",2),d(3," Back to Categories "),c(),P(4,hG,4,0,"div",3)(5,mG,2,1,"div",4)(6,IG,32,14,"div",5)(7,AG,58,12,"div",6)(8,NG,18,3,"div",6),c()),2&o&&(p(4),h("ngIf",r.loading&&!r.category),p(),h("ngIf",r.error),p(),h("ngIf",r.category),p(),h("ngIf",r.showProductModal),p(),h("ngIf",r.showSubcategoryModal))},dependencies:[pe,Ua,De,ve,nt,vo,Co,et,yo,yn,$n,rt,us,tt],styles:['.admin-category-details[_ngcontent-%COMP%]{padding:24px;max-width:1400px;margin:0 auto;font-family:Inter,sans-serif}.header-hero[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;margin-bottom:32px;overflow:hidden;display:flex;flex-direction:column}.hero-banner[_ngcontent-%COMP%]{height:240px;background-color:#f7fafc;position:relative;overflow:hidden}.hero-banner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.hero-content[_ngcontent-%COMP%]{padding:32px;display:flex;justify-content:space-between;align-items:flex-start;gap:24px}.category-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 12px;font-size:36px;font-weight:800;color:#1a202c;display:flex;align-items:center;gap:16px}.category-info[_ngcontent-%COMP%]   .slug[_ngcontent-%COMP%]{font-size:14px;color:#718096;background:#edf2f7;padding:4px 12px;border-radius:9999px;font-weight:500;letter-spacing:.5px}.category-description[_ngcontent-%COMP%]{color:#4a5568;font-size:16px;max-width:800px;line-height:1.6;margin-bottom:20px}.meta-tags[_ngcontent-%COMP%]{display:flex;gap:12px}.tag[_ngcontent-%COMP%]{font-size:13px;padding:6px 14px;border-radius:8px;background:#f7fafc;color:#4a5568;font-weight:600;border:1px solid #edf2f7}.tag.home[_ngcontent-%COMP%]{background:#e6fffa;color:#2c7a7b;border-color:#b2f5ea}.btn[_ngcontent-%COMP%]{padding:10px 20px;border-radius:8px;border:none;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:8px;transition:all .2s cubic-bezier(.4,0,.2,1);font-size:14px;letter-spacing:.3px}.btn[_ngcontent-%COMP%]:active{transform:translateY(1px)}.btn-secondary[_ngcontent-%COMP%]{background:#edf2f7;color:#4a5568}.btn-secondary[_ngcontent-%COMP%]:hover{background:#e2e8f0;color:#2d3748}.btn-primary[_ngcontent-%COMP%]{background:#3182ce;color:#fff;box-shadow:0 4px 6px -1px #3182ce66}.btn-primary[_ngcontent-%COMP%]:hover{background:#2b6cb0;box-shadow:0 6px 8px -1px #3182ce80;transform:translateY(-1px)}.btn-danger[_ngcontent-%COMP%]{background:#fff5f5;color:#c53030}.btn-danger[_ngcontent-%COMP%]:hover{background:#fed7d7}.tabs[_ngcontent-%COMP%]{display:flex;gap:4px;margin-bottom:32px;border-bottom:2px solid #edf2f7}.tab-btn[_ngcontent-%COMP%]{padding:16px 32px;background:transparent;border:none;font-size:16px;font-weight:600;color:#718096;cursor:pointer;border-bottom:3px solid transparent;margin-bottom:-3px;transition:all .2s;display:flex;align-items:center;gap:10px}.tab-btn[_ngcontent-%COMP%]:hover{color:#4a5568;background:#f7fafc;border-top-left-radius:8px;border-top-right-radius:8px}.tab-btn.active[_ngcontent-%COMP%]{color:#3182ce;border-bottom-color:#3182ce}.tab-count[_ngcontent-%COMP%]{background:#edf2f7;padding:2px 10px;border-radius:9999px;font-size:12px;color:#4a5568}.tab-btn.active[_ngcontent-%COMP%]   .tab-count[_ngcontent-%COMP%]{background:#ebf8ff;color:#2b6cb0}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;color:#2d3748;margin:0;font-weight:700;display:flex;align-items:center;gap:10px}.filter-badge[_ngcontent-%COMP%]{background:#ebf8ff;color:#3182ce;padding:4px 12px;border-radius:20px;font-size:16px;font-weight:600;display:flex;align-items:center}.header-buttons[_ngcontent-%COMP%]{display:flex;align-items:center}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:24px}.product-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #edf2f7;border-radius:12px;overflow:hidden;transition:all .3s ease;box-shadow:0 1px 3px #0000000d;display:flex;flex-direction:column}.product-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 20px -5px #0000001a,0 4px 6px -2px #0000000d;border-color:#e2e8f0}.card-img[_ngcontent-%COMP%]{height:200px;background:#f7fafc;position:relative;overflow:hidden}.card-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;padding:16px;transition:transform .5s ease}.product-card[_ngcontent-%COMP%]:hover   .card-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.05)}.stock-badge[_ngcontent-%COMP%]{position:absolute;top:12px;right:12px;padding:6px 12px;border-radius:6px;font-size:11px;font-weight:700;background:#48bb78e6;color:#fff;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);text-transform:uppercase;letter-spacing:.5px}.stock-badge.out[_ngcontent-%COMP%]{background:#f56565e6}.card-body[_ngcontent-%COMP%]{padding:20px;flex:1;display:flex;flex-direction:column}.card-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:18px;color:#2d3748;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:700}.price[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#3182ce;margin-bottom:12px}.meta[_ngcontent-%COMP%]{font-size:13px;color:#718096;margin-bottom:6px;display:flex;align-items:center;gap:6px}.meta[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:4px;height:4px;background:#cbd5e0;border-radius:50%}.card-actions[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:auto;padding-top:16px;border-top:1px solid #edf2f7}.btn-sm[_ngcontent-%COMP%]{padding:8px 0;font-size:13px;flex:1;justify-content:center}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#1a202c99;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .2s ease;padding:20px}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:16px;width:100%;max-width:850px;max-height:95vh;display:flex;flex-direction:column;box-shadow:0 25px 50px -12px #00000040;animation:_ngcontent-%COMP%_slideUp .3s cubic-bezier(.16,1,.3,1);overflow:hidden}.modal-header[_ngcontent-%COMP%]{padding:24px 32px;border-bottom:1px solid #edf2f7;display:flex;justify-content:space-between;align-items:center;background:#fff;position:sticky;top:0;z-index:10}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:700;color:#1a202c;display:flex;align-items:center;gap:12px}.close-btn[_ngcontent-%COMP%]{background:#f7fafc;border:none;width:36px;height:36px;border-radius:50%;font-size:24px;color:#718096;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s}.close-btn[_ngcontent-%COMP%]:hover{background:#edf2f7;color:#e53e3e;transform:rotate(90deg)}.modal-body[_ngcontent-%COMP%]{padding:32px;overflow-y:auto;flex:1}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:24px}.full-width[_ngcontent-%COMP%]{grid-column:1 / -1}.form-group[_ngcontent-%COMP%]{margin-bottom:0}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:600;font-size:14px;color:#4a5568}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #edf2f7;border-radius:8px;font-size:15px;color:#2d3748;transition:all .2s;background:#fcfcfc}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:hover, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover{border-color:#cbd5e0}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#3182ce;background:#fff;box-shadow:0 0 0 4px #3182ce1a}.modal-footer[_ngcontent-%COMP%]{padding:24px 32px;border-top:1px solid #edf2f7;background:#f8fafc;display:flex;justify-content:flex-end;gap:16px}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:80px 20px;background:#f8fafc;border-radius:12px;border:2px dashed #e2e8f0;color:#718096}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:56px;margin-bottom:20px;color:#cbd5e0}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(40px);opacity:0}to{transform:translateY(0);opacity:1}}@media (max-width: 768px){.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}']})}}return t})();function RG(t,n){if(1&t&&(a(0,"div",12),d(1),c()),2&t){const e=f();p(),S(e.success)}}function LG(t,n){if(1&t&&(a(0,"div",13),d(1),c()),2&t){const e=f();p(),S(e.error)}}function UG(t,n){if(1&t&&(a(0,"option",28),d(1),c()),2&t){const e=n.$implicit;h("value",e.id),p(),S(e.name)}}function VG(t,n){if(1&t){const e=R();a(0,"div",14),C("click",function(){return y(e),v(f().closeForm())}),a(1,"div",15),C("click",function(r){return y(e),v(r.stopPropagation())}),a(2,"div",16)(3,"h2"),d(4),c(),a(5,"div",17)(6,"label"),d(7,"Category *"),c(),a(8,"select",18),A("ngModelChange",function(r){y(e);const i=f();return F(i.formData.category_id,r)||(i.formData.category_id=r),v(r)}),a(9,"option",19),d(10,"Select a category"),c(),P(11,UG,2,2,"option",20),c()(),a(12,"div",17)(13,"label"),d(14,"Subcategory Name *"),c(),a(15,"input",21),A("ngModelChange",function(r){y(e);const i=f();return F(i.formData.name,r)||(i.formData.name=r),v(r)}),c()(),a(16,"div",17)(17,"label"),d(18,"Description"),c(),a(19,"textarea",22),A("ngModelChange",function(r){y(e);const i=f();return F(i.formData.description,r)||(i.formData.description=r),v(r)}),c()(),a(20,"div",17)(21,"label"),d(22,"Display Order"),c(),a(23,"input",23),A("ngModelChange",function(r){y(e);const i=f();return F(i.formData.display_order,r)||(i.formData.display_order=r),v(r)}),c()(),a(24,"div",17)(25,"label"),d(26,"Subcategory Image"),c(),a(27,"input",24),C("change",function(r){return y(e),v(f().onFileSelected(r))}),c(),a(28,"small"),d(29,"Select an image file to upload"),c()(),a(30,"div",25)(31,"button",26),C("click",function(){return y(e),v(f().saveSubcategory())}),d(32),c(),a(33,"button",27),C("click",function(){return y(e),v(f().closeForm())}),d(34,"Cancel"),c()()()()()}if(2&t){const e=f();p(4),D("",e.editingId?"Edit":"Add New"," Subcategory"),p(4),E("ngModel",e.formData.category_id),p(3),h("ngForOf",e.categories),p(4),E("ngModel",e.formData.name),p(4),E("ngModel",e.formData.description),p(4),E("ngModel",e.formData.display_order),p(8),h("disabled",e.loading),p(),D(" ",e.loading?"Saving...":"Save Subcategory"," ")}}function BG(t,n){1&t&&(a(0,"div",33),d(1,"Loading subcategories..."),c())}function zG(t,n){if(1&t){const e=R();a(0,"div",36),C("click",function(){const r=y(e).$implicit;return v(f(3).viewSubcategoryProducts(r))}),a(1,"div",37)(2,"img",38),C("error",function(r){return y(e),v(r.target.src="/assets/images/placeholder.jpg")}),c()(),a(3,"div",39)(4,"h3"),d(5),c(),a(6,"p",40),d(7),c(),a(8,"p",41),d(9),c(),a(10,"p",42),d(11),c()(),a(12,"div",43),C("click",function(r){return y(e),v(r.stopPropagation())}),a(13,"button",44),C("click",function(){const r=y(e).$implicit;return v(f(3).openForm(r))}),b(14,"i",45),d(15," Edit "),c(),a(16,"button",46),C("click",function(){const r=y(e).$implicit;return v(f(3).deleteSubcategory(r.id,r.category_id))}),b(17,"i",47),d(18," Delete "),c()()()}if(2&t){const e=n.$implicit,o=f(3);p(2),h("src",e.image_url||"/assets/images/placeholder.jpg",ue)("alt",e.name),p(3),S(e.name),p(2),S(o.getCategoryName(e.category_id)),p(2),S(e.description),p(2),D("Order: ",e.display_order,"")}}function jG(t,n){if(1&t&&(a(0,"div",34),P(1,zG,19,6,"div",35),c()),2&t){const e=f(2);p(),h("ngForOf",e.subcategories)}}function $G(t,n){if(1&t){const e=R();a(0,"div",48),d(1," No subcategories found. "),a(2,"a",49),C("click",function(){return y(e),v(f(2).openForm())}),d(3,"Create one now"),c()()}}function HG(t,n){if(1&t&&(a(0,"div",29),P(1,BG,2,0,"div",30)(2,jG,2,1,"div",31)(3,$G,4,0,"div",32),c()),2&t){const e=f();p(),h("ngIf",e.loading&&0===e.subcategories.length),p(),h("ngIf",e.subcategories.length>0),p(),h("ngIf",!e.loading&&0===e.subcategories.length)}}function qG(t,n){1&t&&(a(0,"div",60),d(1,"Out of Stock"),c())}function WG(t,n){if(1&t){const e=R();a(0,"div",56)(1,"div",37),b(2,"img",57),c(),a(3,"div",39)(4,"h3"),d(5),c(),a(6,"div",41),d(7),c(),P(8,qG,2,0,"div",58),c(),a(9,"div",59)(10,"button",44),C("click",function(){const r=y(e).$implicit;return v(f(3).openProductModal(r))}),b(11,"i",45),d(12," Edit "),c(),a(13,"button",46),C("click",function(){const r=y(e).$implicit;return v(f(3).deleteProduct(r))}),b(14,"i",47),d(15," Delete "),c()()()}if(2&t){const e=n.$implicit;p(2),h("src",e.image||"assets/images/placeholder.jpg",ue)("alt",e.name),p(3),S(e.name),p(2),D("Price: \u20b9",e.price,""),p(),h("ngIf",!e.inStock)}}function GG(t,n){if(1&t&&(a(0,"div",34),P(1,WG,16,5,"div",55),c()),2&t){const e=f(2);p(),h("ngForOf",e.products)}}function YG(t,n){if(1&t){const e=R();a(0,"div",48),d(1," No products found in this subcategory. "),a(2,"a",49),C("click",function(){return y(e),v(f(2).openProductModal())}),d(3,"Add one now"),c()()}}function KG(t,n){if(1&t){const e=R();a(0,"div",50)(1,"div",51)(2,"h2",52),d(3),a(4,"button",53),C("click",function(){return y(e),v(f().closeSubcategoryProducts())}),b(5,"i",54),d(6," Clear Filter "),c()(),a(7,"button",4),C("click",function(){return y(e),v(f().openProductModal())}),b(8,"i",5),d(9," Add Product "),c()(),P(10,GG,2,1,"div",31)(11,YG,4,0,"div",32),c()}if(2&t){const e=f();p(3),D(" Products in ",e.selectedSubcategory.name," "),p(7),h("ngIf",e.products.length>0),p(),h("ngIf",0===e.products.length)}}function QG(t,n){if(1&t){const e=R();a(0,"div",61)(1,"div",62)(2,"h2"),d(3),c(),a(4,"div",17)(5,"label"),d(6,"Name"),c(),a(7,"input",63),A("ngModelChange",function(r){y(e);const i=f();return F(i.productForm.name,r)||(i.productForm.name=r),v(r)}),c()(),a(8,"div",17)(9,"label"),d(10,"Price"),c(),a(11,"input",23),A("ngModelChange",function(r){y(e);const i=f();return F(i.productForm.price,r)||(i.productForm.price=r),v(r)}),c()(),a(12,"div",17)(13,"label"),d(14,"Image URL"),c(),a(15,"input",63),A("ngModelChange",function(r){y(e);const i=f();return F(i.productForm.image,r)||(i.productForm.image=r),v(r)}),c()(),a(16,"div",17)(17,"label"),d(18,"Description"),c(),a(19,"textarea",64),A("ngModelChange",function(r){y(e);const i=f();return F(i.productForm.description,r)||(i.productForm.description=r),v(r)}),c()(),a(20,"div",17)(21,"label"),d(22,"In Stock"),c(),a(23,"input",65),A("ngModelChange",function(r){y(e);const i=f();return F(i.productForm.inStock,r)||(i.productForm.inStock=r),v(r)}),c()(),a(24,"div",17)(25,"label"),d(26,"Category"),c(),a(27,"input",66),A("ngModelChange",function(r){y(e);const i=f();return F(i.productForm.category,r)||(i.productForm.category=r),v(r)}),c(),a(28,"small"),d(29,"Category is automatically set based on subcategory."),c()(),a(30,"div",25)(31,"button",67),C("click",function(){return y(e),v(f().saveProduct())}),d(32,"Save"),c(),a(33,"button",27),C("click",function(){return y(e),v(f().closeProductModal())}),d(34,"Cancel"),c()()()()}if(2&t){const e=f();p(3),D("",e.selectedProduct?"Edit":"Add"," Product"),p(4),E("ngModel",e.productForm.name),p(4),E("ngModel",e.productForm.price),p(4),E("ngModel",e.productForm.image),p(4),E("ngModel",e.productForm.description),p(4),E("ngModel",e.productForm.inStock),p(4),E("ngModel",e.productForm.category)}}let JG=(()=>{class t{constructor(){this.http=w(kt),this.router=w(me),this.apiUrl=`${ot_apiUrl}`,this.subcategories=[],this.categories=[],this.showForm=!1,this.editingId=null,this.loading=!1,this.error="",this.success="",this.selectedFile=null,this.formData={name:"",category_id:0,description:"",image_url:"",display_order:0},this.products=[],this.selectedSubcategory=null,this.showProductModal=!1,this.selectedProduct=null,this.productForm={},this.backendService=w(Vo)}ngOnInit(){this.loadCategories(),this.loadSubcategories()}goBack(){this.selectedSubcategory?this.closeSubcategoryProducts():this.router.navigate(["/admin"])}loadCategories(){this.http.get(`${this.apiUrl}/categories`).subscribe(e=>{this.categories=Array.isArray(e)?e:e.data||[]},e=>{this.error="Failed to load categories"})}loadSubcategories(){this.loading=!0,this.http.get(`${this.apiUrl}/categories?includeDetails=true`).subscribe(e=>{console.log("Categories API Response:",e);const o=Array.isArray(e)?e:e.data||[],r=[];o.forEach(i=>{i.subcategories&&Array.isArray(i.subcategories)&&i.subcategories.forEach(s=>{r.push({...s,category_id:i.id})})}),console.log("Final Subcategories Array:",r),this.subcategories=r,this.loading=!1},e=>{this.error="Failed to load subcategories",console.error("Error loading subcategories:",e),this.loading=!1})}openForm(e){e?(this.editingId=e.id||null,this.formData={...e}):(this.editingId=null,this.formData={name:"",category_id:0,description:"",image_url:"",display_order:0}),this.showForm=!0,this.error="",this.success=""}closeForm(){this.showForm=!1,this.selectedFile=null}onFileSelected(e){this.selectedFile=e.target.files[0]}saveSubcategory(){var e=this;return xe(function*(){if(e.formData.name&&0!==e.formData.category_id){e.loading=!0;try{if(e.selectedFile){const l=yield e.uploadImage(e.selectedFile);e.formData.image_url=l}const o={category_id:e.formData.category_id,name:e.formData.name,slug:e.formData.slug||e.slugify(e.formData.name),description:e.formData.description,imageUrl:e.formData.image_url,displayOrder:e.formData.display_order};console.log("Saving subcategory with payload:",o);const r=e.formData.category_id;e.http.request(e.editingId?"PUT":"POST",e.editingId?`${e.apiUrl}/categories/admin/${r}/subcategories/${e.editingId}`:`${e.apiUrl}/categories/admin/${r}/subcategories/create`,{body:o}).subscribe(l=>{console.log("Save response:",l),e.success=e.editingId?"Subcategory updated successfully":"Subcategory created successfully",e.loadSubcategories(),e.closeForm(),e.loading=!1},l=>{console.error("Save error:",l),e.error=l.error?.error||"Failed to save subcategory",e.loading=!1})}catch(o){e.error=o.message||"Failed to upload image",e.loading=!1}}else e.error="Subcategory name and category are required"})()}deleteSubcategory(e,o){!e||!o||!confirm("Are you sure you want to delete this subcategory?")||(this.loading=!0,this.http.delete(`${this.apiUrl}/categories/admin/${o}/subcategories/${e}`).subscribe(()=>{this.success="Subcategory deleted successfully",this.loadSubcategories(),this.loading=!1},r=>{this.error="Failed to delete subcategory",this.loading=!1}))}getCategoryName(e){const o=this.categories.find(r=>r.id===e);return o?o.name:"Unknown"}slugify(e){return e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}uploadImage(e){var o=this;return new Promise((r,i)=>{const s=new FileReader;s.onload=xe(function*(){try{const l=s.result,u=yield o.http.post(`${o.apiUrl}/upload/image`,{base64Data:l,type:"subcategory"}).toPromise();console.log("Upload response:",u);const g=u?.imageUrl||l;console.log("Uploaded image URL:",g),r(g)}catch(l){console.error("Upload error:",l),i(l)}}),s.readAsDataURL(e)})}viewSubcategoryProducts(e){this.selectedSubcategory=e,this.loadProducts(e.slug||this.slugify(e.name))}closeSubcategoryProducts(){this.selectedSubcategory=null,this.products=[]}loadProducts(e){this.loading=!0,this.backendService.getProducts({subcategory:e,limit:1e3}).subscribe({next:o=>{this.products=o.data||[],this.loading=!1},error:o=>{console.error("Error loading products:",o),this.error="Failed to load products",this.loading=!1}})}openProductModal(e){if(e)this.selectedProduct=e,this.productForm={...e};else{const o=this.getCategoryName(this.selectedSubcategory?.category_id||0);this.selectedProduct=null,this.productForm={name:"",brand:"",price:0,image:"",description:"",inStock:!0,category:o,subcategory:this.selectedSubcategory?.slug}}this.showProductModal=!0}closeProductModal(){this.showProductModal=!1}saveProduct(){if(!this.productForm.name||!this.productForm.price)return;const e={...this.productForm};this.selectedProduct?this.backendService.updateProduct(this.selectedProduct.id,e).subscribe(()=>{if(this.selectedSubcategory){const o=this.selectedSubcategory.slug||this.slugify(this.selectedSubcategory.name);this.loadProducts(o)}this.closeProductModal()}):this.backendService.createProduct(e).subscribe(()=>{if(this.selectedSubcategory){const o=this.selectedSubcategory.slug||this.slugify(this.selectedSubcategory.name);this.loadProducts(o)}this.closeProductModal()})}deleteProduct(e){confirm("Delete this product?")&&this.backendService.deleteProduct(e.id).subscribe(()=>{if(this.selectedSubcategory){const o=this.selectedSubcategory.slug||this.slugify(this.selectedSubcategory.name);this.loadProducts(o)}})}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=se({type:t,selectors:[["app-admin-subcategories"]],standalone:!0,features:[ae],decls:17,vars:6,consts:[[1,"admin-subcategories"],[1,"header"],[1,"back-button",3,"click"],[1,"fas","fa-sitemap"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],["class","alert alert-success",4,"ngIf"],["class","alert alert-error",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],["class","subcategories-section",4,"ngIf"],["class","products-section",4,"ngIf"],["class","modal-overlay",4,"ngIf"],[1,"alert","alert-success"],[1,"alert","alert-error"],[1,"modal-overlay",3,"click"],[1,"form-section",3,"click"],[1,"form-container"],[1,"form-group"],["required","",3,"ngModelChange","ngModel"],["value","0","disabled",""],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Enter subcategory name",3,"ngModelChange","ngModel"],["placeholder","Enter description",3,"ngModelChange","ngModel"],["type","number",3,"ngModelChange","ngModel"],["type","file","accept","image/*",3,"change"],[1,"form-actions"],[1,"btn","btn-success",3,"click","disabled"],[1,"btn","btn-secondary",3,"click"],[3,"value"],[1,"subcategories-section"],["class","loading",4,"ngIf"],["class","subcategories-grid",4,"ngIf"],["class","no-data",4,"ngIf"],[1,"loading"],[1,"subcategories-grid"],["class","subcat-card","style","cursor: pointer;",3,"click",4,"ngFor","ngForOf"],[1,"subcat-card",2,"cursor","pointer",3,"click"],[1,"card-image"],[3,"error","src","alt"],[1,"card-content"],[1,"category-tag"],[1,"description"],[1,"meta"],[1,"card-actions",3,"click"],[1,"btn","btn-sm","btn-info",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"no-data"],[1,"link",3,"click"],[1,"products-section"],[1,"section-header",2,"display","flex","justify-content","space-between","align-items","center","margin-bottom","20px"],[2,"margin","0"],[1,"btn","btn-sm","btn-secondary",2,"margin-left","15px",3,"click"],[1,"fas","fa-times"],["class","subcat-card",4,"ngFor","ngForOf"],[1,"subcat-card"],[3,"src","alt"],["class","meta","style","color: red;",4,"ngIf"],[1,"card-actions"],[1,"meta",2,"color","red"],[1,"modal-overlay"],[1,"form-section"],["type","text",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["type","checkbox",3,"ngModelChange","ngModel"],["type","text","readonly","","disabled","",2,"background-color","#eee",3,"ngModelChange","ngModel"],[1,"btn","btn-success",3,"click"]],template:function(o,r){1&o&&(a(0,"div",0)(1,"div",1)(2,"div")(3,"button",2),C("click",function(){return r.goBack()}),d(4,"\u2190 Back"),c(),a(5,"h1"),b(6,"i",3),d(7," Manage Subcategories"),c()(),a(8,"button",4),C("click",function(){return r.openForm()}),b(9,"i",5),d(10," Add New Subcategory "),c()(),P(11,RG,2,1,"div",6)(12,LG,2,1,"div",7)(13,VG,35,8,"div",8)(14,HG,4,3,"div",9)(15,KG,12,3,"div",10)(16,QG,35,7,"div",11),c()),2&o&&(p(11),h("ngIf",r.success),p(),h("ngIf",r.error),p(),h("ngIf",r.showForm),p(),h("ngIf",!r.selectedSubcategory),p(),h("ngIf",r.selectedSubcategory),p(),h("ngIf",r.showProductModal))},dependencies:[pe,De,ve,nt,vo,Co,et,yo,yn,$n,rt,dr,tt,gs],styles:[".admin-subcategories[_ngcontent-%COMP%]{padding:20px;background-color:#f5f5f5;border-radius:8px}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;border-bottom:2px solid #007bff;padding-bottom:15px}.header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{display:flex;align-items:center;gap:20px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:#333;font-size:28px}.back-button[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff;border:none;padding:8px 15px;border-radius:4px;cursor:pointer;font-size:14px;transition:background-color .3s}.back-button[_ngcontent-%COMP%]:hover{background-color:#5a6268}.back-button[_ngcontent-%COMP%]:active{transform:scale(.98)}.alert[_ngcontent-%COMP%]{padding:12px 16px;border-radius:4px;margin-bottom:20px}.alert-success[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;border:1px solid #c3e6cb}.alert-error[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border:1px solid #f5c6cb}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.form-section[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:12px;box-shadow:0 5px 20px #0003;width:100%;max-width:500px;max-height:90vh;overflow-y:auto;position:relative;animation:_ngcontent-%COMP%_slideIn .3s ease}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-20px);opacity:0}to{transform:translateY(0);opacity:1}}.form-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:18px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-weight:500;color:#333}.form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ddd;border-radius:4px;font-size:14px;font-family:inherit}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:100px}.form-group[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;margin-top:5px;color:#666}.form-actions[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:25px}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:4px;cursor:pointer;font-size:14px;font-weight:500;transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838}.btn-success[_ngcontent-%COMP%]:disabled{background-color:#6c757d;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#5a6268}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333}.btn-info[_ngcontent-%COMP%]{background-color:#17a2b8;color:#fff}.btn-info[_ngcontent-%COMP%]:hover{background-color:#138496}.btn-sm[_ngcontent-%COMP%]{padding:6px 12px;font-size:12px}.subcategories-section[_ngcontent-%COMP%]{margin-top:30px}.loading[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#666;font-size:16px}.subcategories-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:20px}.subcat-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;overflow:hidden;box-shadow:0 2px 8px #0000001a;transition:transform .3s ease,box-shadow .3s ease}.subcat-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 4px 12px #00000026}.card-image[_ngcontent-%COMP%]{width:100%;height:200px;overflow:hidden;background-color:#f0f0f0}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.card-content[_ngcontent-%COMP%]{padding:15px}.card-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;color:#333;font-size:16px}.category-tag[_ngcontent-%COMP%]{display:inline-block;background-color:#e9ecef;color:#495057;padding:4px 8px;border-radius:3px;font-size:11px;font-weight:500;margin-bottom:8px}.description[_ngcontent-%COMP%]{color:#666;font-size:13px;margin:8px 0;line-height:1.4;max-height:40px;overflow:hidden;text-overflow:ellipsis}.meta[_ngcontent-%COMP%]{color:#999;font-size:12px;margin:8px 0 0}.card-actions[_ngcontent-%COMP%]{padding:10px 15px;border-top:1px solid #eee;display:flex;gap:8px}.card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1}.no-data[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#666;background:#fff;border-radius:8px}.link[_ngcontent-%COMP%]{color:#007bff;cursor:pointer;text-decoration:underline}.link[_ngcontent-%COMP%]:hover{color:#0056b3}"]})}}return t})();function XG(t,n){if(1&t&&(a(0,"div",13),d(1),c()),2&t){const e=f();p(),S(e.success)}}function ZG(t,n){if(1&t&&(a(0,"div",14),d(1),c()),2&t){const e=f();p(),S(e.error)}}function eY(t,n){if(1&t&&(a(0,"div",30),b(1,"img",31),c()),2&t){const e=f(2);p(),h("src",e.formData.logo_url,ue)}}function tY(t,n){if(1&t){const e=R();a(0,"div",15),C("click",function(){return y(e),v(f().closeForm())}),a(1,"div",16),C("click",function(r){return y(e),v(r.stopPropagation())}),a(2,"div",17)(3,"h2"),d(4),c(),a(5,"div",18)(6,"label"),d(7,"Brand Name *"),c(),a(8,"input",19),A("ngModelChange",function(r){y(e);const i=f();return F(i.formData.name,r)||(i.formData.name=r),v(r)}),c()(),a(9,"div",18)(10,"label"),d(11,"Website"),c(),a(12,"input",20),A("ngModelChange",function(r){y(e);const i=f();return F(i.formData.website,r)||(i.formData.website=r),v(r)}),c()(),a(13,"div",18)(14,"label"),d(15,"Description"),c(),a(16,"textarea",21),A("ngModelChange",function(r){y(e);const i=f();return F(i.formData.description,r)||(i.formData.description=r),v(r)}),c()(),a(17,"div",18)(18,"label"),d(19,"Display Order"),c(),a(20,"input",22),A("ngModelChange",function(r){y(e);const i=f();return F(i.formData.display_order,r)||(i.formData.display_order=r),v(r)}),c()(),a(21,"div",18)(22,"label"),d(23,"Brand Logo"),c(),P(24,eY,2,1,"div",23),a(25,"input",24),C("change",function(r){return y(e),v(f().onFileSelected(r))}),c(),a(26,"label",25),d(27,"Or enter image path manually (e.g., assets/images/...)"),c(),a(28,"input",26),A("ngModelChange",function(r){y(e);const i=f();return F(i.formData.logo_url,r)||(i.formData.logo_url=r),v(r)}),c()(),a(29,"div",27)(30,"button",28),C("click",function(){return y(e),v(f().saveBrand())}),d(31),c(),a(32,"button",29),C("click",function(){return y(e),v(f().closeForm())}),d(33,"Cancel"),c()()()()()}if(2&t){const e=f();p(4),D("",e.editingId?"Edit":"Add New"," Brand"),p(4),E("ngModel",e.formData.name),p(4),E("ngModel",e.formData.website),p(4),E("ngModel",e.formData.description),p(4),E("ngModel",e.formData.display_order),p(4),h("ngIf",e.formData.logo_url),p(4),E("ngModel",e.formData.logo_url),p(2),h("disabled",e.loading),p(),D(" ",e.loading?"Saving...":"Save Brand"," ")}}function nY(t,n){1&t&&(a(0,"div",36),d(1,"Loading brands..."),c())}function oY(t,n){if(1&t){const e=R();a(0,"p",51)(1,"a",52),C("click",function(r){return y(e),v(r.stopPropagation())}),d(2,"Visit Website"),c()()}if(2&t){const e=f().$implicit;p(),h("href",e.website,ue)}}function rY(t,n){if(1&t){const e=R();a(0,"div",39),C("click",function(){const r=y(e).$implicit;return v(f(3).viewBrandProducts(r))}),a(1,"div",40)(2,"img",41),C("error",function(r){return y(e),v(r.target.src="/assets/images/placeholder.jpg")}),c()(),a(3,"div",42)(4,"h3"),d(5),c(),a(6,"p",43),d(7),c(),P(8,oY,3,1,"p",44),a(9,"p",45),d(10),c()(),a(11,"div",46),C("click",function(r){return y(e),v(r.stopPropagation())}),a(12,"button",47),C("click",function(){const r=y(e).$implicit;return v(f(3).openForm(r))}),b(13,"i",48),d(14," Edit "),c(),a(15,"button",49),C("click",function(){const r=y(e).$implicit;return v(f(3).deleteBrand(r.id))}),b(16,"i",50),d(17," Delete "),c()()()}if(2&t){const e=n.$implicit;p(2),h("src",e.image||e.logo_url||"/assets/images/placeholder.jpg",ue)("alt",e.name),p(3),S(e.name),p(2),S(e.description),p(),h("ngIf",e.website),p(2),D("Order: ",e.display_order,"")}}function iY(t,n){if(1&t&&(a(0,"div",37),P(1,rY,18,6,"div",38),c()),2&t){const e=f(2);p(),h("ngForOf",e.brands)}}function sY(t,n){if(1&t){const e=R();a(0,"div",53),d(1," No brands found. "),a(2,"a",54),C("click",function(){return y(e),v(f(2).openForm())}),d(3,"Create one now"),c()()}}function aY(t,n){if(1&t&&(a(0,"div",32),P(1,nY,2,0,"div",33)(2,iY,2,1,"div",34)(3,sY,4,0,"div",35),c()),2&t){const e=f();p(),h("ngIf",e.loading&&0===e.brands.length),p(),h("ngIf",e.brands.length>0),p(),h("ngIf",!e.loading&&0===e.brands.length)}}function cY(t,n){1&t&&(a(0,"div",65),d(1,"Out of Stock"),c())}function lY(t,n){if(1&t){const e=R();a(0,"div",61)(1,"div",40),b(2,"img",62),c(),a(3,"div",42)(4,"h3"),d(5),c(),a(6,"div",43),d(7),c(),P(8,cY,2,0,"div",63),c(),a(9,"div",64)(10,"button",47),C("click",function(){const r=y(e).$implicit;return v(f(3).openProductModal(r))}),b(11,"i",48),d(12," Edit "),c(),a(13,"button",49),C("click",function(){const r=y(e).$implicit;return v(f(3).deleteProduct(r))}),b(14,"i",50),d(15," Delete "),c()()()}if(2&t){const e=n.$implicit;p(2),h("src",e.image||"assets/images/placeholder.jpg",ue)("alt",e.name),p(3),S(e.name),p(2),D("Price: \u20b9",e.price,""),p(),h("ngIf",!e.inStock)}}function dY(t,n){if(1&t&&(a(0,"div",37),P(1,lY,16,5,"div",60),c()),2&t){const e=f(2);p(),h("ngForOf",e.products)}}function uY(t,n){if(1&t){const e=R();a(0,"div",53),d(1," No products found in this brand. "),a(2,"a",54),C("click",function(){return y(e),v(f(2).openProductModal())}),d(3,"Add one now"),c()()}}function pY(t,n){if(1&t){const e=R();a(0,"div",55)(1,"div",56)(2,"h2",57),d(3),a(4,"button",58),C("click",function(){return y(e),v(f().closeBrandProducts())}),b(5,"i",59),d(6," Clear Filter "),c()(),a(7,"button",5),C("click",function(){return y(e),v(f().openProductModal())}),b(8,"i",6),d(9," Add Product "),c()(),P(10,dY,2,1,"div",34)(11,uY,4,0,"div",35),c()}if(2&t){const e=f();p(3),D(" Products in ",e.selectedBrand.name," "),p(7),h("ngIf",e.products.length>0),p(),h("ngIf",0===e.products.length)}}function gY(t,n){if(1&t){const e=R();a(0,"div",66)(1,"div",67)(2,"h2"),d(3),c(),a(4,"div",18)(5,"label"),d(6,"Name"),c(),a(7,"input",68),A("ngModelChange",function(r){y(e);const i=f();return F(i.productForm.name,r)||(i.productForm.name=r),v(r)}),c()(),a(8,"div",18)(9,"label"),d(10,"Price"),c(),a(11,"input",22),A("ngModelChange",function(r){y(e);const i=f();return F(i.productForm.price,r)||(i.productForm.price=r),v(r)}),c()(),a(12,"div",18)(13,"label"),d(14,"Image URL"),c(),a(15,"input",68),A("ngModelChange",function(r){y(e);const i=f();return F(i.productForm.image,r)||(i.productForm.image=r),v(r)}),c()(),a(16,"div",18)(17,"label"),d(18,"Description"),c(),a(19,"textarea",69),A("ngModelChange",function(r){y(e);const i=f();return F(i.productForm.description,r)||(i.productForm.description=r),v(r)}),c()(),a(20,"div",18)(21,"label"),d(22,"In Stock"),c(),a(23,"input",70),A("ngModelChange",function(r){y(e);const i=f();return F(i.productForm.inStock,r)||(i.productForm.inStock=r),v(r)}),c()(),a(24,"div",27)(25,"button",71),C("click",function(){return y(e),v(f().saveProduct())}),d(26,"Save"),c(),a(27,"button",29),C("click",function(){return y(e),v(f().closeProductModal())}),d(28,"Cancel"),c()()()()}if(2&t){const e=f();p(3),D("",e.selectedProduct?"Edit":"Add"," Product"),p(4),E("ngModel",e.productForm.name),p(4),E("ngModel",e.productForm.price),p(4),E("ngModel",e.productForm.image),p(4),E("ngModel",e.productForm.description),p(4),E("ngModel",e.productForm.inStock)}}let fY=(()=>{class t{constructor(){this.http=w(kt),this.router=w(me),this.apiUrl=`${ot_apiUrl}`,this.brands=[],this.showForm=!1,this.editingId=null,this.loading=!1,this.error="",this.success="",this.selectedFile=null,this.formData={name:"",description:"",image_url:"",logo_url:"",website:"",website_url:"",display_order:0},this.products=[],this.selectedBrand=null,this.showProductModal=!1,this.selectedProduct=null,this.productForm={},this.backendService=w(Vo)}ngOnInit(){this.loadBrands()}getAuthHeaders(){const e=localStorage.getItem("authToken");return new At(e?{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}:{"Content-Type":"application/json"})}goBack(){this.selectedBrand?this.closeBrandProducts():this.router.navigate(["/admin"])}loadBrands(){this.loading=!0,this.http.get(`${this.apiUrl}/brands`).subscribe(e=>{console.log("Brands API Response:",e);const o=Array.isArray(e)?e:e.data||e.brands||[];console.log("Brands Data After Mapping:",o),this.brands=o.map(r=>({id:r.id,name:r.name,slug:r.slug,description:r.description,image:r.image,logo_url:r.image,website:r.metadata?.website_url||r.website,website_url:r.metadata?.website_url||r.website,display_order:r.metadata?.display_order||0,is_featured:r.metadata?.is_featured||!1,product_count:r.metadata?.product_count||0})),console.log("Final Brands Array:",this.brands),this.loading=!1},e=>{this.error="Failed to load brands",console.error("Error loading brands:",e),this.loading=!1})}openForm(e){e?(this.editingId=e.id||null,this.formData={...e}):(this.editingId=null,this.formData={name:"",description:"",image_url:"",logo_url:"",website:"",display_order:0}),this.showForm=!0,this.error="",this.success=""}closeForm(){this.showForm=!1,this.selectedFile=null}onFileSelected(e){this.selectedFile=e.target.files[0]}saveBrand(){var e=this;return xe(function*(){if(e.formData.name){e.loading=!0;try{if(e.selectedFile){const s=yield e.uploadImage(e.selectedFile);e.formData.logo_url=s}const o={name:e.formData.name,slug:e.formData.slug||e.slugify(e.formData.name),description:e.formData.description,image:e.formData.logo_url,metadata:{website_url:e.formData.website||e.formData.website_url,display_order:e.formData.display_order,is_featured:e.formData.is_featured||!1,product_count:e.formData.product_count||0}};e.http.request(e.editingId?"PUT":"POST",e.editingId?`${e.apiUrl}/brands/${e.editingId}`:`${e.apiUrl}/brands`,{body:o,headers:e.getAuthHeaders()}).subscribe(s=>{e.success=e.editingId?"Brand updated successfully":"Brand created successfully",e.loadBrands(),e.closeForm(),e.loading=!1},s=>{e.error=s.error?.error||"Failed to save brand",e.loading=!1})}catch(o){e.error=o.message||"Failed to upload image",e.loading=!1}}else e.error="Brand name is required"})()}deleteBrand(e){!e||!confirm("Are you sure you want to delete this brand?")||(this.loading=!0,this.http.delete(`${this.apiUrl}/brands/${e}`,{headers:this.getAuthHeaders()}).subscribe(()=>{this.success="Brand deleted successfully",this.loadBrands(),this.loading=!1},o=>{this.error="Failed to delete brand",this.loading=!1}))}uploadImage(e){var o=this;return new Promise((r,i)=>{const s=new FileReader;s.onload=xe(function*(){try{const l=s.result,u=yield o.http.post(`${o.apiUrl}/upload/image`,{base64Data:l,type:"brand"}).toPromise();r(u?.imageUrl||l)}catch(l){i(l)}}),s.readAsDataURL(e)})}viewBrandProducts(e){this.selectedBrand=e,this.loadProducts(e.name)}closeBrandProducts(){this.selectedBrand=null,this.products=[]}loadProducts(e){this.loading=!0,this.backendService.getProducts({brand:e,limit:1e3}).subscribe({next:o=>{this.products=o.data||[],this.loading=!1},error:o=>{console.error("Error loading products:",o),this.error="Failed to load products",this.loading=!1}})}openProductModal(e){e?(this.selectedProduct=e,this.productForm={...e}):(this.selectedProduct=null,this.productForm={name:"",brand:this.selectedBrand?.name||"",price:0,image:"",description:"",inStock:!0,category:""}),this.showProductModal=!0}closeProductModal(){this.showProductModal=!1}saveProduct(){if(!this.productForm.name||!this.productForm.price)return;const e={...this.productForm};this.selectedProduct?this.backendService.updateProduct(this.selectedProduct.id,e).subscribe(()=>{this.selectedBrand&&this.loadProducts(this.selectedBrand.name),this.closeProductModal()}):this.backendService.createProduct(e).subscribe(()=>{this.selectedBrand&&this.loadProducts(this.selectedBrand.name),this.closeProductModal()})}deleteProduct(e){confirm("Delete this product?")&&this.backendService.deleteProduct(e.id).subscribe(()=>{this.selectedBrand&&this.loadProducts(this.selectedBrand.name)})}slugify(e){return e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=se({type:t,selectors:[["app-admin-brands"]],standalone:!0,features:[ae],decls:18,vars:6,consts:[[1,"admin-brands"],[1,"header"],["title","Go back to dashboard",1,"btn","btn-secondary",3,"click"],[1,"fas","fa-arrow-left"],[1,"fas","fa-copyright"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],["class","alert alert-success",4,"ngIf"],["class","alert alert-error",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],["class","brands-section",4,"ngIf"],["class","products-section",4,"ngIf"],["class","modal-overlay",4,"ngIf"],[1,"alert","alert-success"],[1,"alert","alert-error"],[1,"modal-overlay",3,"click"],[1,"form-section",3,"click"],[1,"form-container"],[1,"form-group"],["type","text","placeholder","Enter brand name",3,"ngModelChange","ngModel"],["type","url","placeholder","https://example.com",3,"ngModelChange","ngModel"],["placeholder","Enter brand description",3,"ngModelChange","ngModel"],["type","number",3,"ngModelChange","ngModel"],["class","image-preview","style","margin-bottom: 10px; text-align: center; background: #f7fafc; padding: 10px; border-radius: 8px;",4,"ngIf"],["type","file","accept","image/*",2,"margin-bottom","10px",3,"change"],[2,"font-size","12px","margin-top","5px"],["type","text","placeholder","Enter image URL or path",3,"ngModelChange","ngModel"],[1,"form-actions"],[1,"btn","btn-success",3,"click","disabled"],[1,"btn","btn-secondary",3,"click"],[1,"image-preview",2,"margin-bottom","10px","text-align","center","background","#f7fafc","padding","10px","border-radius","8px"],["alt","Preview",2,"max-height","80px","max-width","100%","object-fit","contain",3,"src"],[1,"brands-section"],["class","loading",4,"ngIf"],["class","brands-grid",4,"ngIf"],["class","no-data",4,"ngIf"],[1,"loading"],[1,"brands-grid"],["class","brand-card","style","cursor: pointer;",3,"click",4,"ngFor","ngForOf"],[1,"brand-card",2,"cursor","pointer",3,"click"],[1,"card-logo"],[3,"error","src","alt"],[1,"card-content"],[1,"description"],["class","website",4,"ngIf"],[1,"meta"],[1,"card-actions",3,"click"],[1,"btn","btn-sm","btn-info",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"website"],["target","_blank",3,"click","href"],[1,"no-data"],[1,"link",3,"click"],[1,"products-section"],[1,"section-header",2,"display","flex","justify-content","space-between","align-items","center","margin-bottom","20px"],[2,"margin","0"],[1,"btn","btn-sm","btn-secondary",2,"margin-left","15px",3,"click"],[1,"fas","fa-times"],["class","brand-card",4,"ngFor","ngForOf"],[1,"brand-card"],[3,"src","alt"],["class","meta","style","color: red;",4,"ngIf"],[1,"card-actions"],[1,"meta",2,"color","red"],[1,"modal-overlay"],[1,"form-section"],["type","text",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"btn","btn-success",3,"click"]],template:function(o,r){1&o&&(a(0,"div",0)(1,"div",1)(2,"div")(3,"button",2),C("click",function(){return r.goBack()}),b(4,"i",3),d(5," Back "),c(),a(6,"h1"),b(7,"i",4),d(8," Manage Brands"),c()(),a(9,"button",5),C("click",function(){return r.openForm()}),b(10,"i",6),d(11," Add New Brand "),c()(),P(12,XG,2,1,"div",7)(13,ZG,2,1,"div",8)(14,tY,34,9,"div",9)(15,aY,4,3,"div",10)(16,pY,12,3,"div",11)(17,gY,29,6,"div",12),c()),2&o&&(p(12),h("ngIf",r.success),p(),h("ngIf",r.error),p(),h("ngIf",r.showForm),p(),h("ngIf",!r.selectedBrand),p(),h("ngIf",r.selectedBrand),p(),h("ngIf",r.showProductModal))},dependencies:[pe,De,ve,nt,et,yo,yn,rt,tt,gs],styles:[".admin-brands[_ngcontent-%COMP%]{padding:20px;background-color:#f5f5f5;border-radius:8px}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;border-bottom:2px solid #007bff;padding-bottom:15px}.header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{display:flex;align-items:center;gap:20px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:#333;font-size:28px}.back-button[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff;border:none;padding:8px 15px;border-radius:4px;cursor:pointer;font-size:14px;transition:background-color .3s}.back-button[_ngcontent-%COMP%]:hover{background-color:#5a6268}.back-button[_ngcontent-%COMP%]:active{transform:scale(.98)}.alert[_ngcontent-%COMP%]{padding:12px 16px;border-radius:4px;margin-bottom:20px}.alert-success[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;border:1px solid #c3e6cb}.alert-error[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border:1px solid #f5c6cb}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.form-section[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:12px;box-shadow:0 5px 20px #0003;width:100%;max-width:500px;max-height:90vh;overflow-y:auto;position:relative;animation:_ngcontent-%COMP%_slideIn .3s ease}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-20px);opacity:0}to{transform:translateY(0);opacity:1}}.form-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:18px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-weight:500;color:#333}.form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=url][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ddd;border-radius:4px;font-size:14px;font-family:inherit}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:100px}.form-group[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;margin-top:5px;color:#666}.form-actions[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:25px}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:4px;cursor:pointer;font-size:14px;font-weight:500;transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838}.btn-success[_ngcontent-%COMP%]:disabled{background-color:#6c757d;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#5a6268}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333}.btn-info[_ngcontent-%COMP%]{background-color:#17a2b8;color:#fff}.btn-info[_ngcontent-%COMP%]:hover{background-color:#138496}.btn-sm[_ngcontent-%COMP%]{padding:6px 12px;font-size:12px}.brands-section[_ngcontent-%COMP%]{margin-top:30px}.loading[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#666;font-size:16px}.brands-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:20px}.brand-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;overflow:hidden;box-shadow:0 2px 8px #0000001a;transition:transform .3s ease,box-shadow .3s ease}.brand-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 4px 12px #00000026}.card-logo[_ngcontent-%COMP%]{width:100%;height:200px;overflow:hidden;background:#fff;display:flex;align-items:center;justify-content:center;border-bottom:1px solid #eee;padding:15px}.card-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;width:auto;height:auto;object-fit:contain;display:block}.card-content[_ngcontent-%COMP%]{padding:15px}.card-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;color:#333;font-size:16px}.description[_ngcontent-%COMP%]{color:#666;font-size:13px;margin:8px 0;line-height:1.4;max-height:40px;overflow:hidden;text-overflow:ellipsis}.website[_ngcontent-%COMP%]{margin:8px 0}.website[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none;font-size:13px}.website[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.meta[_ngcontent-%COMP%]{color:#999;font-size:12px;margin:8px 0 0}.card-actions[_ngcontent-%COMP%]{padding:10px 15px;border-top:1px solid #eee;display:flex;gap:8px}.card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1}.no-data[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#666;background:#fff;border-radius:8px}.link[_ngcontent-%COMP%]{color:#007bff;cursor:pointer;text-decoration:underline}.link[_ngcontent-%COMP%]:hover{color:#0056b3}"]})}}return t})();function hY(t,n){if(1&t&&(a(0,"div",42),d(1),c()),2&t){const e=f();p(),S(e.success)}}function mY(t,n){if(1&t&&(a(0,"div",43),d(1),c()),2&t){const e=f();p(),S(e.error)}}function _Y(t,n){if(1&t&&(a(0,"option",44),d(1),c()),2&t){const e=n.$implicit;h("value",e.name),p(),S(e.name)}}function bY(t,n){if(1&t&&(a(0,"option",44),d(1),c()),2&t){const e=n.$implicit;h("value",e.name),p(),S(e.name)}}function yY(t,n){if(1&t&&(a(0,"option",44),d(1),c()),2&t){const e=n.$implicit;h("value",e.name),p(),S(e.name)}}function vY(t,n){1&t&&(a(0,"p",53),d(1,"(Primary Image)"),c())}function CY(t,n){if(1&t){const e=R();a(0,"div",48),b(1,"img",49),a(2,"button",50),C("click",function(){const r=y(e).index;return v(f(2).removeImage(r))}),b(3,"i",51),c(),P(4,vY,2,0,"p",52),c()}if(2&t){const e=n.$implicit,o=n.index;p(),h("src",e,ue)("alt","Product image "+(o+1)),p(3),h("ngIf",0===o)}}function xY(t,n){if(1&t&&(a(0,"div",45)(1,"h4"),d(2,"Current Images"),c(),a(3,"div",46),P(4,CY,5,3,"div",47),c()()),2&t){const e=f();p(4),h("ngForOf",e.product.images)}}function MY(t,n){if(1&t&&(a(0,"li"),d(1),c()),2&t){const e=n.$implicit;p(),S(e.name)}}function PY(t,n){if(1&t&&(a(0,"div",58)(1,"p"),d(2),c(),a(3,"ul"),P(4,MY,2,1,"li",59),c()()),2&t){const e=f(2);p(2),D("Selected files: ",e.selectedFiles.length,""),p(2),h("ngForOf",e.selectedFiles)}}function wY(t,n){if(1&t){const e=R();a(0,"div",54)(1,"input",55,0),C("change",function(r){return y(e),v(f().onFilesSelected(r))}),c(),a(3,"p",56),d(4,"Select one or more images from your computer"),c(),P(5,PY,5,2,"div",57),c()}if(2&t){const e=f();p(5),h("ngIf",e.selectedFiles.length>0)}}function OY(t,n){if(1&t){const e=R();a(0,"button",65),C("click",function(){y(e);const r=f().index;return v(f(2).removeUrlInput(r))}),b(1,"i",66),c()}}function kY(t,n){if(1&t){const e=R();a(0,"div",62)(1,"input",63),A("ngModelChange",function(r){const i=y(e).index,s=f(2);return F(s.infoUrlList[i],r)||(s.infoUrlList[i]=r),v(r)}),c(),P(2,OY,2,0,"button",64),c()}if(2&t){const e=n.index,o=f(2);p(),E("ngModel",o.infoUrlList[e]),p(),h("ngIf",o.infoUrlList.length>1)}}function DY(t,n){if(1&t){const e=R();a(0,"div",54),P(1,kY,3,2,"div",60),a(2,"button",61),C("click",function(){return y(e),v(f().addUrlInput())}),d(3,"+ Add another URL"),c()()}if(2&t){const e=f();p(),h("ngForOf",e.infoUrlList)("ngForTrackBy",e.trackByIndex)}}function SY(t,n){if(1&t&&(a(0,"span"),d(1),c()),2&t){const e=f();p(),S(e.editingId?"Update Product":"Create Product")}}function IY(t,n){1&t&&(a(0,"span"),d(1,"Saving..."),c())}const TY=[{path:"",component:jV},{path:"shop",component:uW},{path:"all-categories",component:Jq},{path:"category/:slug/:subcategorySlug",component:bO},{path:"category/:slug",component:bO},{path:"product/:id",component:Pz},{path:"about-us",component:wz},{path:"contact-us",component:Oz},{path:"cart",component:Tz},{path:"checkout",component:c$},{path:"quote",component:Rz},{path:"quote-checkout",component:Oj},{path:"order-confirmation/:id",component:y$},{path:"orders",component:RW},{path:"order/:id",component:KW},{path:"order/:id/track",component:iG},{path:"wishlist",component:M$},{path:"compare",component:A$},{path:"my-account",component:yH},{path:"whatsapp",component:TH},{path:"debug/storage",component:(()=>{class t{constructor(){this.orderService=w(hr),this.authService=w(Qe),this.orders=[],this.currentUser=null,this.storageKeys=[],this.storageContent={}}ngOnInit(){this.refreshDebugInfo()}refreshDebugInfo(){this.currentUser=this.authService.currentUser(),this.orderService.getUserOrders().subscribe(e=>{this.orders=e.orders}),this.storageKeys=Object.keys(localStorage),this.storageContent={};for(let e of this.storageKeys)if(e.includes("order")||e.includes("user")||"auth-token"===e)try{const o=localStorage.getItem(e);if(o)try{this.storageContent[e]=JSON.parse(o)}catch{this.storageContent[e]=o}}catch{this.storageContent[e]="Error reading"}console.log("Debug Info Updated",{currentUser:this.currentUser,ordersCount:this.orders.length,storageKeys:this.storageKeys,storageContent:this.storageContent})}clearAllOrders(){if(confirm("Are you sure you want to clear all orders from localStorage?")){for(let e of this.storageKeys)e.includes("order")&&localStorage.removeItem(e);this.refreshDebugInfo(),alert("All order data cleared!")}}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=se({type:t,selectors:[["app-debug-storage"]],standalone:!0,features:[ae],decls:36,vars:13,consts:[[2,"padding","20px","max-width","1000px","margin","0 auto","font-family","monospace"],[2,"background","#f5f5f5","padding","15px","border-radius","8px","margin-bottom","20px"],[2,"margin-top","20px"],[2,"padding","10px 20px","background","#2196F3","color","white","border","none","border-radius","4px","cursor","pointer",3,"click"],[2,"padding","10px 20px","background","#dc3545","color","white","border","none","border-radius","4px","cursor","pointer","margin-left","10px",3,"click"]],template:function(o,r){1&o&&(a(0,"div",0)(1,"h2"),d(2,"\u{1f50d} Storage Debug Console"),c(),a(3,"div",1)(4,"h3"),d(5,"Current User"),c(),a(6,"pre"),d(7),Q(8,"json"),c()(),a(9,"div",1)(10,"h3"),d(11,"Orders from Service"),c(),a(12,"p")(13,"strong"),d(14,"Count:"),c(),d(15),c(),a(16,"pre"),d(17),Q(18,"json"),c()(),a(19,"div",1)(20,"h3"),d(21,"localStorage Keys"),c(),a(22,"pre"),d(23),Q(24,"json"),c()(),a(25,"div",1)(26,"h3"),d(27,"All localStorage Content"),c(),a(28,"pre"),d(29),Q(30,"json"),c()(),a(31,"div",2)(32,"button",3),C("click",function(){return r.refreshDebugInfo()}),d(33," \u{1f504} Refresh "),c(),a(34,"button",4),C("click",function(){return r.clearAllOrders()}),d(35," \u274c Clear All Orders "),c()()()),2&o&&(p(7),S(Ne(8,5,r.currentUser)),p(8),D(" ",r.orders.length,""),p(2),S(Ne(18,7,r.orders)),p(6),S(Ne(24,9,r.storageKeys)),p(6),S(Ne(30,11,r.storageContent)))},dependencies:[pe,PM],styles:["[_nghost-%COMP%]{display:block;background:#fff;min-height:100vh}"]})}}return t})()},{path:"admin",canActivate:[()=>{const t=w(Qe),n=w(me),e=t.currentUser();return!(!e||"admin"!==e.role)||(n.navigate(["/"]),!1)}],children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:FH},{path:"products",component:cq},{path:"products/add",component:_q},{path:"users",component:Yq},{path:"categories",component:fG},{path:"categories/:slug",component:FG},{path:"subcategories",component:JG},{path:"brands",component:fY},{path:"products/edit",component:(()=>{class t{constructor(){this.http=w(kt),this.router=w(me),this.route=w(sn),this.apiUrl=`${ot_apiUrl}`,this.product={name:"",description:"",category:"",subcategory:"",brand:"",price:0,image:"",images:[],in_stock:!0,stock_count:0,is_hot:!1,is_new:!1,is_featured:!1,rating:0},this.categories=[],this.subcategories=[],this.brands=[],this.loading=!1,this.error="",this.success="",this.editingId=null,this.selectedFiles=[],this.showForm=!1,this.uploadMode="file",this.infoUrlList=[""]}ngOnInit(){this.loadCategories(),this.loadBrands(),this.route.queryParams.subscribe(e=>{e.id&&(this.editingId=parseInt(e.id),this.loadProduct(this.editingId),this.showForm=!0)})}getAuthHeaders(){const e=localStorage.getItem("authToken");return new At(e?{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}:{"Content-Type":"application/json"})}loadCategories(){this.http.get(`${this.apiUrl}/categories?includeDetails=true`).subscribe({next:e=>{this.categories=e},error:e=>{console.error("Error loading categories:",e)}})}loadBrands(){this.http.get(`${this.apiUrl}/brands`).subscribe({next:e=>{this.brands=e.brands||e.data||[]},error:e=>{console.error("Error loading brands:",e)}})}loadSubcategories(){this.product.category?this.http.get(`${this.apiUrl}/categories?includeDetails=true`).subscribe({next:e=>{const r=e.find(i=>i.name===this.product.category);this.subcategories=r?.subcategories||[]},error:e=>{console.error("Error loading subcategories:",e)}}):this.subcategories=[]}loadProduct(e){this.loading=!0,this.http.get(`${this.apiUrl}/products/${e}`).subscribe({next:o=>{const r=o.data||o;this.product={...r,images:r.images||(r.image?[r.image]:[])},this.loading=!1,this.loadSubcategories()},error:o=>{this.error="Failed to load product",console.error("Error loading product:",o),this.loading=!1}})}onCategoryChange(){this.product.subcategory="",this.loadSubcategories()}onFilesSelected(e){this.selectedFiles=Array.from(e.target.files)}addUrlInput(){this.infoUrlList.push("")}removeUrlInput(e){this.infoUrlList.splice(e,1)}trackByIndex(e,o){return e}downloadImagesFromUrls(){var e=this;return xe(function*(){const o=e.infoUrlList.filter(i=>i&&i.trim().length>0),r=[];for(const i of o)try{const s=yield e.http.post(`${e.apiUrl}/upload/image`,{imageUrl:i,type:"product"}).toPromise();s?.imageUrl&&r.push(s.imageUrl)}catch(s){console.error("Error downloading image from URL:",i,s)}return r})()}uploadImages(){var e=this;return xe(function*(){const o=[];for(const r of e.selectedFiles)try{const i=new FileReader,s=yield new Promise((l,u)=>{i.onload=xe(function*(){try{const g=i.result,m=yield e.http.post(`${e.apiUrl}/upload/image`,{base64Data:g,type:"product"}).toPromise();l(m?.imageUrl||g)}catch(g){u(g)}}),i.readAsDataURL(r)});o.push(s)}catch(i){console.error("Error uploading image:",i)}return o})()}saveProduct(){var e=this;return xe(function*(){if(e.product.name&&e.product.category){e.loading=!0;try{let o=[];"file"===e.uploadMode&&e.selectedFiles.length>0?o=yield e.uploadImages():"url"===e.uploadMode&&(o=yield e.downloadImagesFromUrls()),o.length>0&&(e.product.images=[...e.product.images||[],...o]);const r={name:e.product.name,slug:e.product.slug||e.slugify(e.product.name),description:e.product.description,category:e.product.category,subcategory:e.product.subcategory,brand:e.product.brand,price:e.product.price,image:e.product.images?.[0]||e.product.image,in_stock:e.product.in_stock,stock_count:e.product.stock_count,is_hot:e.product.is_hot,is_new:e.product.is_new,is_featured:e.product.is_featured,rating:e.product.rating,product_url:e.product.product_url,metadata:{...e.product.metadata,images:e.product.images}};e.http.request(e.editingId?"PUT":"POST",e.editingId?`${e.apiUrl}/products/${e.editingId}`:`${e.apiUrl}/products`,{body:r,headers:e.getAuthHeaders()}).subscribe({next:l=>{e.success=e.editingId?"Product updated successfully":"Product created successfully",e.selectedFiles=[],e.loading=!1;const u=l.data||l,g=e.editingId||u.id||u.productId;setTimeout(()=>{e.router.navigate(g?["/product",g]:["/shop"])},1500)},error:l=>{e.error=l.error?.error||"Failed to save product",e.loading=!1}})}catch(o){e.error=o.message||"Failed to save product",e.loading=!1}}else e.error="Product name and category are required"})()}closeForm(){this.showForm=!1,this.selectedFiles=[]}removeImage(e){this.product.images&&this.product.images.splice(e,1)}goBack(){this.router.navigate(["/shop"])}slugify(e){return e.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+|-+$/g,"")}onStockCountChange(){0===this.product.stock_count&&(this.product.in_stock=!1)}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=se({type:t,selectors:[["app-admin-product-edit"]],standalone:!0,features:[ae],decls:97,vars:29,consts:[["fileInput",""],[1,"admin-product-edit"],[1,"header"],[1,"back-button",3,"click"],[1,"fas","fa-box"],["class","alert alert-success",4,"ngIf"],["class","alert alert-error",4,"ngIf"],[1,"form-section"],[1,"form-container"],[1,"form-group"],["type","text","placeholder","Enter product name",3,"ngModelChange","ngModel"],[1,"form-row"],[3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"ngModelChange","ngModel"],["placeholder","Enter product description","rows","4",3,"ngModelChange","ngModel"],["type","number","placeholder","0.00","step","0.01",3,"ngModelChange","ngModel"],["type","number","min","0","max","5","step","0.1",3,"ngModelChange","ngModel"],["type","text","placeholder","Enter product URL",3,"ngModelChange","ngModel"],["type","number","min","0","placeholder","0",3,"ngModelChange","change","ngModel"],[1,"form-row","checkbox-row"],[1,"checkbox-group"],["type","checkbox","id","in_stock",3,"ngModelChange","ngModel"],["for","in_stock"],["type","checkbox","id","is_hot",3,"ngModelChange","ngModel"],["for","is_hot"],["type","checkbox","id","is_new",3,"ngModelChange","ngModel"],["for","is_new"],["type","checkbox","id","is_featured",3,"ngModelChange","ngModel"],["for","is_featured"],["class","current-images",4,"ngIf"],[1,"upload-section"],[1,"upload-tabs"],[1,"tab-btn",3,"click"],[1,"fas","fa-upload"],[1,"fas","fa-link"],["class","upload-input-group",4,"ngIf"],[1,"form-actions"],[1,"btn","btn-primary",3,"click","disabled"],[4,"ngIf"],[1,"btn","btn-secondary",3,"click"],[1,"alert","alert-success"],[1,"alert","alert-error"],[3,"value"],[1,"current-images"],[1,"images-grid"],["class","image-item",4,"ngFor","ngForOf"],[1,"image-item"],[3,"src","alt"],["type","button",1,"remove-btn",3,"click"],[1,"fas","fa-times"],["class","image-label",4,"ngIf"],[1,"image-label"],[1,"upload-input-group"],["type","file","multiple","","accept","image/*",1,"file-input",3,"change"],[1,"upload-hint"],["class","selected-files",4,"ngIf"],[1,"selected-files"],[4,"ngFor","ngForOf"],["class","url-input-row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"btn-text",3,"click"],[1,"url-input-row"],["type","text","placeholder","https://example.com/image.jpg",1,"url-input",3,"ngModelChange","ngModel"],["class","btn-icon danger",3,"click",4,"ngIf"],[1,"btn-icon","danger",3,"click"],[1,"fas","fa-trash"]],template:function(o,r){1&o&&(a(0,"div",1)(1,"div",2)(2,"button",3),C("click",function(){return r.goBack()}),d(3,"\u2190 Back to Shop"),c(),a(4,"h1"),b(5,"i",4),d(6),c()(),P(7,hY,2,1,"div",5)(8,mY,2,1,"div",6),a(9,"div",7)(10,"div",8)(11,"div",9)(12,"label"),d(13,"Product Name *"),c(),a(14,"input",10),A("ngModelChange",function(s){return F(r.product.name,s)||(r.product.name=s),s}),c()(),a(15,"div",11)(16,"div",9)(17,"label"),d(18,"Category *"),c(),a(19,"select",12),A("ngModelChange",function(s){return F(r.product.category,s)||(r.product.category=s),s}),C("change",function(){return r.onCategoryChange()}),a(20,"option",13),d(21,"Select Category"),c(),P(22,_Y,2,2,"option",14),c()(),a(23,"div",9)(24,"label"),d(25,"Subcategory"),c(),a(26,"select",15),A("ngModelChange",function(s){return F(r.product.subcategory,s)||(r.product.subcategory=s),s}),a(27,"option",13),d(28,"Select Subcategory"),c(),P(29,bY,2,2,"option",14),c()(),a(30,"div",9)(31,"label"),d(32,"Brand"),c(),a(33,"select",15),A("ngModelChange",function(s){return F(r.product.brand,s)||(r.product.brand=s),s}),a(34,"option",13),d(35,"Select Brand"),c(),P(36,yY,2,2,"option",14),c()()(),a(37,"div",9)(38,"label"),d(39,"Description"),c(),a(40,"textarea",16),A("ngModelChange",function(s){return F(r.product.description,s)||(r.product.description=s),s}),c()(),a(41,"div",11)(42,"div",9)(43,"label"),d(44,"Price"),c(),a(45,"input",17),A("ngModelChange",function(s){return F(r.product.price,s)||(r.product.price=s),s}),c()(),a(46,"div",9)(47,"label"),d(48,"Rating"),c(),a(49,"input",18),A("ngModelChange",function(s){return F(r.product.rating,s)||(r.product.rating=s),s}),c()(),a(50,"div",9)(51,"label"),d(52,"Product URL"),c(),a(53,"input",19),A("ngModelChange",function(s){return F(r.product.product_url,s)||(r.product.product_url=s),s}),c()(),a(54,"div",9)(55,"label"),d(56,"Stock Count"),c(),a(57,"input",20),A("ngModelChange",function(s){return F(r.product.stock_count,s)||(r.product.stock_count=s),s}),C("change",function(){return r.onStockCountChange()}),c()()(),a(58,"div",21)(59,"div",22)(60,"input",23),A("ngModelChange",function(s){return F(r.product.in_stock,s)||(r.product.in_stock=s),s}),c(),a(61,"label",24),d(62,"In Stock"),c()(),a(63,"div",22)(64,"input",25),A("ngModelChange",function(s){return F(r.product.is_hot,s)||(r.product.is_hot=s),s}),c(),a(65,"label",26),d(66,"Hot Product"),c()(),a(67,"div",22)(68,"input",27),A("ngModelChange",function(s){return F(r.product.is_new,s)||(r.product.is_new=s),s}),c(),a(69,"label",28),d(70,"New Product"),c()(),a(71,"div",22)(72,"input",29),A("ngModelChange",function(s){return F(r.product.is_featured,s)||(r.product.is_featured=s),s}),c(),a(73,"label",30),d(74,"Featured"),c()()(),a(75,"div",9)(76,"label"),d(77,"Product Images"),c(),P(78,xY,5,1,"div",31),a(79,"div",32)(80,"h4"),d(81,"Add New Images"),c(),a(82,"div",33)(83,"button",34),C("click",function(){return r.uploadMode="file"}),b(84,"i",35),d(85," Upload File "),c(),a(86,"button",34),C("click",function(){return r.uploadMode="url"}),b(87,"i",36),d(88," From URL "),c()(),P(89,wY,6,1,"div",37)(90,DY,4,2,"div",37),c()(),a(91,"div",38)(92,"button",39),C("click",function(){return r.saveProduct()}),P(93,SY,2,1,"span",40)(94,IY,2,0,"span",40),c(),a(95,"button",41),C("click",function(){return r.goBack()}),d(96,"Cancel"),c()()()()()),2&o&&(p(6),D(" ",r.editingId?"Edit":"Add New"," Product"),p(),h("ngIf",r.success),p(),h("ngIf",r.error),p(6),E("ngModel",r.product.name),p(5),E("ngModel",r.product.category),p(3),h("ngForOf",r.categories),p(4),E("ngModel",r.product.subcategory),p(3),h("ngForOf",r.subcategories),p(4),E("ngModel",r.product.brand),p(3),h("ngForOf",r.brands),p(4),E("ngModel",r.product.description),p(5),E("ngModel",r.product.price),p(4),E("ngModel",r.product.rating),p(4),E("ngModel",r.product.product_url),p(4),E("ngModel",r.product.stock_count),p(3),E("ngModel",r.product.in_stock),p(4),E("ngModel",r.product.is_hot),p(4),E("ngModel",r.product.is_new),p(4),E("ngModel",r.product.is_featured),p(6),h("ngIf",r.product.images&&r.product.images.length>0),p(5),B("active","file"===r.uploadMode),p(3),B("active","url"===r.uploadMode),p(3),h("ngIf","file"===r.uploadMode),p(),h("ngIf","url"===r.uploadMode),p(2),h("disabled",r.loading),p(),h("ngIf",!r.loading),p(),h("ngIf",r.loading))},dependencies:[pe,De,ve,nt,vo,Co,et,yo,yn,$n,rt,us,Im,tt,gs],styles:[".admin-product-edit[_ngcontent-%COMP%]{padding:20px;background-color:#f5f5f5;border-radius:8px}.header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;margin-bottom:30px;border-bottom:2px solid #007bff;padding-bottom:15px}.back-button[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff;border:none;padding:8px 15px;border-radius:4px;cursor:pointer;font-size:14px;transition:background-color .3s}.back-button[_ngcontent-%COMP%]:hover{background-color:#5a6268}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:#333;font-size:28px;flex:1}.alert[_ngcontent-%COMP%]{padding:12px 16px;border-radius:4px;margin-bottom:20px}.alert-success[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;border:1px solid #c3e6cb}.alert-error[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border:1px solid #f5c6cb}.form-section[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:8px;box-shadow:0 2px 8px #0000001a}.form-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:600;color:#333}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:4px;font-size:14px;font-family:inherit}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 3px #007bff1a}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px}.checkbox-row[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(150px,1fr))}.checkbox-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.checkbox-group[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:auto;cursor:pointer}.checkbox-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0;font-weight:500;cursor:pointer}.current-images[_ngcontent-%COMP%]{margin-bottom:20px;padding:15px;background-color:#f9f9f9;border-radius:4px}.current-images[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:0;margin-bottom:15px;color:#333}.images-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:15px}.image-item[_ngcontent-%COMP%]{position:relative;border-radius:4px;overflow:hidden;background:#f0f0f0}.image-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:150px;object-fit:cover;display:block}.image-item[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;background:#f00c;color:#fff;border:none;border-radius:50%;width:30px;height:30px;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:16px;transition:background .3s}.image-item[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]:hover{background:red}.image-label[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;background:#007bffe6;color:#fff;padding:4px 8px;margin:0;font-size:12px;font-weight:600}.upload-section[_ngcontent-%COMP%]{padding:20px;border:2px dashed #007bff;border-radius:4px;background-color:#f0f7ff;text-align:center}.upload-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:0;color:#007bff}.upload-section[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:block;margin:10px 0;padding:10px;border:1px solid #007bff;border-radius:4px;background:#fff;cursor:pointer}.upload-hint[_ngcontent-%COMP%]{color:#666;font-size:13px;margin:10px 0 0}.selected-files[_ngcontent-%COMP%]{margin-top:15px;padding:10px;background:#fff;border-radius:4px}.selected-files[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 10px;font-weight:600;color:#333}.selected-files[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.selected-files[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:5px 0;color:#555;font-size:13px;border-bottom:1px solid #eee}.selected-files[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.form-actions[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:30px;padding-top:20px;border-top:1px solid #eee}.btn[_ngcontent-%COMP%]{padding:12px 20px;border:none;border-radius:4px;font-size:14px;font-weight:600;cursor:pointer;transition:all .3s;display:flex;align-items:center;gap:8px}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#0056b3}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#5a6268}@media (max-width: 768px){.header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.images-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(100px,1fr))}.form-actions[_ngcontent-%COMP%]{flex-direction:column}.btn[_ngcontent-%COMP%]{justify-content:center}}.image-manager-section[_ngcontent-%COMP%]{margin-top:40px;padding-top:40px;border-top:2px solid #dee2e6}.image-manager-container[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 4px #0000001a}.image-manager-container[_ngcontent-%COMP%]   app-product-image-manager[_ngcontent-%COMP%]{display:block}"]})}}return t})()}]},{path:"**",redirectTo:""}];let EY=(()=>{class t{constructor(){}intercept(e,o){const r=e.clone({setHeaders:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"}});return o.handle(r).pipe(Ce(i=>(403===i.status&&console.error("Access Forbidden - Possible security violation"),401===i.status&&console.error("Unauthorized - Authentication required"),ir(()=>i))))}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac})}}return t})(),AY=(()=>{class t{constructor(e){this.router=e}intercept(e,o){const r=localStorage.getItem("authToken");return r&&(e=e.clone({setHeaders:{Authorization:`Bearer ${r}`}})),o.handle(e).pipe(Ce(i=>((401===i.status||403===i.status)&&(localStorage.removeItem("authToken"),localStorage.removeItem("user"),this.router.navigate(["/login"])),ir(()=>i))))}static{this.\u0275fac=function(o){return new(o||t)(W(me))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac})}}return t})();(function hR(t,n){return U5({rootComponent:t,...YM(n)})})(aV,{providers:[function FL(t,...n){return ni([{provide:ls,multi:!0,useValue:t},[],{provide:sn,useFactory:_w,deps:[me]},{provide:id,multi:!0,useFactory:bw},n.map(e=>e.\u0275providers)])}(TY),function dU(...t){const n=[kt,I2,D2,{provide:iu,useExisting:D2},{provide:su,useExisting:I2},{provide:hc,useValue:lU,multi:!0},{provide:Rm,useValue:!0},{provide:A2,useClass:cU}];for(const e of t)n.push(...e.\u0275providers);return ni(n)}(function uU(){return function qr(t,n){return{\u0275kind:t,\u0275providers:n}}(pr.LegacyInterceptors,[{provide:N2,useFactory:Z9},{provide:hc,useExisting:N2,multi:!0}])}()),{provide:Fm,useClass:EY,multi:!0},{provide:Fm,useClass:AY,multi:!0}]}).catch(t=>console.error(t))}},Cu=>{Cu(Cu.s=612)}]);